function iR(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function pT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ip={exports:{}},au={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function sR(){if(X0)return au;X0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return au.Fragment=e,au.jsx=t,au.jsxs=t,au}var W0;function aR(){return W0||(W0=1,ip.exports=sR()),ip.exports}var S=aR(),sp={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function oR(){if(Z0)return ke;Z0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function E(D){return D===null||typeof D!="object"?null:(D=_&&D[_]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function P(D,W,ue){this.props=D,this.context=W,this.refs=k,this.updater=ue||w}P.prototype.isReactComponent={},P.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},P.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function j(){}j.prototype=P.prototype;function U(D,W,ue){this.props=D,this.context=W,this.refs=k,this.updater=ue||w}var $=U.prototype=new j;$.constructor=U,C($,P.prototype),$.isPureReactComponent=!0;var J=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function O(D,W,ue,X,fe,be){return ue=be.ref,{$$typeof:n,type:D,key:W,ref:ue!==void 0?ue:null,props:be}}function x(D,W){return O(D.type,W,void 0,void 0,void 0,D.props)}function M(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function L(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ue){return W[ue]})}var z=/\/+/g;function H(D,W){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):W.toString(36)}function N(){}function de(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(N,N):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function me(D,W,ue,X,fe){var be=typeof D;(be==="undefined"||be==="boolean")&&(D=null);var Ee=!1;if(D===null)Ee=!0;else switch(be){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(D.$$typeof){case n:case e:Ee=!0;break;case v:return Ee=D._init,me(Ee(D._payload),W,ue,X,fe)}}if(Ee)return fe=fe(D),Ee=X===""?"."+H(D,0):X,J(fe)?(ue="",Ee!=null&&(ue=Ee.replace(z,"$&/")+"/"),me(fe,W,ue,"",function(st){return st})):fe!=null&&(M(fe)&&(fe=x(fe,ue+(fe.key==null||D&&D.key===fe.key?"":(""+fe.key).replace(z,"$&/")+"/")+Ee)),W.push(fe)),1;Ee=0;var Oe=X===""?".":X+":";if(J(D))for(var Me=0;Me<D.length;Me++)X=D[Me],be=Oe+H(X,Me),Ee+=me(X,W,ue,be,fe);else if(Me=E(D),typeof Me=="function")for(D=Me.call(D),Me=0;!(X=D.next()).done;)X=X.value,be=Oe+H(X,Me++),Ee+=me(X,W,ue,be,fe);else if(be==="object"){if(typeof D.then=="function")return me(de(D),W,ue,X,fe);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function q(D,W,ue){if(D==null)return D;var X=[],fe=0;return me(D,X,"","",function(be){return W.call(ue,be,fe++)}),X}function re(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(ue){(D._status===0||D._status===-1)&&(D._status=1,D._result=ue)},function(ue){(D._status===0||D._status===-1)&&(D._status=2,D._result=ue)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var K=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ge(){}return ke.Children={map:q,forEach:function(D,W,ue){q(D,function(){W.apply(this,arguments)},ue)},count:function(D){var W=0;return q(D,function(){W++}),W},toArray:function(D){return q(D,function(W){return W})||[]},only:function(D){if(!M(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},ke.Component=P,ke.Fragment=t,ke.Profiler=a,ke.PureComponent=U,ke.StrictMode=i,ke.Suspense=m,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,ke.__COMPILER_RUNTIME={__proto__:null,c:function(D){return te.H.useMemoCache(D)}},ke.cache=function(D){return function(){return D.apply(null,arguments)}},ke.cloneElement=function(D,W,ue){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var X=C({},D.props),fe=D.key,be=void 0;if(W!=null)for(Ee in W.ref!==void 0&&(be=void 0),W.key!==void 0&&(fe=""+W.key),W)!ae.call(W,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&W.ref===void 0||(X[Ee]=W[Ee]);var Ee=arguments.length-2;if(Ee===1)X.children=ue;else if(1<Ee){for(var Oe=Array(Ee),Me=0;Me<Ee;Me++)Oe[Me]=arguments[Me+2];X.children=Oe}return O(D.type,fe,void 0,void 0,be,X)},ke.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},ke.createElement=function(D,W,ue){var X,fe={},be=null;if(W!=null)for(X in W.key!==void 0&&(be=""+W.key),W)ae.call(W,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(fe[X]=W[X]);var Ee=arguments.length-2;if(Ee===1)fe.children=ue;else if(1<Ee){for(var Oe=Array(Ee),Me=0;Me<Ee;Me++)Oe[Me]=arguments[Me+2];fe.children=Oe}if(D&&D.defaultProps)for(X in Ee=D.defaultProps,Ee)fe[X]===void 0&&(fe[X]=Ee[X]);return O(D,be,void 0,void 0,null,fe)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(D){return{$$typeof:d,render:D}},ke.isValidElement=M,ke.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:re}},ke.memo=function(D,W){return{$$typeof:p,type:D,compare:W===void 0?null:W}},ke.startTransition=function(D){var W=te.T,ue={};te.T=ue;try{var X=D(),fe=te.S;fe!==null&&fe(ue,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(ge,K)}catch(be){K(be)}finally{te.T=W}},ke.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},ke.use=function(D){return te.H.use(D)},ke.useActionState=function(D,W,ue){return te.H.useActionState(D,W,ue)},ke.useCallback=function(D,W){return te.H.useCallback(D,W)},ke.useContext=function(D){return te.H.useContext(D)},ke.useDebugValue=function(){},ke.useDeferredValue=function(D,W){return te.H.useDeferredValue(D,W)},ke.useEffect=function(D,W,ue){var X=te.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(D,W)},ke.useId=function(){return te.H.useId()},ke.useImperativeHandle=function(D,W,ue){return te.H.useImperativeHandle(D,W,ue)},ke.useInsertionEffect=function(D,W){return te.H.useInsertionEffect(D,W)},ke.useLayoutEffect=function(D,W){return te.H.useLayoutEffect(D,W)},ke.useMemo=function(D,W){return te.H.useMemo(D,W)},ke.useOptimistic=function(D,W){return te.H.useOptimistic(D,W)},ke.useReducer=function(D,W,ue){return te.H.useReducer(D,W,ue)},ke.useRef=function(D){return te.H.useRef(D)},ke.useState=function(D){return te.H.useState(D)},ke.useSyncExternalStore=function(D,W,ue){return te.H.useSyncExternalStore(D,W,ue)},ke.useTransition=function(){return te.H.useTransition()},ke.version="19.1.0",ke}var J0;function pg(){return J0||(J0=1,sp.exports=oR()),sp.exports}var R=pg();const mt=pT(R),gT=iR({__proto__:null,default:mt},[R]);var ap={exports:{}},ou={},op={exports:{}},lp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function lR(){return eb||(eb=1,function(n){function e(q,re){var K=q.length;q.push(re);e:for(;0<K;){var ge=K-1>>>1,D=q[ge];if(0<a(D,re))q[ge]=re,q[K]=D,K=ge;else break e}}function t(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var re=q[0],K=q.pop();if(K!==re){q[0]=K;e:for(var ge=0,D=q.length,W=D>>>1;ge<W;){var ue=2*(ge+1)-1,X=q[ue],fe=ue+1,be=q[fe];if(0>a(X,K))fe<D&&0>a(be,X)?(q[ge]=be,q[fe]=K,ge=fe):(q[ge]=X,q[ue]=K,ge=ue);else if(fe<D&&0>a(be,K))q[ge]=be,q[fe]=K,ge=fe;else break e}}return re}function a(q,re){var K=q.sortIndex-re.sortIndex;return K!==0?K:q.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],p=[],v=1,_=null,E=3,w=!1,C=!1,k=!1,P=!1,j=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function J(q){for(var re=t(p);re!==null;){if(re.callback===null)i(p);else if(re.startTime<=q)i(p),re.sortIndex=re.expirationTime,e(m,re);else break;re=t(p)}}function te(q){if(k=!1,J(q),!C)if(t(m)!==null)C=!0,ae||(ae=!0,H());else{var re=t(p);re!==null&&me(te,re.startTime-q)}}var ae=!1,O=-1,x=5,M=-1;function L(){return P?!0:!(n.unstable_now()-M<x)}function z(){if(P=!1,ae){var q=n.unstable_now();M=q;var re=!0;try{e:{C=!1,k&&(k=!1,U(O),O=-1),w=!0;var K=E;try{t:{for(J(q),_=t(m);_!==null&&!(_.expirationTime>q&&L());){var ge=_.callback;if(typeof ge=="function"){_.callback=null,E=_.priorityLevel;var D=ge(_.expirationTime<=q);if(q=n.unstable_now(),typeof D=="function"){_.callback=D,J(q),re=!0;break t}_===t(m)&&i(m),J(q)}else i(m);_=t(m)}if(_!==null)re=!0;else{var W=t(p);W!==null&&me(te,W.startTime-q),re=!1}}break e}finally{_=null,E=K,w=!1}re=void 0}}finally{re?H():ae=!1}}}var H;if(typeof $=="function")H=function(){$(z)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,de=N.port2;N.port1.onmessage=z,H=function(){de.postMessage(null)}}else H=function(){j(z,0)};function me(q,re){O=j(function(){q(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(q){switch(E){case 1:case 2:case 3:var re=3;break;default:re=E}var K=E;E=re;try{return q()}finally{E=K}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(q,re){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=E;E=q;try{return re()}finally{E=K}},n.unstable_scheduleCallback=function(q,re,K){var ge=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ge+K:ge):K=ge,q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=K+D,q={id:v++,callback:re,priorityLevel:q,startTime:K,expirationTime:D,sortIndex:-1},K>ge?(q.sortIndex=K,e(p,q),t(m)===null&&q===t(p)&&(k?(U(O),O=-1):k=!0,me(te,K-ge))):(q.sortIndex=D,e(m,q),C||w||(C=!0,ae||(ae=!0,H()))),q},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(q){var re=E;return function(){var K=E;E=re;try{return q.apply(this,arguments)}finally{E=K}}}}(lp)),lp}var tb;function uR(){return tb||(tb=1,op.exports=lR()),op.exports}var up={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb;function cR(){if(nb)return nn;nb=1;var n=pg();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,nn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},nn.flushSync=function(m){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=v,i.d.f()}},nn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},nn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},nn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,_=d(v,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:w}):v==="script"&&i.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},nn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=d(v,p.crossOrigin);i.d.L(m,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},nn.requestFormReset=function(m){i.d.r(m)},nn.unstable_batchedUpdates=function(m,p){return m(p)},nn.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var rb;function yT(){if(rb)return up.exports;rb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),up.exports=cR(),up.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function fR(){if(ib)return ou;ib=1;var n=uR(),e=pg(),t=yT();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return d(h),r;if(g===u)return d(h),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=g;else{for(var T=!1,A=h.child;A;){if(A===o){T=!0,o=h,u=g;break}if(A===u){T=!0,u=h,o=g;break}A=A.sibling}if(!T){for(A=g.child;A;){if(A===o){T=!0,o=g,u=h;break}if(A===u){T=!0,u=g,o=h;break}A=A.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),$=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function H(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function de(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case P:return"Profiler";case k:return"StrictMode";case te:return"Suspense";case ae:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case $:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case J:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return s=r.displayName||null,s!==null?s:de(r.type)||"Memo";case x:s=r._payload,r=r._init;try{return de(r(s))}catch{}}return null}var me=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ge=[],D=-1;function W(r){return{current:r}}function ue(r){0>D||(r.current=ge[D],ge[D]=null,D--)}function X(r,s){D++,ge[D]=r.current,r.current=s}var fe=W(null),be=W(null),Ee=W(null),Oe=W(null);function Me(r,s){switch(X(Ee,s),X(be,r),X(fe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?A0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=A0(s),r=S0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ue(fe),X(fe,r)}function st(){ue(fe),ue(be),ue(Ee)}function _t(r){r.memoizedState!==null&&X(Oe,r);var s=fe.current,o=S0(s,r.type);s!==o&&(X(be,r),X(fe,o))}function ht(r){be.current===r&&(ue(fe),ue(be)),Oe.current===r&&(ue(Oe),tu._currentValue=K)}var It=Object.prototype.hasOwnProperty,vn=n.unstable_scheduleCallback,ur=n.unstable_cancelCallback,ws=n.unstable_shouldYield,ba=n.unstable_requestPaint,dn=n.unstable_now,Jo=n.unstable_getCurrentPriorityLevel,cr=n.unstable_ImmediatePriority,Ea=n.unstable_UserBlockingPriority,As=n.unstable_NormalPriority,sd=n.unstable_LowPriority,Ta=n.unstable_IdlePriority,el=n.log,tc=n.unstable_setDisableYieldValue,gt=null,Ze=null;function _n(r){if(typeof el=="function"&&tc(r),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(gt,r)}catch{}}var en=Math.clz32?Math.clz32:Ss,nc=Math.log,ad=Math.LN2;function Ss(r){return r>>>=0,r===0?32:31-(nc(r)/ad|0)|0}var xs=256,Rs=4194304;function Gn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function wa(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,g=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?h=Gn(u):(T&=A,T!==0?h=Gn(T):o||(o=A&~r,o!==0&&(h=Gn(o))))):(A=u&~g,A!==0?h=Gn(A):T!==0?h=Gn(T):o||(o=u&~r,o!==0&&(h=Gn(o)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:h}function Cs(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function tl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nl(){var r=xs;return xs<<=1,(xs&4194048)===0&&(xs=256),r}function rl(){var r=Rs;return Rs<<=1,(Rs&62914560)===0&&(Rs=4194304),r}function zr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Br(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function il(r,s,o,u,h,g){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,V=r.expirationTimes,Q=r.hiddenUpdates;for(o=T&~o;0<o;){var ie=31-en(o),oe=1<<ie;A[ie]=0,V[ie]=-1;var Z=Q[ie];if(Z!==null)for(Q[ie]=null,ie=0;ie<Z.length;ie++){var ee=Z[ie];ee!==null&&(ee.lane&=-536870913)}o&=~oe}u!==0&&fr(r,u,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(T&~s))}function fr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-en(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function sl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-en(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function Ri(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Aa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ci(){var r=re.p;return r!==0?r:(r=window.event,r===void 0?32:F0(r.type))}function rc(r,s){var o=re.p;try{return re.p=r,s()}finally{re.p=o}}var lt=Math.random().toString(36).slice(2),Nt="__reactFiber$"+lt,At="__reactProps$"+lt,Dn="__reactContainer$"+lt,al="__reactEvents$"+lt,od="__reactListeners$"+lt,Ii="__reactHandles$"+lt,ic="__reactResources$"+lt,Is="__reactMarker$"+lt;function Ni(r){delete r[Nt],delete r[At],delete r[al],delete r[od],delete r[Ii]}function Hr(r){var s=r[Nt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Dn]||o[Nt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=I0(r);r!==null;){if(o=r[Nt])return o;r=I0(r)}return s}r=o,o=r.parentNode}return null}function hr(r){if(r=r[Nt]||r[Dn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function dr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function un(r){var s=r[ic];return s||(s=r[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(r){r[Is]=!0}var ol=new Set,Sa={};function $n(r,s){qr(r,s),qr(r+"Capture",s)}function qr(r,s){for(Sa[r]=s,r=0;r<s.length;r++)ol.add(s[r])}var sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ac={},Ns={};function oc(r){return It.call(Ns,r)?!0:It.call(ac,r)?!1:sc.test(r)?Ns[r]=!0:(ac[r]=!0,!1)}function Di(r,s,o){if(oc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function mr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Gt(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var Ds,lc;function Fr(r){if(Ds===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ds=s&&s[1]||"",lc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ds+r+lc}var xa=!1;function Ra(r,s){if(!r||xa)return"";xa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var Z=ee}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(ee){Z=ee}r.call(oe.prototype)}}else{try{throw Error()}catch(ee){Z=ee}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&Z&&typeof ee.stack=="string")return[ee.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],A=g[1];if(T&&A){var V=T.split(`
`),Q=A.split(`
`);for(h=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(u===V.length||h===Q.length)for(u=V.length-1,h=Q.length-1;1<=u&&0<=h&&V[u]!==Q[h];)h--;for(;1<=u&&0<=h;u--,h--)if(V[u]!==Q[h]){if(u!==1||h!==1)do if(u--,h--,0>h||V[u]!==Q[h]){var ie=`
`+V[u].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=u&&0<=h);break}}}finally{xa=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Fr(o):""}function ll(r){switch(r.tag){case 26:case 27:case 5:return Fr(r.type);case 16:return Fr("Lazy");case 13:return Fr("Suspense");case 19:return Fr("SuspenseList");case 0:case 15:return Ra(r.type,!1);case 11:return Ra(r.type.render,!1);case 1:return Ra(r.type,!0);case 31:return Fr("Activity");default:return""}}function Ca(r){try{var s="";do s+=ll(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ul(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ld(r){var s=ul(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ia(r){r._valueTracker||(r._valueTracker=ld(r))}function cl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=ul(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Os(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ud=/[\n"\\]/g;function St(r){return r.replace(ud,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function bn(r,s,o,u,h,g,T,A){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+cn(s)):r.value!==""+cn(s)&&(r.value=""+cn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?Oi(r,T,cn(s)):o!=null?Oi(r,T,cn(o)):u!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+cn(A):r.removeAttribute("name")}function Ms(r,s,o,u,h,g,T,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+cn(o):"",s=s!=null?""+cn(s):o,A||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function Oi(r,s,o){s==="number"&&Os(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Gr(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+cn(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function tt(r,s,o){if(s!=null&&(s=""+cn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+cn(o):""}function ks(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(me(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=cn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function On(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uc(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Ps.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function fl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&uc(r,h,u)}else for(var g in s)s.hasOwnProperty(g)&&uc(r,g,s[g])}function hl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(r){return fd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var $r=null;function Mn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Yr=null,Qr=null;function dl(r){var s=hr(r);if(s&&(r=s.stateNode)){var o=r[At]||null;e:switch(r=s.stateNode,s.type){case"input":if(bn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+St(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[At]||null;if(!h)throw Error(i(90));bn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&cl(u)}break e;case"textarea":tt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Gr(r,!!o.multiple,s,!1)}}}var pr=!1;function cc(r,s,o){if(pr)return r(s,o);pr=!0;try{var u=r(s);return u}finally{if(pr=!1,(Yr!==null||Qr!==null)&&(rf(),Yr&&(s=Yr,r=Qr,Qr=Yr=null,dl(s),r)))for(s=0;s<r.length;s++)dl(r[s])}}function Vs(r,s){var o=r.stateNode;if(o===null)return null;var u=o[At]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kn=!1;if(Yn)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){kn=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{kn=!1}var gr=null,Mi=null,Kr=null;function ml(){if(Kr)return Kr;var r,s=Mi,o=s.length,u,h="value"in gr?gr.value:gr.textContent,g=h.length;for(r=0;r<o&&s[r]===h[r];r++);var T=o-r;for(u=1;u<=T&&s[o-u]===h[g-u];u++);return Kr=h.slice(r,1<u?1-u:void 0)}function yr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function vr(){return!0}function pl(){return!1}function jt(r){function s(o,u,h,g,T){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?vr:pl,this.isPropagationStopped=pl,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),s}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=jt(Ke),Us=v({},Ke,{view:0,detail:0}),fc=jt(Us),Oa,Ma,_r,js=v({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==_r&&(_r&&r.type==="mousemove"?(Oa=r.screenX-_r.screenX,Ma=r.screenY-_r.screenY):Ma=Oa=0,_r=r),Oa)},movementY:function(r){return"movementY"in r?r.movementY:Ma}}),Pn=jt(js),hc=v({},js,{dataTransfer:0}),hd=jt(hc),zs=v({},Us,{relatedTarget:0}),ka=jt(zs),gl=v({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Pa=jt(gl),dc=v({},Ke,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Va=jt(dc),dd=v({},Ke,{data:0}),yl=jt(dd),Bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=pc[r])?!!s[r]:!1}function Hs(){return vl}var gc=v({},Us,{key:function(r){if(r.key){var s=Bs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=yr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?mc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(r){return r.type==="keypress"?yr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?yr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),La=jt(gc),yc=v({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_l=jt(yc),Xr=v({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),vc=jt(Xr),_c=v({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),bc=jt(_c),Ec=v({},js,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=jt(Ec),fn=v({},Ke,{newState:0,oldState:0}),Tc=jt(fn),wc=[9,13,27,32],br=Yn&&"CompositionEvent"in window,f=null;Yn&&"documentMode"in document&&(f=document.documentMode);var y=Yn&&"TextEvent"in window&&!f,b=Yn&&(!br||f&&8<f&&11>=f),I=" ",G=!1;function ne(r,s){switch(r){case"keyup":return wc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var qe=!1;function Dt(r,s){switch(r){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(G=!0,I);case"textInput":return r=s.data,r===I&&G?null:r;default:return null}}function Fe(r,s){if(qe)return r==="compositionend"||!br&&ne(r,s)?(r=ml(),Kr=Mi=gr=null,qe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return b&&s.locale!=="ko"?null:s.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!zt[r.type]:s==="textarea"}function Wr(r,s,o,u){Yr?Qr?Qr.push(u):Qr=[u]:Yr=u,s=cf(s,"onChange"),0<s.length&&(o=new Da("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var $t=null,Er=null;function bl(r){_0(r,0)}function Ac(r){var s=dr(r);if(cl(s))return r}function zy(r,s){if(r==="change")return s}var By=!1;if(Yn){var md;if(Yn){var pd="oninput"in document;if(!pd){var Hy=document.createElement("div");Hy.setAttribute("oninput","return;"),pd=typeof Hy.oninput=="function"}md=pd}else md=!1;By=md&&(!document.documentMode||9<document.documentMode)}function qy(){$t&&($t.detachEvent("onpropertychange",Fy),Er=$t=null)}function Fy(r){if(r.propertyName==="value"&&Ac(Er)){var s=[];Wr(s,Er,r,Mn(r)),cc(bl,s)}}function kS(r,s,o){r==="focusin"?(qy(),$t=s,Er=o,$t.attachEvent("onpropertychange",Fy)):r==="focusout"&&qy()}function PS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ac(Er)}function VS(r,s){if(r==="click")return Ac(s)}function LS(r,s){if(r==="input"||r==="change")return Ac(s)}function US(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var En=typeof Object.is=="function"?Object.is:US;function El(r,s){if(En(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!It.call(s,h)||!En(r[h],s[h]))return!1}return!0}function Gy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function $y(r,s){var o=Gy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Gy(o)}}function Yy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Yy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Qy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Os(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Os(r.document)}return s}function gd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var jS=Yn&&"documentMode"in document&&11>=document.documentMode,ja=null,yd=null,Tl=null,vd=!1;function Ky(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vd||ja==null||ja!==Os(u)||(u=ja,"selectionStart"in u&&gd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Tl&&El(Tl,u)||(Tl=u,u=cf(yd,"onSelect"),0<u.length&&(s=new Da("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=ja)))}function qs(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var za={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},_d={},Xy={};Yn&&(Xy=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Fs(r){if(_d[r])return _d[r];if(!za[r])return r;var s=za[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Xy)return _d[r]=s[o];return r}var Wy=Fs("animationend"),Zy=Fs("animationiteration"),Jy=Fs("animationstart"),zS=Fs("transitionrun"),BS=Fs("transitionstart"),HS=Fs("transitioncancel"),ev=Fs("transitionend"),tv=new Map,bd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bd.push("scrollEnd");function Qn(r,s){tv.set(r,s),$n(s,[r])}var nv=new WeakMap;function Vn(r,s){if(typeof r=="object"&&r!==null){var o=nv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Ca(s)},nv.set(r,s),s)}return{value:r,source:s,stack:Ca(s)}}var Ln=[],Ba=0,Ed=0;function Sc(){for(var r=Ba,s=Ed=Ba=0;s<r;){var o=Ln[s];Ln[s++]=null;var u=Ln[s];Ln[s++]=null;var h=Ln[s];Ln[s++]=null;var g=Ln[s];if(Ln[s++]=null,u!==null&&h!==null){var T=u.pending;T===null?h.next=h:(h.next=T.next,T.next=h),u.pending=h}g!==0&&rv(o,h,g)}}function xc(r,s,o,u){Ln[Ba++]=r,Ln[Ba++]=s,Ln[Ba++]=o,Ln[Ba++]=u,Ed|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Td(r,s,o,u){return xc(r,s,o,u),Rc(r)}function Ha(r,s){return xc(r,null,null,s),Rc(r)}function rv(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,h&&s!==null&&(h=31-en(o),r=g.hiddenUpdates,u=r[h],u===null?r[h]=[s]:u.push(s),s.lane=o|536870912),g):null}function Rc(r){if(50<Yl)throw Yl=0,Cm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var qa={};function qS(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(r,s,o,u){return new qS(r,s,o,u)}function wd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Zr(r,s){var o=r.alternate;return o===null?(o=Tn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function iv(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Cc(r,s,o,u,h,g){var T=0;if(u=r,typeof r=="function")wd(r)&&(T=1);else if(typeof r=="string")T=Gx(r,o,fe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=Tn(31,o,s,h),r.elementType=M,r.lanes=g,r;case C:return Gs(o.children,h,g,s);case k:T=8,h|=24;break;case P:return r=Tn(12,o,s,h|2),r.elementType=P,r.lanes=g,r;case te:return r=Tn(13,o,s,h),r.elementType=te,r.lanes=g,r;case ae:return r=Tn(19,o,s,h),r.elementType=ae,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case $:T=10;break e;case U:T=9;break e;case J:T=11;break e;case O:T=14;break e;case x:T=16,u=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Tn(T,o,s,h),s.elementType=r,s.type=u,s.lanes=g,s}function Gs(r,s,o,u){return r=Tn(7,r,u,s),r.lanes=o,r}function Ad(r,s,o){return r=Tn(6,r,null,s),r.lanes=o,r}function Sd(r,s,o){return s=Tn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Fa=[],Ga=0,Ic=null,Nc=0,Un=[],jn=0,$s=null,Jr=1,ei="";function Ys(r,s){Fa[Ga++]=Nc,Fa[Ga++]=Ic,Ic=r,Nc=s}function sv(r,s,o){Un[jn++]=Jr,Un[jn++]=ei,Un[jn++]=$s,$s=r;var u=Jr;r=ei;var h=32-en(u)-1;u&=~(1<<h),o+=1;var g=32-en(s)+h;if(30<g){var T=h-h%5;g=(u&(1<<T)-1).toString(32),u>>=T,h-=T,Jr=1<<32-en(s)+h|o<<h|u,ei=g+r}else Jr=1<<g|o<<h|u,ei=r}function xd(r){r.return!==null&&(Ys(r,1),sv(r,1,0))}function Rd(r){for(;r===Ic;)Ic=Fa[--Ga],Fa[Ga]=null,Nc=Fa[--Ga],Fa[Ga]=null;for(;r===$s;)$s=Un[--jn],Un[jn]=null,ei=Un[--jn],Un[jn]=null,Jr=Un[--jn],Un[jn]=null}var hn=null,yt=null,Qe=!1,Qs=null,Tr=!1,Cd=Error(i(519));function Ks(r){var s=Error(i(418,""));throw Sl(Vn(s,r)),Cd}function av(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Nt]=r,s[At]=u,o){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(o=0;o<Kl.length;o++)ze(Kl[o],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),Ms(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ia(s);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),ks(s,u.value,u.defaultValue,u.children),Ia(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||w0(s.textContent,o)?(u.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),u.onScroll!=null&&ze("scroll",s),u.onScrollEnd!=null&&ze("scrollend",s),u.onClick!=null&&(s.onclick=ff),s=!0):s=!1,s||Ks(r)}function ov(r){for(hn=r.return;hn;)switch(hn.tag){case 5:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:hn=hn.return}}function wl(r){if(r!==hn)return!1;if(!Qe)return ov(r),Qe=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Fm(r.type,r.memoizedProps)),o=!o),o&&yt&&Ks(r),ov(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){yt=Xn(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}yt=null}}else s===27?(s=yt,Ki(r.type)?(r=Qm,Qm=null,yt=r):yt=s):yt=hn?Xn(r.stateNode.nextSibling):null;return!0}function Al(){yt=hn=null,Qe=!1}function lv(){var r=Qs;return r!==null&&(gn===null?gn=r:gn.push.apply(gn,r),Qs=null),r}function Sl(r){Qs===null?Qs=[r]:Qs.push(r)}var Id=W(null),Xs=null,ti=null;function ki(r,s,o){X(Id,s._currentValue),s._currentValue=o}function ni(r){r._currentValue=Id.current,ue(Id)}function Nd(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Dd(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var T=h.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=h;for(var V=0;V<s.length;V++)if(A.context===s[V]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Nd(g.return,o,r),u||(T=null);break e}g=A.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Nd(T,o,r),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===r){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function xl(r,s,o,u){r=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var A=h.type;En(h.pendingProps.value,T.value)||(r!==null?r.push(A):r=[A])}}else if(h===Oe.current){if(T=h.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(tu):r=[tu])}h=h.return}r!==null&&Dd(s,r,o,u),s.flags|=262144}function Dc(r){for(r=r.firstContext;r!==null;){if(!En(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ws(r){Xs=r,ti=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function tn(r){return uv(Xs,r)}function Oc(r,s){return Xs===null&&Ws(r),uv(r,s)}function uv(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ti===null){if(r===null)throw Error(i(308));ti=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ti=ti.next=s;return o}var FS=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},GS=n.unstable_scheduleCallback,$S=n.unstable_NormalPriority,Mt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Od(){return{controller:new FS,data:new Map,refCount:0}}function Rl(r){r.refCount--,r.refCount===0&&GS($S,function(){r.controller.abort()})}var Cl=null,Md=0,$a=0,Ya=null;function YS(r,s){if(Cl===null){var o=Cl=[];Md=0,$a=Pm(),Ya={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Md++,s.then(cv,cv),s}function cv(){if(--Md===0&&Cl!==null){Ya!==null&&(Ya.status="fulfilled");var r=Cl;Cl=null,$a=0,Ya=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function QS(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var fv=q.S;q.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&YS(r,s),fv!==null&&fv(r,s)};var Zs=W(null);function kd(){var r=Zs.current;return r!==null?r:ot.pooledCache}function Mc(r,s){s===null?X(Zs,Zs.current):X(Zs,s.pool)}function hv(){var r=kd();return r===null?null:{parent:Mt._currentValue,pool:r}}var Il=Error(i(460)),dv=Error(i(474)),kc=Error(i(542)),Pd={then:function(){}};function mv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Pc(){}function pv(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Pc,Pc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,yv(r),r;default:if(typeof s.status=="string")s.then(Pc,Pc);else{if(r=ot,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,yv(r),r}throw Nl=s,Il}}var Nl=null;function gv(){if(Nl===null)throw Error(i(459));var r=Nl;return Nl=null,r}function yv(r){if(r===Il||r===kc)throw Error(i(483))}var Pi=!1;function Vd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ld(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Vi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Li(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Je&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=Rc(r),rv(r,null,o),s}return xc(r,u,s,o),Rc(r)}function Dl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,sl(r,o)}}function Ud(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?h=g=s:g=g.next=s}else h=g=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var jd=!1;function Ol(){if(jd){var r=Ya;if(r!==null)throw r}}function Ml(r,s,o,u){jd=!1;var h=r.updateQueue;Pi=!1;var g=h.firstBaseUpdate,T=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var V=A,Q=V.next;V.next=null,T===null?g=Q:T.next=Q,T=V;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==T&&(A===null?ie.firstBaseUpdate=Q:A.next=Q,ie.lastBaseUpdate=V))}if(g!==null){var oe=h.baseState;T=0,ie=Q=V=null,A=g;do{var Z=A.lane&-536870913,ee=Z!==A.lane;if(ee?(Ge&Z)===Z:(u&Z)===Z){Z!==0&&Z===$a&&(jd=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ce=r,Se=A;Z=s;var it=o;switch(Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){oe=Ce.call(it,oe,Z);break e}oe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,Z=typeof Ce=="function"?Ce.call(it,oe,Z):Ce,Z==null)break e;oe=v({},oe,Z);break e;case 2:Pi=!0}}Z=A.callback,Z!==null&&(r.flags|=64,ee&&(r.flags|=8192),ee=h.callbacks,ee===null?h.callbacks=[Z]:ee.push(Z))}else ee={lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(Q=ie=ee,V=oe):ie=ie.next=ee,T|=Z;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;ee=A,A=ee.next,ee.next=null,h.lastBaseUpdate=ee,h.shared.pending=null}}while(!0);ie===null&&(V=oe),h.baseState=V,h.firstBaseUpdate=Q,h.lastBaseUpdate=ie,g===null&&(h.shared.lanes=0),Gi|=T,r.lanes=T,r.memoizedState=oe}}function vv(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function _v(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)vv(o[r],s)}var Qa=W(null),Vc=W(0);function bv(r,s){r=ui,X(Vc,r),X(Qa,s),ui=r|s.baseLanes}function zd(){X(Vc,ui),X(Qa,Qa.current)}function Bd(){ui=Vc.current,ue(Qa),ue(Vc)}var Ui=0,Pe=null,nt=null,xt=null,Lc=!1,Ka=!1,Js=!1,Uc=0,kl=0,Xa=null,KS=0;function Et(){throw Error(i(321))}function Hd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!En(r[o],s[o]))return!1;return!0}function qd(r,s,o,u,h,g){return Ui=g,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=r===null||r.memoizedState===null?r_:i_,Js=!1,g=o(u,h),Js=!1,Ka&&(g=Tv(s,o,u,h)),Ev(r),g}function Ev(r){q.H=Fc;var s=nt!==null&&nt.next!==null;if(Ui=0,xt=nt=Pe=null,Lc=!1,kl=0,Xa=null,s)throw Error(i(300));r===null||Bt||(r=r.dependencies,r!==null&&Dc(r)&&(Bt=!0))}function Tv(r,s,o,u){Pe=r;var h=0;do{if(Ka&&(Xa=null),kl=0,Ka=!1,25<=h)throw Error(i(301));if(h+=1,xt=nt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=nx,g=s(o,u)}while(Ka);return g}function XS(){var r=q.H,s=r.useState()[0];return s=typeof s.then=="function"?Pl(s):s,r=r.useState()[0],(nt!==null?nt.memoizedState:null)!==r&&(Pe.flags|=1024),s}function Fd(){var r=Uc!==0;return Uc=0,r}function Gd(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function $d(r){if(Lc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Lc=!1}Ui=0,xt=nt=Pe=null,Ka=!1,kl=Uc=0,Xa=null}function mn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Pe.memoizedState=xt=r:xt=xt.next=r,xt}function Rt(){if(nt===null){var r=Pe.alternate;r=r!==null?r.memoizedState:null}else r=nt.next;var s=xt===null?Pe.memoizedState:xt.next;if(s!==null)xt=s,nt=r;else{if(r===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));nt=r,r={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},xt===null?Pe.memoizedState=xt=r:xt=xt.next=r}return xt}function Yd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(r){var s=kl;return kl+=1,Xa===null&&(Xa=[]),r=pv(Xa,r,s),s=Pe,(xt===null?s.memoizedState:xt.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?r_:i_),r}function jc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Pl(r);if(r.$$typeof===$)return tn(r)}throw Error(i(438,String(r)))}function Qd(r){var s=null,o=Pe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Yd(),Pe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=L;return s.index++,o}function ri(r,s){return typeof s=="function"?s(r):s}function zc(r){var s=Rt();return Kd(s,nt,r)}function Kd(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,g=u.pending;if(g!==null){if(h!==null){var T=h.next;h.next=g.next,g.next=T}s.baseQueue=h=g,u.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{s=h.next;var A=T=null,V=null,Q=s,ie=!1;do{var oe=Q.lane&-536870913;if(oe!==Q.lane?(Ge&oe)===oe:(Ui&oe)===oe){var Z=Q.revertLane;if(Z===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),oe===$a&&(ie=!0);else if((Ui&Z)===Z){Q=Q.next,Z===$a&&(ie=!0);continue}else oe={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(A=V=oe,T=g):V=V.next=oe,Pe.lanes|=Z,Gi|=Z;oe=Q.action,Js&&o(g,oe),g=Q.hasEagerState?Q.eagerState:o(g,oe)}else Z={lane:oe,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(A=V=Z,T=g):V=V.next=Z,Pe.lanes|=oe,Gi|=oe;Q=Q.next}while(Q!==null&&Q!==s);if(V===null?T=g:V.next=A,!En(g,r.memoizedState)&&(Bt=!0,ie&&(o=Ya,o!==null)))throw o;r.memoizedState=g,r.baseState=T,r.baseQueue=V,u.lastRenderedState=g}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Xd(r){var s=Rt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,g=s.memoizedState;if(h!==null){o.pending=null;var T=h=h.next;do g=r(g,T.action),T=T.next;while(T!==h);En(g,s.memoizedState)||(Bt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function wv(r,s,o){var u=Pe,h=Rt(),g=Qe;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!En((nt||h).memoizedState,o);T&&(h.memoizedState=o,Bt=!0),h=h.queue;var A=xv.bind(null,u,h,r);if(Vl(2048,8,A,[r]),h.getSnapshot!==s||T||xt!==null&&xt.memoizedState.tag&1){if(u.flags|=2048,Wa(9,Bc(),Sv.bind(null,u,h,o,s),null),ot===null)throw Error(i(349));g||(Ui&124)!==0||Av(u,s,o)}return o}function Av(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Pe.updateQueue,s===null?(s=Yd(),Pe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Sv(r,s,o,u){s.value=o,s.getSnapshot=u,Rv(s)&&Cv(r)}function xv(r,s,o){return o(function(){Rv(s)&&Cv(r)})}function Rv(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!En(r,o)}catch{return!0}}function Cv(r){var s=Ha(r,2);s!==null&&Rn(s,r,2)}function Wd(r){var s=mn();if(typeof r=="function"){var o=r;if(r=o(),Js){_n(!0);try{o()}finally{_n(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:r},s}function Iv(r,s,o,u){return r.baseState=o,Kd(r,nt,typeof u=="function"?u:ri)}function WS(r,s,o,u,h){if(qc(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};q.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,Nv(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Nv(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var g=q.T,T={};q.T=T;try{var A=o(h,u),V=q.S;V!==null&&V(T,A),Dv(r,s,A)}catch(Q){Zd(r,s,Q)}finally{q.T=g}}else try{g=o(h,u),Dv(r,s,g)}catch(Q){Zd(r,s,Q)}}function Dv(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Ov(r,s,u)},function(u){return Zd(r,s,u)}):Ov(r,s,o)}function Ov(r,s,o){s.status="fulfilled",s.value=o,Mv(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Nv(r,o)))}function Zd(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Mv(s),s=s.next;while(s!==u)}r.action=null}function Mv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function kv(r,s){return s}function Pv(r,s){if(Qe){var o=ot.formState;if(o!==null){e:{var u=Pe;if(Qe){if(yt){t:{for(var h=yt,g=Tr;h.nodeType!==8;){if(!g){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){yt=Xn(h.nextSibling),u=h.data==="F!";break e}}Ks(u)}u=!1}u&&(s=o[0])}}return o=mn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kv,lastRenderedState:s},o.queue=u,o=e_.bind(null,Pe,u),u.dispatch=o,u=Wd(!1),g=rm.bind(null,Pe,!1,u.queue),u=mn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=WS.bind(null,Pe,h,g,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function Vv(r){var s=Rt();return Lv(s,nt,r)}function Lv(r,s,o){if(s=Kd(r,s,kv)[0],r=zc(ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Pl(s)}catch(T){throw T===Il?kc:T}else u=s;s=Rt();var h=s.queue,g=h.dispatch;return o!==s.memoizedState&&(Pe.flags|=2048,Wa(9,Bc(),ZS.bind(null,h,o),null)),[u,g,r]}function ZS(r,s){r.action=s}function Uv(r){var s=Rt(),o=nt;if(o!==null)return Lv(s,o,r);Rt(),s=s.memoizedState,o=Rt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Wa(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=Yd(),Pe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Bc(){return{destroy:void 0,resource:void 0}}function jv(){return Rt().memoizedState}function Hc(r,s,o,u){var h=mn();u=u===void 0?null:u,Pe.flags|=r,h.memoizedState=Wa(1|s,Bc(),o,u)}function Vl(r,s,o,u){var h=Rt();u=u===void 0?null:u;var g=h.memoizedState.inst;nt!==null&&u!==null&&Hd(u,nt.memoizedState.deps)?h.memoizedState=Wa(s,g,o,u):(Pe.flags|=r,h.memoizedState=Wa(1|s,g,o,u))}function zv(r,s){Hc(8390656,8,r,s)}function Bv(r,s){Vl(2048,8,r,s)}function Hv(r,s){return Vl(4,2,r,s)}function qv(r,s){return Vl(4,4,r,s)}function Fv(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Gv(r,s,o){o=o!=null?o.concat([r]):null,Vl(4,4,Fv.bind(null,s,r),o)}function Jd(){}function $v(r,s){var o=Rt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Hd(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function Yv(r,s){var o=Rt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Hd(s,u[1]))return u[0];if(u=r(),Js){_n(!0);try{r()}finally{_n(!1)}}return o.memoizedState=[u,s],u}function em(r,s,o){return o===void 0||(Ui&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=X_(),Pe.lanes|=r,Gi|=r,o)}function Qv(r,s,o,u){return En(o,s)?o:Qa.current!==null?(r=em(r,o,u),En(r,s)||(Bt=!0),r):(Ui&42)===0?(Bt=!0,r.memoizedState=o):(r=X_(),Pe.lanes|=r,Gi|=r,s)}function Kv(r,s,o,u,h){var g=re.p;re.p=g!==0&&8>g?g:8;var T=q.T,A={};q.T=A,rm(r,!1,s,o);try{var V=h(),Q=q.S;if(Q!==null&&Q(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ie=QS(V,u);Ll(r,s,ie,xn(r))}else Ll(r,s,u,xn(r))}catch(oe){Ll(r,s,{then:function(){},status:"rejected",reason:oe},xn())}finally{re.p=g,q.T=T}}function JS(){}function tm(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=Xv(r).queue;Kv(r,h,s,K,o===null?JS:function(){return Wv(r),o(u)})}function Xv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:K},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Wv(r){var s=Xv(r).next.queue;Ll(r,s,{},xn())}function nm(){return tn(tu)}function Zv(){return Rt().memoizedState}function Jv(){return Rt().memoizedState}function ex(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=xn();r=Vi(o);var u=Li(s,r,o);u!==null&&(Rn(u,s,o),Dl(u,s,o)),s={cache:Od()},r.payload=s;return}s=s.return}}function tx(r,s,o){var u=xn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},qc(r)?t_(s,o):(o=Td(r,s,o,u),o!==null&&(Rn(o,r,u),n_(o,s,u)))}function e_(r,s,o){var u=xn();Ll(r,s,o,u)}function Ll(r,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(qc(r))t_(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,A=g(T,o);if(h.hasEagerState=!0,h.eagerState=A,En(A,T))return xc(r,s,h,0),ot===null&&Sc(),!1}catch{}finally{}if(o=Td(r,s,h,u),o!==null)return Rn(o,r,u),n_(o,s,u),!0}return!1}function rm(r,s,o,u){if(u={lane:2,revertLane:Pm(),action:u,hasEagerState:!1,eagerState:null,next:null},qc(r)){if(s)throw Error(i(479))}else s=Td(r,o,u,2),s!==null&&Rn(s,r,2)}function qc(r){var s=r.alternate;return r===Pe||s!==null&&s===Pe}function t_(r,s){Ka=Lc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function n_(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,sl(r,o)}}var Fc={readContext:tn,use:jc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},r_={readContext:tn,use:jc,useCallback:function(r,s){return mn().memoizedState=[r,s===void 0?null:s],r},useContext:tn,useEffect:zv,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Hc(4194308,4,Fv.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Hc(4194308,4,r,s)},useInsertionEffect:function(r,s){Hc(4,2,r,s)},useMemo:function(r,s){var o=mn();s=s===void 0?null:s;var u=r();if(Js){_n(!0);try{r()}finally{_n(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=mn();if(o!==void 0){var h=o(s);if(Js){_n(!0);try{o(s)}finally{_n(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=tx.bind(null,Pe,r),[u.memoizedState,r]},useRef:function(r){var s=mn();return r={current:r},s.memoizedState=r},useState:function(r){r=Wd(r);var s=r.queue,o=e_.bind(null,Pe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Jd,useDeferredValue:function(r,s){var o=mn();return em(o,r,s)},useTransition:function(){var r=Wd(!1);return r=Kv.bind(null,Pe,r.queue,!0,!1),mn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Pe,h=mn();if(Qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ot===null)throw Error(i(349));(Ge&124)!==0||Av(u,s,o)}h.memoizedState=o;var g={value:o,getSnapshot:s};return h.queue=g,zv(xv.bind(null,u,g,r),[r]),u.flags|=2048,Wa(9,Bc(),Sv.bind(null,u,g,o,s),null),o},useId:function(){var r=mn(),s=ot.identifierPrefix;if(Qe){var o=ei,u=Jr;o=(u&~(1<<32-en(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=Uc++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=KS++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:nm,useFormState:Pv,useActionState:Pv,useOptimistic:function(r){var s=mn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=rm.bind(null,Pe,!0,o),o.dispatch=s,[r,s]},useMemoCache:Qd,useCacheRefresh:function(){return mn().memoizedState=ex.bind(null,Pe)}},i_={readContext:tn,use:jc,useCallback:$v,useContext:tn,useEffect:Bv,useImperativeHandle:Gv,useInsertionEffect:Hv,useLayoutEffect:qv,useMemo:Yv,useReducer:zc,useRef:jv,useState:function(){return zc(ri)},useDebugValue:Jd,useDeferredValue:function(r,s){var o=Rt();return Qv(o,nt.memoizedState,r,s)},useTransition:function(){var r=zc(ri)[0],s=Rt().memoizedState;return[typeof r=="boolean"?r:Pl(r),s]},useSyncExternalStore:wv,useId:Zv,useHostTransitionStatus:nm,useFormState:Vv,useActionState:Vv,useOptimistic:function(r,s){var o=Rt();return Iv(o,nt,r,s)},useMemoCache:Qd,useCacheRefresh:Jv},nx={readContext:tn,use:jc,useCallback:$v,useContext:tn,useEffect:Bv,useImperativeHandle:Gv,useInsertionEffect:Hv,useLayoutEffect:qv,useMemo:Yv,useReducer:Xd,useRef:jv,useState:function(){return Xd(ri)},useDebugValue:Jd,useDeferredValue:function(r,s){var o=Rt();return nt===null?em(o,r,s):Qv(o,nt.memoizedState,r,s)},useTransition:function(){var r=Xd(ri)[0],s=Rt().memoizedState;return[typeof r=="boolean"?r:Pl(r),s]},useSyncExternalStore:wv,useId:Zv,useHostTransitionStatus:nm,useFormState:Uv,useActionState:Uv,useOptimistic:function(r,s){var o=Rt();return nt!==null?Iv(o,nt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Qd,useCacheRefresh:Jv},Za=null,Ul=0;function Gc(r){var s=Ul;return Ul+=1,Za===null&&(Za=[]),pv(Za,r,s)}function jl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function $c(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function s_(r){var s=r._init;return s(r._payload)}function a_(r){function s(F,B){if(r){var Y=F.deletions;Y===null?(F.deletions=[B],F.flags|=16):Y.push(B)}}function o(F,B){if(!r)return null;for(;B!==null;)s(F,B),B=B.sibling;return null}function u(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function h(F,B){return F=Zr(F,B),F.index=0,F.sibling=null,F}function g(F,B,Y){return F.index=Y,r?(Y=F.alternate,Y!==null?(Y=Y.index,Y<B?(F.flags|=67108866,B):Y):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function T(F){return r&&F.alternate===null&&(F.flags|=67108866),F}function A(F,B,Y,se){return B===null||B.tag!==6?(B=Ad(Y,F.mode,se),B.return=F,B):(B=h(B,Y),B.return=F,B)}function V(F,B,Y,se){var ye=Y.type;return ye===C?ie(F,B,Y.props.children,se,Y.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&s_(ye)===B.type)?(B=h(B,Y.props),jl(B,Y),B.return=F,B):(B=Cc(Y.type,Y.key,Y.props,null,F.mode,se),jl(B,Y),B.return=F,B)}function Q(F,B,Y,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=Sd(Y,F.mode,se),B.return=F,B):(B=h(B,Y.children||[]),B.return=F,B)}function ie(F,B,Y,se,ye){return B===null||B.tag!==7?(B=Gs(Y,F.mode,se,ye),B.return=F,B):(B=h(B,Y),B.return=F,B)}function oe(F,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Ad(""+B,F.mode,Y),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return Y=Cc(B.type,B.key,B.props,null,F.mode,Y),jl(Y,B),Y.return=F,Y;case w:return B=Sd(B,F.mode,Y),B.return=F,B;case x:var se=B._init;return B=se(B._payload),oe(F,B,Y)}if(me(B)||H(B))return B=Gs(B,F.mode,Y,null),B.return=F,B;if(typeof B.then=="function")return oe(F,Gc(B),Y);if(B.$$typeof===$)return oe(F,Oc(F,B),Y);$c(F,B)}return null}function Z(F,B,Y,se){var ye=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ye!==null?null:A(F,B,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Y.key===ye?V(F,B,Y,se):null;case w:return Y.key===ye?Q(F,B,Y,se):null;case x:return ye=Y._init,Y=ye(Y._payload),Z(F,B,Y,se)}if(me(Y)||H(Y))return ye!==null?null:ie(F,B,Y,se,null);if(typeof Y.then=="function")return Z(F,B,Gc(Y),se);if(Y.$$typeof===$)return Z(F,B,Oc(F,Y),se);$c(F,Y)}return null}function ee(F,B,Y,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return F=F.get(Y)||null,A(B,F,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case E:return F=F.get(se.key===null?Y:se.key)||null,V(B,F,se,ye);case w:return F=F.get(se.key===null?Y:se.key)||null,Q(B,F,se,ye);case x:var Ue=se._init;return se=Ue(se._payload),ee(F,B,Y,se,ye)}if(me(se)||H(se))return F=F.get(Y)||null,ie(B,F,se,ye,null);if(typeof se.then=="function")return ee(F,B,Y,Gc(se),ye);if(se.$$typeof===$)return ee(F,B,Y,Oc(B,se),ye);$c(B,se)}return null}function Ce(F,B,Y,se){for(var ye=null,Ue=null,Te=B,xe=B=0,qt=null;Te!==null&&xe<Y.length;xe++){Te.index>xe?(qt=Te,Te=null):qt=Te.sibling;var Ye=Z(F,Te,Y[xe],se);if(Ye===null){Te===null&&(Te=qt);break}r&&Te&&Ye.alternate===null&&s(F,Te),B=g(Ye,B,xe),Ue===null?ye=Ye:Ue.sibling=Ye,Ue=Ye,Te=qt}if(xe===Y.length)return o(F,Te),Qe&&Ys(F,xe),ye;if(Te===null){for(;xe<Y.length;xe++)Te=oe(F,Y[xe],se),Te!==null&&(B=g(Te,B,xe),Ue===null?ye=Te:Ue.sibling=Te,Ue=Te);return Qe&&Ys(F,xe),ye}for(Te=u(Te);xe<Y.length;xe++)qt=ee(Te,F,xe,Y[xe],se),qt!==null&&(r&&qt.alternate!==null&&Te.delete(qt.key===null?xe:qt.key),B=g(qt,B,xe),Ue===null?ye=qt:Ue.sibling=qt,Ue=qt);return r&&Te.forEach(function(es){return s(F,es)}),Qe&&Ys(F,xe),ye}function Se(F,B,Y,se){if(Y==null)throw Error(i(151));for(var ye=null,Ue=null,Te=B,xe=B=0,qt=null,Ye=Y.next();Te!==null&&!Ye.done;xe++,Ye=Y.next()){Te.index>xe?(qt=Te,Te=null):qt=Te.sibling;var es=Z(F,Te,Ye.value,se);if(es===null){Te===null&&(Te=qt);break}r&&Te&&es.alternate===null&&s(F,Te),B=g(es,B,xe),Ue===null?ye=es:Ue.sibling=es,Ue=es,Te=qt}if(Ye.done)return o(F,Te),Qe&&Ys(F,xe),ye;if(Te===null){for(;!Ye.done;xe++,Ye=Y.next())Ye=oe(F,Ye.value,se),Ye!==null&&(B=g(Ye,B,xe),Ue===null?ye=Ye:Ue.sibling=Ye,Ue=Ye);return Qe&&Ys(F,xe),ye}for(Te=u(Te);!Ye.done;xe++,Ye=Y.next())Ye=ee(Te,F,xe,Ye.value,se),Ye!==null&&(r&&Ye.alternate!==null&&Te.delete(Ye.key===null?xe:Ye.key),B=g(Ye,B,xe),Ue===null?ye=Ye:Ue.sibling=Ye,Ue=Ye);return r&&Te.forEach(function(rR){return s(F,rR)}),Qe&&Ys(F,xe),ye}function it(F,B,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===C&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:e:{for(var ye=Y.key;B!==null;){if(B.key===ye){if(ye=Y.type,ye===C){if(B.tag===7){o(F,B.sibling),se=h(B,Y.props.children),se.return=F,F=se;break e}}else if(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&s_(ye)===B.type){o(F,B.sibling),se=h(B,Y.props),jl(se,Y),se.return=F,F=se;break e}o(F,B);break}else s(F,B);B=B.sibling}Y.type===C?(se=Gs(Y.props.children,F.mode,se,Y.key),se.return=F,F=se):(se=Cc(Y.type,Y.key,Y.props,null,F.mode,se),jl(se,Y),se.return=F,F=se)}return T(F);case w:e:{for(ye=Y.key;B!==null;){if(B.key===ye)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){o(F,B.sibling),se=h(B,Y.children||[]),se.return=F,F=se;break e}else{o(F,B);break}else s(F,B);B=B.sibling}se=Sd(Y,F.mode,se),se.return=F,F=se}return T(F);case x:return ye=Y._init,Y=ye(Y._payload),it(F,B,Y,se)}if(me(Y))return Ce(F,B,Y,se);if(H(Y)){if(ye=H(Y),typeof ye!="function")throw Error(i(150));return Y=ye.call(Y),Se(F,B,Y,se)}if(typeof Y.then=="function")return it(F,B,Gc(Y),se);if(Y.$$typeof===$)return it(F,B,Oc(F,Y),se);$c(F,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(o(F,B.sibling),se=h(B,Y),se.return=F,F=se):(o(F,B),se=Ad(Y,F.mode,se),se.return=F,F=se),T(F)):o(F,B)}return function(F,B,Y,se){try{Ul=0;var ye=it(F,B,Y,se);return Za=null,ye}catch(Te){if(Te===Il||Te===kc)throw Te;var Ue=Tn(29,Te,null,F.mode);return Ue.lanes=se,Ue.return=F,Ue}finally{}}}var Ja=a_(!0),o_=a_(!1),zn=W(null),wr=null;function ji(r){var s=r.alternate;X(kt,kt.current&1),X(zn,r),wr===null&&(s===null||Qa.current!==null||s.memoizedState!==null)&&(wr=r)}function l_(r){if(r.tag===22){if(X(kt,kt.current),X(zn,r),wr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(wr=r)}}else zi()}function zi(){X(kt,kt.current),X(zn,zn.current)}function ii(r){ue(zn),wr===r&&(wr=null),ue(kt)}var kt=W(0);function Yc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Ym(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function im(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var sm={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=xn(),h=Vi(u);h.payload=s,o!=null&&(h.callback=o),s=Li(r,h,u),s!==null&&(Rn(s,r,u),Dl(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=xn(),h=Vi(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=Li(r,h,u),s!==null&&(Rn(s,r,u),Dl(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=xn(),u=Vi(o);u.tag=2,s!=null&&(u.callback=s),s=Li(r,u,o),s!==null&&(Rn(s,r,o),Dl(s,r,o))}};function u_(r,s,o,u,h,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!El(o,u)||!El(h,g):!0}function c_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&sm.enqueueReplaceState(s,s.state,null)}function ea(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Qc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function f_(r){Qc(r)}function h_(r){console.error(r)}function d_(r){Qc(r)}function Kc(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function m_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function am(r,s,o){return o=Vi(o),o.tag=3,o.payload={element:null},o.callback=function(){Kc(r,s)},o}function p_(r){return r=Vi(r),r.tag=3,r}function g_(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;r.payload=function(){return h(g)},r.callback=function(){m_(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){m_(s,o,u),typeof h!="function"&&($i===null?$i=new Set([this]):$i.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function rx(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&xl(s,o,h,!0),o=zn.current,o!==null){switch(o.tag){case 13:return wr===null?Nm():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Pd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Om(r,u,h)),!1;case 22:return o.flags|=65536,u===Pd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Om(r,u,h)),!1}throw Error(i(435,o.tag))}return Om(r,u,h),Nm(),!1}if(Qe)return s=zn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==Cd&&(r=Error(i(422),{cause:u}),Sl(Vn(r,o)))):(u!==Cd&&(s=Error(i(423),{cause:u}),Sl(Vn(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Vn(u,o),h=am(r.stateNode,u,h),Ud(r,h),vt!==4&&(vt=2)),!1;var g=Error(i(520),{cause:u});if(g=Vn(g,o),$l===null?$l=[g]:$l.push(g),vt!==4&&(vt=2),s===null)return!0;u=Vn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=am(o.stateNode,u,r),Ud(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&($i===null||!$i.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=p_(h),g_(h,r,o,u),Ud(o,h),!1}o=o.return}while(o!==null);return!1}var y_=Error(i(461)),Bt=!1;function Yt(r,s,o,u){s.child=r===null?o_(s,null,o,u):Ja(s,r.child,o,u)}function v_(r,s,o,u,h){o=o.render;var g=s.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return Ws(s),u=qd(r,s,o,T,g,h),A=Fd(),r!==null&&!Bt?(Gd(r,s,h),si(r,s,h)):(Qe&&A&&xd(s),s.flags|=1,Yt(r,s,u,h),s.child)}function __(r,s,o,u,h){if(r===null){var g=o.type;return typeof g=="function"&&!wd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,b_(r,s,g,u,h)):(r=Cc(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!mm(r,h)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:El,o(T,u)&&r.ref===s.ref)return si(r,s,h)}return s.flags|=1,r=Zr(g,u),r.ref=s.ref,r.return=s,s.child=r}function b_(r,s,o,u,h){if(r!==null){var g=r.memoizedProps;if(El(g,u)&&r.ref===s.ref)if(Bt=!1,s.pendingProps=u=g,mm(r,h))(r.flags&131072)!==0&&(Bt=!0);else return s.lanes=r.lanes,si(r,s,h)}return om(r,s,o,u,h)}function E_(r,s,o){var u=s.pendingProps,h=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(h=s.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return T_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Mc(s,g!==null?g.cachePool:null),g!==null?bv(s,g):zd(),l_(s);else return s.lanes=s.childLanes=536870912,T_(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Mc(s,g.cachePool),bv(s,g),zi(),s.memoizedState=null):(r!==null&&Mc(s,null),zd(),zi());return Yt(r,s,h,o),s.child}function T_(r,s,o,u){var h=kd();return h=h===null?null:{parent:Mt._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&Mc(s,null),zd(),l_(s),r!==null&&xl(r,s,u,!0),null}function Xc(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function om(r,s,o,u,h){return Ws(s),o=qd(r,s,o,u,void 0,h),u=Fd(),r!==null&&!Bt?(Gd(r,s,h),si(r,s,h)):(Qe&&u&&xd(s),s.flags|=1,Yt(r,s,o,h),s.child)}function w_(r,s,o,u,h,g){return Ws(s),s.updateQueue=null,o=Tv(s,u,o,h),Ev(r),u=Fd(),r!==null&&!Bt?(Gd(r,s,g),si(r,s,g)):(Qe&&u&&xd(s),s.flags|=1,Yt(r,s,o,g),s.child)}function A_(r,s,o,u,h){if(Ws(s),s.stateNode===null){var g=qa,T=o.contextType;typeof T=="object"&&T!==null&&(g=tn(T)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=sm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Vd(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?tn(T):qa,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(im(s,o,T,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&sm.enqueueReplaceState(g,g.state,null),Ml(s,u,g,h),Ol(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var A=s.memoizedProps,V=ea(o,A);g.props=V;var Q=g.context,ie=o.contextType;T=qa,typeof ie=="object"&&ie!==null&&(T=tn(ie));var oe=o.getDerivedStateFromProps;ie=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||Q!==T)&&c_(s,g,u,T),Pi=!1;var Z=s.memoizedState;g.state=Z,Ml(s,u,g,h),Ol(),Q=s.memoizedState,A||Z!==Q||Pi?(typeof oe=="function"&&(im(s,o,oe,u),Q=s.memoizedState),(V=Pi||u_(s,o,V,u,Z,Q,T))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=T,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Ld(r,s),T=s.memoizedProps,ie=ea(o,T),g.props=ie,oe=s.pendingProps,Z=g.context,Q=o.contextType,V=qa,typeof Q=="object"&&Q!==null&&(V=tn(Q)),A=o.getDerivedStateFromProps,(Q=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==oe||Z!==V)&&c_(s,g,u,V),Pi=!1,Z=s.memoizedState,g.state=Z,Ml(s,u,g,h),Ol();var ee=s.memoizedState;T!==oe||Z!==ee||Pi||r!==null&&r.dependencies!==null&&Dc(r.dependencies)?(typeof A=="function"&&(im(s,o,A,u),ee=s.memoizedState),(ie=Pi||u_(s,o,ie,u,Z,ee,V)||r!==null&&r.dependencies!==null&&Dc(r.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ee,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ee,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ee),g.props=u,g.state=ee,g.context=V,u=ie):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,Xc(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=Ja(s,r.child,null,h),s.child=Ja(s,null,o,h)):Yt(r,s,o,h),s.memoizedState=g.state,r=s.child):r=si(r,s,h),r}function S_(r,s,o,u){return Al(),s.flags|=256,Yt(r,s,o,u),s.child}var lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function um(r){return{baseLanes:r,cachePool:hv()}}function cm(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Bn),r}function x_(r,s,o){var u=s.pendingProps,h=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=r!==null&&r.memoizedState===null?!1:(kt.current&2)!==0),T&&(h=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(Qe){if(h?ji(s):zi(),Qe){var A=yt,V;if(V=A){e:{for(V=A,A=Tr;V.nodeType!==8;){if(!A){A=null;break e}if(V=Xn(V.nextSibling),V===null){A=null;break e}}A=V}A!==null?(s.memoizedState={dehydrated:A,treeContext:$s!==null?{id:Jr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},V=Tn(18,null,null,0),V.stateNode=A,V.return=s,s.child=V,hn=s,yt=null,V=!0):V=!1}V||Ks(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Ym(A)?s.lanes=32:s.lanes=536870912,null;ii(s)}return A=u.children,u=u.fallback,h?(zi(),h=s.mode,A=Wc({mode:"hidden",children:A},h),u=Gs(u,h,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,h=s.child,h.memoizedState=um(o),h.childLanes=cm(r,T,o),s.memoizedState=lm,u):(ji(s),fm(s,A))}if(V=r.memoizedState,V!==null&&(A=V.dehydrated,A!==null)){if(g)s.flags&256?(ji(s),s.flags&=-257,s=hm(r,s,o)):s.memoizedState!==null?(zi(),s.child=r.child,s.flags|=128,s=null):(zi(),h=u.fallback,A=s.mode,u=Wc({mode:"visible",children:u.children},A),h=Gs(h,A,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,Ja(s,r.child,null,o),u=s.child,u.memoizedState=um(o),u.childLanes=cm(r,T,o),s.memoizedState=lm,s=h);else if(ji(s),Ym(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var Q=T.dgst;T=Q,u=Error(i(419)),u.stack="",u.digest=T,Sl({value:u,source:null,stack:null}),s=hm(r,s,o)}else if(Bt||xl(r,s,o,!1),T=(o&r.childLanes)!==0,Bt||T){if(T=ot,T!==null&&(u=o&-o,u=(u&42)!==0?1:Ri(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==V.retryLane))throw V.retryLane=u,Ha(r,u),Rn(T,r,u),y_;A.data==="$?"||Nm(),s=hm(r,s,o)}else A.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=V.treeContext,yt=Xn(A.nextSibling),hn=s,Qe=!0,Qs=null,Tr=!1,r!==null&&(Un[jn++]=Jr,Un[jn++]=ei,Un[jn++]=$s,Jr=r.id,ei=r.overflow,$s=s),s=fm(s,u.children),s.flags|=4096);return s}return h?(zi(),h=u.fallback,A=s.mode,V=r.child,Q=V.sibling,u=Zr(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,Q!==null?h=Zr(Q,h):(h=Gs(h,A,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,A=r.child.memoizedState,A===null?A=um(o):(V=A.cachePool,V!==null?(Q=Mt._currentValue,V=V.parent!==Q?{parent:Q,pool:Q}:V):V=hv(),A={baseLanes:A.baseLanes|o,cachePool:V}),h.memoizedState=A,h.childLanes=cm(r,T,o),s.memoizedState=lm,u):(ji(s),o=r.child,r=o.sibling,o=Zr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function fm(r,s){return s=Wc({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Wc(r,s){return r=Tn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function hm(r,s,o){return Ja(s,r.child,null,o),r=fm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function R_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Nd(r.return,s,o)}function dm(r,s,o,u,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=h)}function C_(r,s,o){var u=s.pendingProps,h=u.revealOrder,g=u.tail;if(Yt(r,s,u.children,o),u=kt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&R_(r,o,s);else if(r.tag===19)R_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(X(kt,u),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Yc(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),dm(s,!1,h,o,g);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Yc(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}dm(s,!0,o,null,g);break;case"together":dm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function si(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Gi|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(xl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Zr(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Zr(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function mm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Dc(r)))}function ix(r,s,o){switch(s.tag){case 3:Me(s,s.stateNode.containerInfo),ki(s,Mt,r.memoizedState.cache),Al();break;case 27:case 5:_t(s);break;case 4:Me(s,s.stateNode.containerInfo);break;case 10:ki(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ji(s),s.flags|=128,null):(o&s.child.childLanes)!==0?x_(r,s,o):(ji(s),r=si(r,s,o),r!==null?r.sibling:null);ji(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(xl(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return C_(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(kt,kt.current),u)break;return null;case 22:case 23:return s.lanes=0,E_(r,s,o);case 24:ki(s,Mt,r.memoizedState.cache)}return si(r,s,o)}function I_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Bt=!0;else{if(!mm(r,o)&&(s.flags&128)===0)return Bt=!1,ix(r,s,o);Bt=(r.flags&131072)!==0}else Bt=!1,Qe&&(s.flags&1048576)!==0&&sv(s,Nc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")wd(u)?(r=ea(u,r),s.tag=1,s=A_(null,s,u,r,o)):(s.tag=0,s=om(null,s,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===J){s.tag=11,s=v_(null,s,u,r,o);break e}else if(h===O){s.tag=14,s=__(null,s,u,r,o);break e}}throw s=de(u)||u,Error(i(306,s,""))}}return s;case 0:return om(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=ea(u,s.pendingProps),A_(r,s,u,h,o);case 3:e:{if(Me(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;h=g.element,Ld(r,s),Ml(s,u,null,o);var T=s.memoizedState;if(u=T.cache,ki(s,Mt,u),u!==g.cache&&Dd(s,[Mt],o,!0),Ol(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=S_(r,s,u,o);break e}else if(u!==h){h=Vn(Error(i(424)),s),Sl(h),s=S_(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(yt=Xn(r.firstChild),hn=s,Qe=!0,Qs=null,Tr=!0,o=o_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Al(),u===h){s=si(r,s,o);break e}Yt(r,s,u,o)}s=s.child}return s;case 26:return Xc(r,s),r===null?(o=M0(s.type,null,s.pendingProps,null))?s.memoizedState=o:Qe||(o=s.type,r=s.pendingProps,u=hf(Ee.current).createElement(o),u[Nt]=s,u[At]=r,Kt(u,o,r),bt(u),s.stateNode=u):s.memoizedState=M0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return _t(s),r===null&&Qe&&(u=s.stateNode=N0(s.type,s.pendingProps,Ee.current),hn=s,Tr=!0,h=yt,Ki(s.type)?(Qm=h,yt=Xn(u.firstChild)):yt=h),Yt(r,s,s.pendingProps.children,o),Xc(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Qe&&((h=u=yt)&&(u=Ox(u,s.type,s.pendingProps,Tr),u!==null?(s.stateNode=u,hn=s,yt=Xn(u.firstChild),Tr=!1,h=!0):h=!1),h||Ks(s)),_t(s),h=s.type,g=s.pendingProps,T=r!==null?r.memoizedProps:null,u=g.children,Fm(h,g)?u=null:T!==null&&Fm(h,T)&&(s.flags|=32),s.memoizedState!==null&&(h=qd(r,s,XS,null,null,o),tu._currentValue=h),Xc(r,s),Yt(r,s,u,o),s.child;case 6:return r===null&&Qe&&((r=o=yt)&&(o=Mx(o,s.pendingProps,Tr),o!==null?(s.stateNode=o,hn=s,yt=null,r=!0):r=!1),r||Ks(s)),null;case 13:return x_(r,s,o);case 4:return Me(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Ja(s,null,u,o):Yt(r,s,u,o),s.child;case 11:return v_(r,s,s.type,s.pendingProps,o);case 7:return Yt(r,s,s.pendingProps,o),s.child;case 8:return Yt(r,s,s.pendingProps.children,o),s.child;case 12:return Yt(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ki(s,s.type,u.value),Yt(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,Ws(s),h=tn(h),u=u(h),s.flags|=1,Yt(r,s,u,o),s.child;case 14:return __(r,s,s.type,s.pendingProps,o);case 15:return b_(r,s,s.type,s.pendingProps,o);case 19:return C_(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Wc(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Zr(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return E_(r,s,o);case 24:return Ws(s),u=tn(Mt),r===null?(h=kd(),h===null&&(h=ot,g=Od(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),s.memoizedState={parent:u,cache:h},Vd(s),ki(s,Mt,h)):((r.lanes&o)!==0&&(Ld(r,s),Ml(s,null,null,o),Ol()),h=r.memoizedState,g=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),ki(s,Mt,u)):(u=g.cache,ki(s,Mt,u),u!==h.cache&&Dd(s,[Mt],o,!0))),Yt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ai(r){r.flags|=4}function N_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!U0(s)){if(s=zn.current,s!==null&&((Ge&4194048)===Ge?wr!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||s!==wr))throw Nl=Pd,dv;r.flags|=8192}}function Zc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?rl():536870912,r.lanes|=s,ro|=s)}function zl(r,s){if(!Qe)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function dt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function sx(r,s,o){var u=s.pendingProps;switch(Rd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(s),null;case 1:return dt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ni(Mt),st(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(wl(s)?ai(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,lv())),dt(s),null;case 26:return o=s.memoizedState,r===null?(ai(s),o!==null?(dt(s),N_(s,o)):(dt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(ai(s),dt(s),N_(s,o)):(dt(s),s.flags&=-16777217):(r.memoizedProps!==u&&ai(s),dt(s),s.flags&=-16777217),null;case 27:ht(s),o=Ee.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&ai(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return dt(s),null}r=fe.current,wl(s)?av(s):(r=N0(h,u,o),s.stateNode=r,ai(s))}return dt(s),null;case 5:if(ht(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&ai(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return dt(s),null}if(r=fe.current,wl(s))av(s);else{switch(h=hf(Ee.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Nt]=s,r[At]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(Kt(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ai(s)}}return dt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&ai(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ee.current,wl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=hn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Nt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||w0(r.nodeValue,o)),r||Ks(s)}else r=hf(r).createTextNode(u),r[Nt]=s,s.stateNode=r}return dt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=wl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Nt]=s}else Al(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),h=!1}else h=lv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(ii(s),s):(ii(s),null)}if(ii(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Zc(s,s.updateQueue),dt(s),null;case 4:return st(),r===null&&jm(s.stateNode.containerInfo),dt(s),null;case 10:return ni(s.type),dt(s),null;case 19:if(ue(kt),h=s.memoizedState,h===null)return dt(s),null;if(u=(s.flags&128)!==0,g=h.rendering,g===null)if(u)zl(h,!1);else{if(vt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Yc(r),g!==null){for(s.flags|=128,zl(h,!1),r=g.updateQueue,s.updateQueue=r,Zc(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)iv(o,r),o=o.sibling;return X(kt,kt.current&1|2),s.child}r=r.sibling}h.tail!==null&&dn()>tf&&(s.flags|=128,u=!0,zl(h,!1),s.lanes=4194304)}else{if(!u)if(r=Yc(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Zc(s,r),zl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Qe)return dt(s),null}else 2*dn()-h.renderingStartTime>tf&&o!==536870912&&(s.flags|=128,u=!0,zl(h,!1),s.lanes=4194304);h.isBackwards?(g.sibling=s.child,s.child=g):(r=h.last,r!==null?r.sibling=g:s.child=g,h.last=g)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=dn(),s.sibling=null,r=kt.current,X(kt,u?r&1|2:r&1),s):(dt(s),null);case 22:case 23:return ii(s),Bd(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(dt(s),s.subtreeFlags&6&&(s.flags|=8192)):dt(s),o=s.updateQueue,o!==null&&Zc(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&ue(Zs),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ni(Mt),dt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function ax(r,s){switch(Rd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ni(Mt),st(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ht(s),null;case 13:if(ii(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Al()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ue(kt),null;case 4:return st(),null;case 10:return ni(s.type),null;case 22:case 23:return ii(s),Bd(),r!==null&&ue(Zs),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ni(Mt),null;case 25:return null;default:return null}}function D_(r,s){switch(Rd(s),s.tag){case 3:ni(Mt),st();break;case 26:case 27:case 5:ht(s);break;case 4:st();break;case 13:ii(s);break;case 19:ue(kt);break;case 10:ni(s.type);break;case 22:case 23:ii(s),Bd(),r!==null&&ue(Zs);break;case 24:ni(Mt)}}function Bl(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==h)}}catch(A){at(s,s.return,A)}}function Bi(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&r)===r){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,h=s;var V=o,Q=A;try{Q()}catch(ie){at(h,V,ie)}}}u=u.next}while(u!==g)}}catch(ie){at(s,s.return,ie)}}function O_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{_v(s,o)}catch(u){at(r,r.return,u)}}}function M_(r,s,o){o.props=ea(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){at(r,s,u)}}function Hl(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){at(r,s,h)}}function Ar(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){at(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){at(r,s,h)}else o.current=null}function k_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){at(r,r.return,h)}}function pm(r,s,o){try{var u=r.stateNode;Rx(u,r.type,o,s),u[At]=s}catch(h){at(r,r.return,h)}}function P_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ki(r.type)||r.tag===4}function gm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||P_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ki(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ym(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ff));else if(u!==4&&(u===27&&Ki(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(ym(r,s,o),r=r.sibling;r!==null;)ym(r,s,o),r=r.sibling}function Jc(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&Ki(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Jc(r,s,o),r=r.sibling;r!==null;)Jc(r,s,o),r=r.sibling}function V_(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Kt(s,u,o),s[Nt]=r,s[At]=o}catch(g){at(r,r.return,g)}}var oi=!1,Tt=!1,vm=!1,L_=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function ox(r,s){if(r=r.containerInfo,Hm=vf,r=Qy(r),gd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,A=-1,V=-1,Q=0,ie=0,oe=r,Z=null;t:for(;;){for(var ee;oe!==o||h!==0&&oe.nodeType!==3||(A=T+h),oe!==g||u!==0&&oe.nodeType!==3||(V=T+u),oe.nodeType===3&&(T+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)Z=oe,oe=ee;for(;;){if(oe===r)break t;if(Z===o&&++Q===h&&(A=T),Z===g&&++ie===u&&(V=T),(ee=oe.nextSibling)!==null)break;oe=Z,Z=oe.parentNode}oe=ee}o=A===-1||V===-1?null:{start:A,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(qm={focusedElem:r,selectionRange:o},vf=!1,Ht=s;Ht!==null;)if(s=Ht,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Ht=r;else for(;Ht!==null;){switch(s=Ht,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,h=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ce=ea(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ce,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Se){at(o,o.return,Se)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)$m(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":$m(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Ht=r;break}Ht=s.return}}function U_(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Hi(r,o),u&4&&Bl(5,o);break;case 1:if(Hi(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){at(o,o.return,T)}else{var h=ea(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){at(o,o.return,T)}}u&64&&O_(o),u&512&&Hl(o,o.return);break;case 3:if(Hi(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{_v(r,s)}catch(T){at(o,o.return,T)}}break;case 27:s===null&&u&4&&V_(o);case 26:case 5:Hi(r,o),s===null&&u&4&&k_(o),u&512&&Hl(o,o.return);break;case 12:Hi(r,o);break;case 13:Hi(r,o),u&4&&B_(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=gx.bind(null,o),kx(r,o))));break;case 22:if(u=o.memoizedState!==null||oi,!u){s=s!==null&&s.memoizedState!==null||Tt,h=oi;var g=Tt;oi=u,(Tt=s)&&!g?qi(r,o,(o.subtreeFlags&8772)!==0):Hi(r,o),oi=h,Tt=g}break;case 30:break;default:Hi(r,o)}}function j_(r){var s=r.alternate;s!==null&&(r.alternate=null,j_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ni(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ut=null,pn=!1;function li(r,s,o){for(o=o.child;o!==null;)z_(r,s,o),o=o.sibling}function z_(r,s,o){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(gt,o)}catch{}switch(o.tag){case 26:Tt||Ar(o,s),li(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Tt||Ar(o,s);var u=ut,h=pn;Ki(o.type)&&(ut=o.stateNode,pn=!1),li(r,s,o),Wl(o.stateNode),ut=u,pn=h;break;case 5:Tt||Ar(o,s);case 6:if(u=ut,h=pn,ut=null,li(r,s,o),ut=u,pn=h,ut!==null)if(pn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(o.stateNode)}catch(g){at(o,s,g)}else try{ut.removeChild(o.stateNode)}catch(g){at(o,s,g)}break;case 18:ut!==null&&(pn?(r=ut,C0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),su(r)):C0(ut,o.stateNode));break;case 4:u=ut,h=pn,ut=o.stateNode.containerInfo,pn=!0,li(r,s,o),ut=u,pn=h;break;case 0:case 11:case 14:case 15:Tt||Bi(2,o,s),Tt||Bi(4,o,s),li(r,s,o);break;case 1:Tt||(Ar(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&M_(o,s,u)),li(r,s,o);break;case 21:li(r,s,o);break;case 22:Tt=(u=Tt)||o.memoizedState!==null,li(r,s,o),Tt=u;break;default:li(r,s,o)}}function B_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{su(r)}catch(o){at(s,s.return,o)}}function lx(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new L_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new L_),s;default:throw Error(i(435,r.tag))}}function _m(r,s){var o=lx(r);s.forEach(function(u){var h=yx.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function wn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],g=r,T=s,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(Ki(A.type)){ut=A.stateNode,pn=!1;break e}break;case 5:ut=A.stateNode,pn=!1;break e;case 3:case 4:ut=A.stateNode.containerInfo,pn=!0;break e}A=A.return}if(ut===null)throw Error(i(160));z_(g,T,h),ut=null,pn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)H_(s,r),s=s.sibling}var Kn=null;function H_(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:wn(s,r),An(r),u&4&&(Bi(3,r,r.return),Bl(3,r),Bi(5,r,r.return));break;case 1:wn(s,r),An(r),u&512&&(Tt||o===null||Ar(o,o.return)),u&64&&oi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Kn;if(wn(s,r),An(r),u&512&&(Tt||o===null||Ar(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Is]||g[Nt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),Kt(g,u,o),g[Nt]=r,bt(g),u=g;break e;case"link":var T=V0("link","href",h).get(u+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(g=T[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break t}}g=h.createElement(u),Kt(g,u,o),h.head.appendChild(g);break;case"meta":if(T=V0("meta","content",h).get(u+(o.content||""))){for(A=0;A<T.length;A++)if(g=T[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break t}}g=h.createElement(u),Kt(g,u,o),h.head.appendChild(g);break;default:throw Error(i(468,u))}g[Nt]=r,bt(g),u=g}r.stateNode=u}else L0(h,r.type,r.stateNode);else r.stateNode=P0(h,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?L0(h,r.type,r.stateNode):P0(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&pm(r,r.memoizedProps,o.memoizedProps)}break;case 27:wn(s,r),An(r),u&512&&(Tt||o===null||Ar(o,o.return)),o!==null&&u&4&&pm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(wn(s,r),An(r),u&512&&(Tt||o===null||Ar(o,o.return)),r.flags&32){h=r.stateNode;try{On(h,"")}catch(ee){at(r,r.return,ee)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,pm(r,h,o!==null?o.memoizedProps:h)),u&1024&&(vm=!0);break;case 6:if(wn(s,r),An(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(ee){at(r,r.return,ee)}}break;case 3:if(pf=null,h=Kn,Kn=df(s.containerInfo),wn(s,r),Kn=h,An(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{su(s.containerInfo)}catch(ee){at(r,r.return,ee)}vm&&(vm=!1,q_(r));break;case 4:u=Kn,Kn=df(r.stateNode.containerInfo),wn(s,r),An(r),Kn=u;break;case 12:wn(s,r),An(r);break;case 13:wn(s,r),An(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Sm=dn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,_m(r,u)));break;case 22:h=r.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,Q=oi,ie=Tt;if(oi=Q||h,Tt=ie||V,wn(s,r),Tt=ie,oi=Q,An(r),u&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||V||oi||Tt||ta(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,h)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=V.stateNode;var oe=V.memoizedProps.style,Z=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;A.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ee){at(V,V.return,ee)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=h?"":V.memoizedProps}catch(ee){at(V,V.return,ee)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,_m(r,o))));break;case 19:wn(s,r),An(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,_m(r,u)));break;case 30:break;case 21:break;default:wn(s,r),An(r)}}function An(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(P_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,g=gm(r);Jc(r,g,h);break;case 5:var T=o.stateNode;o.flags&32&&(On(T,""),o.flags&=-33);var A=gm(r);Jc(r,A,T);break;case 3:case 4:var V=o.stateNode.containerInfo,Q=gm(r);ym(r,Q,V);break;default:throw Error(i(161))}}catch(ie){at(r,r.return,ie)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function q_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;q_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Hi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)U_(r,s.alternate,s),s=s.sibling}function ta(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Bi(4,s,s.return),ta(s);break;case 1:Ar(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&M_(s,s.return,o),ta(s);break;case 27:Wl(s.stateNode);case 26:case 5:Ar(s,s.return),ta(s);break;case 22:s.memoizedState===null&&ta(s);break;case 30:ta(s);break;default:ta(s)}r=r.sibling}}function qi(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:qi(h,g,o),Bl(4,g);break;case 1:if(qi(h,g,o),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){at(u,u.return,Q)}if(u=g,h=u.updateQueue,h!==null){var A=u.stateNode;try{var V=h.shared.hiddenCallbacks;if(V!==null)for(h.shared.hiddenCallbacks=null,h=0;h<V.length;h++)vv(V[h],A)}catch(Q){at(u,u.return,Q)}}o&&T&64&&O_(g),Hl(g,g.return);break;case 27:V_(g);case 26:case 5:qi(h,g,o),o&&u===null&&T&4&&k_(g),Hl(g,g.return);break;case 12:qi(h,g,o);break;case 13:qi(h,g,o),o&&T&4&&B_(h,g);break;case 22:g.memoizedState===null&&qi(h,g,o),Hl(g,g.return);break;case 30:break;default:qi(h,g,o)}s=s.sibling}}function bm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Rl(o))}function Em(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Rl(r))}function Sr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)F_(r,s,o,u),s=s.sibling}function F_(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Sr(r,s,o,u),h&2048&&Bl(9,s);break;case 1:Sr(r,s,o,u);break;case 3:Sr(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Rl(r)));break;case 12:if(h&2048){Sr(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,T=g.id,A=g.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){at(s,s.return,V)}}else Sr(r,s,o,u);break;case 13:Sr(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Sr(r,s,o,u):ql(r,s):g._visibility&2?Sr(r,s,o,u):(g._visibility|=2,eo(r,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&bm(T,s);break;case 24:Sr(r,s,o,u),h&2048&&Em(s.alternate,s);break;default:Sr(r,s,o,u)}}function eo(r,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,T=s,A=o,V=u,Q=T.flags;switch(T.tag){case 0:case 11:case 15:eo(g,T,A,V,h),Bl(8,T);break;case 23:break;case 22:var ie=T.stateNode;T.memoizedState!==null?ie._visibility&2?eo(g,T,A,V,h):ql(g,T):(ie._visibility|=2,eo(g,T,A,V,h)),h&&Q&2048&&bm(T.alternate,T);break;case 24:eo(g,T,A,V,h),h&&Q&2048&&Em(T.alternate,T);break;default:eo(g,T,A,V,h)}s=s.sibling}}function ql(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:ql(o,u),h&2048&&bm(u.alternate,u);break;case 24:ql(o,u),h&2048&&Em(u.alternate,u);break;default:ql(o,u)}s=s.sibling}}var Fl=8192;function to(r){if(r.subtreeFlags&Fl)for(r=r.child;r!==null;)G_(r),r=r.sibling}function G_(r){switch(r.tag){case 26:to(r),r.flags&Fl&&r.memoizedState!==null&&Yx(Kn,r.memoizedState,r.memoizedProps);break;case 5:to(r);break;case 3:case 4:var s=Kn;Kn=df(r.stateNode.containerInfo),to(r),Kn=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Fl,Fl=16777216,to(r),Fl=s):to(r));break;default:to(r)}}function $_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Gl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ht=u,Q_(u,r)}$_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Y_(r),r=r.sibling}function Y_(r){switch(r.tag){case 0:case 11:case 15:Gl(r),r.flags&2048&&Bi(9,r,r.return);break;case 3:Gl(r);break;case 12:Gl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,ef(r)):Gl(r);break;default:Gl(r)}}function ef(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ht=u,Q_(u,r)}$_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Bi(8,s,s.return),ef(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,ef(s));break;default:ef(s)}r=r.sibling}}function Q_(r,s){for(;Ht!==null;){var o=Ht;switch(o.tag){case 0:case 11:case 15:Bi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Rl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ht=u;else e:for(o=r;Ht!==null;){u=Ht;var h=u.sibling,g=u.return;if(j_(u),u===o){Ht=null;break e}if(h!==null){h.return=g,Ht=h;break e}Ht=g}}}var ux={getCacheForType:function(r){var s=tn(Mt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},cx=typeof WeakMap=="function"?WeakMap:Map,Je=0,ot=null,je=null,Ge=0,et=0,Sn=null,Fi=!1,no=!1,Tm=!1,ui=0,vt=0,Gi=0,na=0,wm=0,Bn=0,ro=0,$l=null,gn=null,Am=!1,Sm=0,tf=1/0,nf=null,$i=null,Qt=0,Yi=null,io=null,so=0,xm=0,Rm=null,K_=null,Yl=0,Cm=null;function xn(){if((Je&2)!==0&&Ge!==0)return Ge&-Ge;if(q.T!==null){var r=$a;return r!==0?r:Pm()}return Ci()}function X_(){Bn===0&&(Bn=(Ge&536870912)===0||Qe?nl():536870912);var r=zn.current;return r!==null&&(r.flags|=32),Bn}function Rn(r,s,o){(r===ot&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(ao(r,0),Qi(r,Ge,Bn,!1)),Br(r,o),((Je&2)===0||r!==ot)&&(r===ot&&((Je&2)===0&&(na|=o),vt===4&&Qi(r,Ge,Bn,!1)),xr(r))}function W_(r,s,o){if((Je&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Cs(r,s),h=u?dx(r,s):Dm(r,s,!0),g=u;do{if(h===0){no&&!u&&Qi(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!fx(o)){h=Dm(r,s,!1),g=!1;continue}if(h===2){if(g=s,r.errorRecoveryDisabledLanes&g)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var A=r;h=$l;var V=A.current.memoizedState.isDehydrated;if(V&&(ao(A,T).flags|=256),T=Dm(A,T,!1),T!==2){if(Tm&&!V){A.errorRecoveryDisabledLanes|=g,na|=g,h=4;break e}g=gn,gn=h,g!==null&&(gn===null?gn=g:gn.push.apply(gn,g))}h=T}if(g=!1,h!==2)continue}}if(h===1){ao(r,0),Qi(r,s,0,!0);break}e:{switch(u=r,g=h,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Qi(u,s,Bn,!Fi);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=Sm+300-dn(),10<h)){if(Qi(u,s,Bn,!Fi),wa(u,0,!0)!==0)break e;u.timeoutHandle=x0(Z_.bind(null,u,o,gn,nf,Am,s,Bn,na,ro,Fi,g,2,-0,0),h);break e}Z_(u,o,gn,nf,Am,s,Bn,na,ro,Fi,g,0,-0,0)}}break}while(!0);xr(r)}function Z_(r,s,o,u,h,g,T,A,V,Q,ie,oe,Z,ee){if(r.timeoutHandle=-1,oe=s.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(eu={stylesheets:null,count:0,unsuspend:$x},G_(s),oe=Qx(),oe!==null)){r.cancelPendingCommit=oe(s0.bind(null,r,s,g,o,u,h,T,A,V,ie,1,Z,ee)),Qi(r,g,T,!Q);return}s0(r,s,g,o,u,h,T,A,V)}function fx(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],g=h.getSnapshot;h=h.value;try{if(!En(g(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qi(r,s,o,u){s&=~wm,s&=~na,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var g=31-en(h),T=1<<g;u[g]=-1,h&=~T}o!==0&&fr(r,o,s)}function rf(){return(Je&6)===0?(Ql(0),!1):!0}function Im(){if(je!==null){if(et===0)var r=je.return;else r=je,ti=Xs=null,$d(r),Za=null,Ul=0,r=je;for(;r!==null;)D_(r.alternate,r),r=r.return;je=null}}function ao(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,Ix(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Im(),ot=r,je=o=Zr(r.current,null),Ge=s,et=0,Sn=null,Fi=!1,no=Cs(r,s),Tm=!1,ro=Bn=wm=na=Gi=vt=0,gn=$l=null,Am=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-en(u),g=1<<h;s|=r[h],u&=~g}return ui=s,Sc(),o}function J_(r,s){Pe=null,q.H=Fc,s===Il||s===kc?(s=gv(),et=3):s===dv?(s=gv(),et=4):et=s===y_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Sn=s,je===null&&(vt=1,Kc(r,Vn(s,r.current)))}function e0(){var r=q.H;return q.H=Fc,r===null?Fc:r}function t0(){var r=q.A;return q.A=ux,r}function Nm(){vt=4,Fi||(Ge&4194048)!==Ge&&zn.current!==null||(no=!0),(Gi&134217727)===0&&(na&134217727)===0||ot===null||Qi(ot,Ge,Bn,!1)}function Dm(r,s,o){var u=Je;Je|=2;var h=e0(),g=t0();(ot!==r||Ge!==s)&&(nf=null,ao(r,s)),s=!1;var T=vt;e:do try{if(et!==0&&je!==null){var A=je,V=Sn;switch(et){case 8:Im(),T=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(s=!0);var Q=et;if(et=0,Sn=null,oo(r,A,V,Q),o&&no){T=0;break e}break;default:Q=et,et=0,Sn=null,oo(r,A,V,Q)}}hx(),T=vt;break}catch(ie){J_(r,ie)}while(!0);return s&&r.shellSuspendCounter++,ti=Xs=null,Je=u,q.H=h,q.A=g,je===null&&(ot=null,Ge=0,Sc()),T}function hx(){for(;je!==null;)n0(je)}function dx(r,s){var o=Je;Je|=2;var u=e0(),h=t0();ot!==r||Ge!==s?(nf=null,tf=dn()+500,ao(r,s)):no=Cs(r,s);e:do try{if(et!==0&&je!==null){s=je;var g=Sn;t:switch(et){case 1:et=0,Sn=null,oo(r,s,g,1);break;case 2:case 9:if(mv(g)){et=0,Sn=null,r0(s);break}s=function(){et!==2&&et!==9||ot!==r||(et=7),xr(r)},g.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:mv(g)?(et=0,Sn=null,r0(s)):(et=0,Sn=null,oo(r,s,g,7));break;case 5:var T=null;switch(je.tag){case 26:T=je.memoizedState;case 5:case 27:var A=je;if(!T||U0(T)){et=0,Sn=null;var V=A.sibling;if(V!==null)je=V;else{var Q=A.return;Q!==null?(je=Q,sf(Q)):je=null}break t}}et=0,Sn=null,oo(r,s,g,5);break;case 6:et=0,Sn=null,oo(r,s,g,6);break;case 8:Im(),vt=6;break e;default:throw Error(i(462))}}mx();break}catch(ie){J_(r,ie)}while(!0);return ti=Xs=null,q.H=u,q.A=h,Je=o,je!==null?0:(ot=null,Ge=0,Sc(),vt)}function mx(){for(;je!==null&&!ws();)n0(je)}function n0(r){var s=I_(r.alternate,r,ui);r.memoizedProps=r.pendingProps,s===null?sf(r):je=s}function r0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=w_(o,s,s.pendingProps,s.type,void 0,Ge);break;case 11:s=w_(o,s,s.pendingProps,s.type.render,s.ref,Ge);break;case 5:$d(s);default:D_(o,s),s=je=iv(s,ui),s=I_(o,s,ui)}r.memoizedProps=r.pendingProps,s===null?sf(r):je=s}function oo(r,s,o,u){ti=Xs=null,$d(s),Za=null,Ul=0;var h=s.return;try{if(rx(r,h,s,o,Ge)){vt=1,Kc(r,Vn(o,r.current)),je=null;return}}catch(g){if(h!==null)throw je=h,g;vt=1,Kc(r,Vn(o,r.current)),je=null;return}s.flags&32768?(Qe||u===1?r=!0:no||(Ge&536870912)!==0?r=!1:(Fi=r=!0,(u===2||u===9||u===3||u===6)&&(u=zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),i0(s,r)):sf(s)}function sf(r){var s=r;do{if((s.flags&32768)!==0){i0(s,Fi);return}r=s.return;var o=sx(s.alternate,s,ui);if(o!==null){je=o;return}if(s=s.sibling,s!==null){je=s;return}je=s=r}while(s!==null);vt===0&&(vt=5)}function i0(r,s){do{var o=ax(r.alternate,r);if(o!==null){o.flags&=32767,je=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){je=r;return}je=r=o}while(r!==null);vt=6,je=null}function s0(r,s,o,u,h,g,T,A,V){r.cancelPendingCommit=null;do af();while(Qt!==0);if((Je&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=Ed,il(r,o,g,T,A,V),r===ot&&(je=ot=null,Ge=0),io=s,Yi=r,so=o,xm=g,Rm=h,K_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,vx(As,function(){return c0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,h=re.p,re.p=2,T=Je,Je|=4;try{ox(r,s,o)}finally{Je=T,re.p=h,q.T=u}}Qt=1,a0(),o0(),l0()}}function a0(){if(Qt===1){Qt=0;var r=Yi,s=io,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var u=re.p;re.p=2;var h=Je;Je|=4;try{H_(s,r);var g=qm,T=Qy(r.containerInfo),A=g.focusedElem,V=g.selectionRange;if(T!==A&&A&&A.ownerDocument&&Yy(A.ownerDocument.documentElement,A)){if(V!==null&&gd(A)){var Q=V.start,ie=V.end;if(ie===void 0&&(ie=Q),"selectionStart"in A)A.selectionStart=Q,A.selectionEnd=Math.min(ie,A.value.length);else{var oe=A.ownerDocument||document,Z=oe&&oe.defaultView||window;if(Z.getSelection){var ee=Z.getSelection(),Ce=A.textContent.length,Se=Math.min(V.start,Ce),it=V.end===void 0?Se:Math.min(V.end,Ce);!ee.extend&&Se>it&&(T=it,it=Se,Se=T);var F=$y(A,Se),B=$y(A,it);if(F&&B&&(ee.rangeCount!==1||ee.anchorNode!==F.node||ee.anchorOffset!==F.offset||ee.focusNode!==B.node||ee.focusOffset!==B.offset)){var Y=oe.createRange();Y.setStart(F.node,F.offset),ee.removeAllRanges(),Se>it?(ee.addRange(Y),ee.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),ee.addRange(Y))}}}}for(oe=[],ee=A;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<oe.length;A++){var se=oe[A];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}vf=!!Hm,qm=Hm=null}finally{Je=h,re.p=u,q.T=o}}r.current=s,Qt=2}}function o0(){if(Qt===2){Qt=0;var r=Yi,s=io,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var u=re.p;re.p=2;var h=Je;Je|=4;try{U_(r,s.alternate,s)}finally{Je=h,re.p=u,q.T=o}}Qt=3}}function l0(){if(Qt===4||Qt===3){Qt=0,ba();var r=Yi,s=io,o=so,u=K_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Qt=5:(Qt=0,io=Yi=null,u0(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&($i=null),Aa(o),s=s.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(gt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=q.T,h=re.p,re.p=2,q.T=null;try{for(var g=r.onRecoverableError,T=0;T<u.length;T++){var A=u[T];g(A.value,{componentStack:A.stack})}}finally{q.T=s,re.p=h}}(so&3)!==0&&af(),xr(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===Cm?Yl++:(Yl=0,Cm=r):Yl=0,Ql(0)}}function u0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Rl(s)))}function af(r){return a0(),o0(),l0(),c0()}function c0(){if(Qt!==5)return!1;var r=Yi,s=xm;xm=0;var o=Aa(so),u=q.T,h=re.p;try{re.p=32>o?32:o,q.T=null,o=Rm,Rm=null;var g=Yi,T=so;if(Qt=0,io=Yi=null,so=0,(Je&6)!==0)throw Error(i(331));var A=Je;if(Je|=4,Y_(g.current),F_(g,g.current,T,o),Je=A,Ql(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(gt,g)}catch{}return!0}finally{re.p=h,q.T=u,u0(r,s)}}function f0(r,s,o){s=Vn(o,s),s=am(r.stateNode,s,2),r=Li(r,s,2),r!==null&&(Br(r,2),xr(r))}function at(r,s,o){if(r.tag===3)f0(r,r,o);else for(;s!==null;){if(s.tag===3){f0(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($i===null||!$i.has(u))){r=Vn(o,r),o=p_(2),u=Li(s,o,2),u!==null&&(g_(o,u,s,r),Br(u,2),xr(u));break}}s=s.return}}function Om(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new cx;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(Tm=!0,h.add(o),r=px.bind(null,r,s,o),s.then(r,r))}function px(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ot===r&&(Ge&o)===o&&(vt===4||vt===3&&(Ge&62914560)===Ge&&300>dn()-Sm?(Je&2)===0&&ao(r,0):wm|=o,ro===Ge&&(ro=0)),xr(r)}function h0(r,s){s===0&&(s=rl()),r=Ha(r,s),r!==null&&(Br(r,s),xr(r))}function gx(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),h0(r,o)}function yx(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),h0(r,o)}function vx(r,s){return vn(r,s)}var of=null,lo=null,Mm=!1,lf=!1,km=!1,ra=0;function xr(r){r!==lo&&r.next===null&&(lo===null?of=lo=r:lo=lo.next=r),lf=!0,Mm||(Mm=!0,bx())}function Ql(r,s){if(!km&&lf){km=!0;do for(var o=!1,u=of;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var T=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-en(42|r)+1)-1,g&=h&~(T&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,g0(u,g))}else g=Ge,g=wa(u,u===ot?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Cs(u,g)||(o=!0,g0(u,g));u=u.next}while(o);km=!1}}function _x(){d0()}function d0(){lf=Mm=!1;var r=0;ra!==0&&(Cx()&&(r=ra),ra=0);for(var s=dn(),o=null,u=of;u!==null;){var h=u.next,g=m0(u,s);g===0?(u.next=null,o===null?of=h:o.next=h,h===null&&(lo=o)):(o=u,(r!==0||(g&3)!==0)&&(lf=!0)),u=h}Ql(r)}function m0(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var T=31-en(g),A=1<<T,V=h[T];V===-1?((A&o)===0||(A&u)!==0)&&(h[T]=tl(A,s)):V<=s&&(r.expiredLanes|=A),g&=~A}if(s=ot,o=Ge,o=wa(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(et===2||et===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&ur(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Cs(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&ur(u),Aa(o)){case 2:case 8:o=Ea;break;case 32:o=As;break;case 268435456:o=Ta;break;default:o=As}return u=p0.bind(null,r),o=vn(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&ur(u),r.callbackPriority=2,r.callbackNode=null,2}function p0(r,s){if(Qt!==0&&Qt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(af()&&r.callbackNode!==o)return null;var u=Ge;return u=wa(r,r===ot?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(W_(r,u,s),m0(r,dn()),r.callbackNode!=null&&r.callbackNode===o?p0.bind(null,r):null)}function g0(r,s){if(af())return null;W_(r,s,!0)}function bx(){Nx(function(){(Je&6)!==0?vn(cr,_x):d0()})}function Pm(){return ra===0&&(ra=nl()),ra}function y0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Na(""+r)}function v0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function Ex(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var g=y0((h[At]||null).action),T=u.submitter;T&&(s=(s=T[At]||null)?y0(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var A=new Da("action","action",null,u,h);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ra!==0){var V=T?v0(h,T):new FormData(h);tm(o,{pending:!0,data:V,method:h.method,action:g},null,V)}}else typeof g=="function"&&(A.preventDefault(),V=T?v0(h,T):new FormData(h),tm(o,{pending:!0,data:V,method:h.method,action:g},g,V))},currentTarget:h}]})}}for(var Vm=0;Vm<bd.length;Vm++){var Lm=bd[Vm],Tx=Lm.toLowerCase(),wx=Lm[0].toUpperCase()+Lm.slice(1);Qn(Tx,"on"+wx)}Qn(Wy,"onAnimationEnd"),Qn(Zy,"onAnimationIteration"),Qn(Jy,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(zS,"onTransitionRun"),Qn(BS,"onTransitionStart"),Qn(HS,"onTransitionCancel"),Qn(ev,"onTransitionEnd"),qr("onMouseEnter",["mouseout","mouseover"]),qr("onMouseLeave",["mouseout","mouseover"]),qr("onPointerEnter",["pointerout","pointerover"]),qr("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ax=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function _0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var A=u[T],V=A.instance,Q=A.currentTarget;if(A=A.listener,V!==g&&h.isPropagationStopped())break e;g=A,h.currentTarget=Q;try{g(h)}catch(ie){Qc(ie)}h.currentTarget=null,g=V}else for(T=0;T<u.length;T++){if(A=u[T],V=A.instance,Q=A.currentTarget,A=A.listener,V!==g&&h.isPropagationStopped())break e;g=A,h.currentTarget=Q;try{g(h)}catch(ie){Qc(ie)}h.currentTarget=null,g=V}}}}function ze(r,s){var o=s[al];o===void 0&&(o=s[al]=new Set);var u=r+"__bubble";o.has(u)||(b0(s,r,2,!1),o.add(u))}function Um(r,s,o){var u=0;s&&(u|=4),b0(o,r,u,s)}var uf="_reactListening"+Math.random().toString(36).slice(2);function jm(r){if(!r[uf]){r[uf]=!0,ol.forEach(function(o){o!=="selectionchange"&&(Ax.has(o)||Um(o,!1,r),Um(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[uf]||(s[uf]=!0,Um("selectionchange",!1,s))}}function b0(r,s,o,u){switch(F0(s)){case 2:var h=Wx;break;case 8:h=Zx;break;default:h=Jm}o=h.bind(null,s,o,r),h=void 0,!kn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function zm(r,s,o,u,h){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===h)break;if(T===4)for(T=u.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;A!==null;){if(T=Hr(A),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){u=g=T;continue e}A=A.parentNode}}u=u.return}cc(function(){var Q=g,ie=Mn(o),oe=[];e:{var Z=tv.get(r);if(Z!==void 0){var ee=Da,Ce=r;switch(r){case"keypress":if(yr(o)===0)break e;case"keydown":case"keyup":ee=La;break;case"focusin":Ce="focus",ee=ka;break;case"focusout":Ce="blur",ee=ka;break;case"beforeblur":case"afterblur":ee=ka;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=hd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=vc;break;case Wy:case Zy:case Jy:ee=Pa;break;case ev:ee=bc;break;case"scroll":case"scrollend":ee=fc;break;case"wheel":ee=Ua;break;case"copy":case"cut":case"paste":ee=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=_l;break;case"toggle":case"beforetoggle":ee=Tc}var Se=(s&4)!==0,it=!Se&&(r==="scroll"||r==="scrollend"),F=Se?Z!==null?Z+"Capture":null:Z;Se=[];for(var B=Q,Y;B!==null;){var se=B;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||F===null||(se=Vs(B,F),se!=null&&Se.push(Xl(B,se,Y))),it)break;B=B.return}0<Se.length&&(Z=new ee(Z,Ce,null,o,ie),oe.push({event:Z,listeners:Se}))}}if((s&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",Z&&o!==$r&&(Ce=o.relatedTarget||o.fromElement)&&(Hr(Ce)||Ce[Dn]))break e;if((ee||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,ee?(Ce=o.relatedTarget||o.toElement,ee=Q,Ce=Ce?Hr(Ce):null,Ce!==null&&(it=l(Ce),Se=Ce.tag,Ce!==it||Se!==5&&Se!==27&&Se!==6)&&(Ce=null)):(ee=null,Ce=Q),ee!==Ce)){if(Se=Pn,se="onMouseLeave",F="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Se=_l,se="onPointerLeave",F="onPointerEnter",B="pointer"),it=ee==null?Z:dr(ee),Y=Ce==null?Z:dr(Ce),Z=new Se(se,B+"leave",ee,o,ie),Z.target=it,Z.relatedTarget=Y,se=null,Hr(ie)===Q&&(Se=new Se(F,B+"enter",Ce,o,ie),Se.target=Y,Se.relatedTarget=it,se=Se),it=se,ee&&Ce)t:{for(Se=ee,F=Ce,B=0,Y=Se;Y;Y=uo(Y))B++;for(Y=0,se=F;se;se=uo(se))Y++;for(;0<B-Y;)Se=uo(Se),B--;for(;0<Y-B;)F=uo(F),Y--;for(;B--;){if(Se===F||F!==null&&Se===F.alternate)break t;Se=uo(Se),F=uo(F)}Se=null}else Se=null;ee!==null&&E0(oe,Z,ee,Se,!1),Ce!==null&&it!==null&&E0(oe,it,Ce,Se,!0)}}e:{if(Z=Q?dr(Q):window,ee=Z.nodeName&&Z.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Z.type==="file")var ye=zy;else if(Ot(Z))if(By)ye=LS;else{ye=PS;var Ue=kS}else ee=Z.nodeName,!ee||ee.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Q&&hl(Q.elementType)&&(ye=zy):ye=VS;if(ye&&(ye=ye(r,Q))){Wr(oe,ye,o,ie);break e}Ue&&Ue(r,Z,Q),r==="focusout"&&Q&&Z.type==="number"&&Q.memoizedProps.value!=null&&Oi(Z,"number",Z.value)}switch(Ue=Q?dr(Q):window,r){case"focusin":(Ot(Ue)||Ue.contentEditable==="true")&&(ja=Ue,yd=Q,Tl=null);break;case"focusout":Tl=yd=ja=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,Ky(oe,o,ie);break;case"selectionchange":if(jS)break;case"keydown":case"keyup":Ky(oe,o,ie)}var Te;if(br)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else qe?ne(r,o)&&(xe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(xe="onCompositionStart");xe&&(b&&o.locale!=="ko"&&(qe||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&qe&&(Te=ml()):(gr=ie,Mi="value"in gr?gr.value:gr.textContent,qe=!0)),Ue=cf(Q,xe),0<Ue.length&&(xe=new yl(xe,r,null,o,ie),oe.push({event:xe,listeners:Ue}),Te?xe.data=Te:(Te=he(o),Te!==null&&(xe.data=Te)))),(Te=y?Dt(r,o):Fe(r,o))&&(xe=cf(Q,"onBeforeInput"),0<xe.length&&(Ue=new yl("onBeforeInput","beforeinput",null,o,ie),oe.push({event:Ue,listeners:xe}),Ue.data=Te)),Ex(oe,r,Q,o,ie)}_0(oe,s)})}function Xl(r,s,o){return{instance:r,listener:s,currentTarget:o}}function cf(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Vs(r,o),h!=null&&u.unshift(Xl(r,h,g)),h=Vs(r,s),h!=null&&u.push(Xl(r,h,g))),r.tag===3)return u;r=r.return}return[]}function uo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function E0(r,s,o,u,h){for(var g=s._reactName,T=[];o!==null&&o!==u;){var A=o,V=A.alternate,Q=A.stateNode;if(A=A.tag,V!==null&&V===u)break;A!==5&&A!==26&&A!==27||Q===null||(V=Q,h?(Q=Vs(o,g),Q!=null&&T.unshift(Xl(o,Q,V))):h||(Q=Vs(o,g),Q!=null&&T.push(Xl(o,Q,V)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var Sx=/\r\n?/g,xx=/\u0000|\uFFFD/g;function T0(r){return(typeof r=="string"?r:""+r).replace(Sx,`
`).replace(xx,"")}function w0(r,s){return s=T0(s),T0(r)===s}function ff(){}function rt(r,s,o,u,h,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||On(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&On(r,""+u);break;case"className":mr(r,"class",u);break;case"tabIndex":mr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":mr(r,o,u);break;case"style":fl(r,u,g);break;case"data":if(s!=="object"){mr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Na(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&rt(r,s,"name",h.name,h,null),rt(r,s,"formEncType",h.formEncType,h,null),rt(r,s,"formMethod",h.formMethod,h,null),rt(r,s,"formTarget",h.formTarget,h,null)):(rt(r,s,"encType",h.encType,h,null),rt(r,s,"method",h.method,h,null),rt(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Na(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=ff);break;case"onScroll":u!=null&&ze("scroll",r);break;case"onScrollEnd":u!=null&&ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Na(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":ze("beforetoggle",r),ze("toggle",r),Di(r,"popover",u);break;case"xlinkActuate":Gt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Gt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Gt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Gt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Gt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Gt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Gt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Gt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Gt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Di(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=cd.get(o)||o,Di(r,o,u))}}function Bm(r,s,o,u,h,g){switch(o){case"style":fl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?On(r,u):(typeof u=="number"||typeof u=="bigint")&&On(r,""+u);break;case"onScroll":u!=null&&ze("scroll",r);break;case"onScrollEnd":u!=null&&ze("scrollend",r);break;case"onClick":u!=null&&(r.onclick=ff);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),g=r[At]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Di(r,o,u)}}}function Kt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",r),ze("load",r);var u=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:rt(r,s,g,T,o,null)}}h&&rt(r,s,"srcSet",o.srcSet,o,null),u&&rt(r,s,"src",o.src,o,null);return;case"input":ze("invalid",r);var A=g=T=h=null,V=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":h=ie;break;case"type":T=ie;break;case"checked":V=ie;break;case"defaultChecked":Q=ie;break;case"value":g=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,s));break;default:rt(r,s,u,ie,o,null)}}Ms(r,g,A,V,Q,T,h,!1),Ia(r);return;case"select":ze("invalid",r),u=T=g=null;for(h in o)if(o.hasOwnProperty(h)&&(A=o[h],A!=null))switch(h){case"value":g=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:rt(r,s,h,A,o,null)}s=g,o=T,r.multiple=!!u,s!=null?Gr(r,!!u,s,!1):o!=null&&Gr(r,!!u,o,!0);return;case"textarea":ze("invalid",r),g=h=u=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":h=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:rt(r,s,T,A,o,null)}ks(r,u,h,g),Ia(r);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:rt(r,s,V,u,o,null)}return;case"dialog":ze("beforetoggle",r),ze("toggle",r),ze("cancel",r),ze("close",r);break;case"iframe":case"object":ze("load",r);break;case"video":case"audio":for(u=0;u<Kl.length;u++)ze(Kl[u],r);break;case"image":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"embed":case"source":case"link":ze("error",r),ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:rt(r,s,Q,u,o,null)}return;default:if(hl(s)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&Bm(r,s,ie,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&rt(r,s,A,u,o,null))}function Rx(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,T=null,A=null,V=null,Q=null,ie=null;for(ee in o){var oe=o[ee];if(o.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":V=oe;default:u.hasOwnProperty(ee)||rt(r,s,ee,null,u,oe)}}for(var Z in u){var ee=u[Z];if(oe=o[Z],u.hasOwnProperty(Z)&&(ee!=null||oe!=null))switch(Z){case"type":g=ee;break;case"name":h=ee;break;case"checked":Q=ee;break;case"defaultChecked":ie=ee;break;case"value":T=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:ee!==oe&&rt(r,s,Z,ee,u,oe)}}bn(r,T,A,V,Q,ie,g,h);return;case"select":ee=T=A=Z=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":ee=V;default:u.hasOwnProperty(g)||rt(r,s,g,null,u,V)}for(h in u)if(g=u[h],V=o[h],u.hasOwnProperty(h)&&(g!=null||V!=null))switch(h){case"value":Z=g;break;case"defaultValue":A=g;break;case"multiple":T=g;default:g!==V&&rt(r,s,h,g,u,V)}s=A,o=T,u=ee,Z!=null?Gr(r,!!o,Z,!1):!!u!=!!o&&(s!=null?Gr(r,!!o,s,!0):Gr(r,!!o,o?[]:"",!1));return;case"textarea":ee=Z=null;for(A in o)if(h=o[A],o.hasOwnProperty(A)&&h!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:rt(r,s,A,null,u,h)}for(T in u)if(h=u[T],g=o[T],u.hasOwnProperty(T)&&(h!=null||g!=null))switch(T){case"value":Z=h;break;case"defaultValue":ee=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==g&&rt(r,s,T,h,u,g)}tt(r,Z,ee);return;case"option":for(var Ce in o)if(Z=o[Ce],o.hasOwnProperty(Ce)&&Z!=null&&!u.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:rt(r,s,Ce,null,u,Z)}for(V in u)if(Z=u[V],ee=o[V],u.hasOwnProperty(V)&&Z!==ee&&(Z!=null||ee!=null))switch(V){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:rt(r,s,V,Z,u,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)Z=o[Se],o.hasOwnProperty(Se)&&Z!=null&&!u.hasOwnProperty(Se)&&rt(r,s,Se,null,u,Z);for(Q in u)if(Z=u[Q],ee=o[Q],u.hasOwnProperty(Q)&&Z!==ee&&(Z!=null||ee!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:rt(r,s,Q,Z,u,ee)}return;default:if(hl(s)){for(var it in o)Z=o[it],o.hasOwnProperty(it)&&Z!==void 0&&!u.hasOwnProperty(it)&&Bm(r,s,it,void 0,u,Z);for(ie in u)Z=u[ie],ee=o[ie],!u.hasOwnProperty(ie)||Z===ee||Z===void 0&&ee===void 0||Bm(r,s,ie,Z,u,ee);return}}for(var F in o)Z=o[F],o.hasOwnProperty(F)&&Z!=null&&!u.hasOwnProperty(F)&&rt(r,s,F,null,u,Z);for(oe in u)Z=u[oe],ee=o[oe],!u.hasOwnProperty(oe)||Z===ee||Z==null&&ee==null||rt(r,s,oe,Z,u,ee)}var Hm=null,qm=null;function hf(r){return r.nodeType===9?r:r.ownerDocument}function A0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Fm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gm=null;function Cx(){var r=window.event;return r&&r.type==="popstate"?r===Gm?!1:(Gm=r,!0):(Gm=null,!1)}var x0=typeof setTimeout=="function"?setTimeout:void 0,Ix=typeof clearTimeout=="function"?clearTimeout:void 0,R0=typeof Promise=="function"?Promise:void 0,Nx=typeof queueMicrotask=="function"?queueMicrotask:typeof R0<"u"?function(r){return R0.resolve(null).then(r).catch(Dx)}:x0;function Dx(r){setTimeout(function(){throw r})}function Ki(r){return r==="head"}function C0(r,s){var o=s,u=0,h=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var T=r.ownerDocument;if(o&1&&Wl(T.documentElement),o&2&&Wl(T.body),o&4)for(o=T.head,Wl(o),T=o.firstChild;T;){var A=T.nextSibling,V=T.nodeName;T[Is]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=A}}if(h===0){r.removeChild(g),su(s);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);su(s)}function $m(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":$m(o),Ni(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function Ox(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Is])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Xn(r.nextSibling),r===null)break}return null}function Mx(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Xn(r.nextSibling),r===null))return null;return r}function Ym(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function kx(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Xn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Qm=null;function I0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function N0(r,s,o){switch(s=hf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Wl(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ni(r)}var Hn=new Map,D0=new Set;function df(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ci=re.d;re.d={f:Px,r:Vx,D:Lx,C:Ux,L:jx,m:zx,X:Hx,S:Bx,M:qx};function Px(){var r=ci.f(),s=rf();return r||s}function Vx(r){var s=hr(r);s!==null&&s.tag===5&&s.type==="form"?Wv(s):ci.r(r)}var co=typeof document>"u"?null:document;function O0(r,s,o){var u=co;if(u&&typeof s=="string"&&s){var h=St(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),D0.has(h)||(D0.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),Kt(s,"link",r),bt(s),u.head.appendChild(s)))}}function Lx(r){ci.D(r),O0("dns-prefetch",r,null)}function Ux(r,s){ci.C(r,s),O0("preconnect",r,s)}function jx(r,s,o){ci.L(r,s,o);var u=co;if(u&&r&&s){var h='link[rel="preload"][as="'+St(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+St(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+St(o.imageSizes)+'"]')):h+='[href="'+St(r)+'"]';var g=h;switch(s){case"style":g=fo(r);break;case"script":g=ho(r)}Hn.has(g)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Hn.set(g,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(Zl(g))||s==="script"&&u.querySelector(Jl(g))||(s=u.createElement("link"),Kt(s,"link",r),bt(s),u.head.appendChild(s)))}}function zx(r,s){ci.m(r,s);var o=co;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+St(u)+'"][href="'+St(r)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ho(r)}if(!Hn.has(g)&&(r=v({rel:"modulepreload",href:r},s),Hn.set(g,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Jl(g)))return}u=o.createElement("link"),Kt(u,"link",r),bt(u),o.head.appendChild(u)}}}function Bx(r,s,o){ci.S(r,s,o);var u=co;if(u&&r){var h=un(u).hoistableStyles,g=fo(r);s=s||"default";var T=h.get(g);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(Zl(g)))A.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Hn.get(g))&&Km(r,o);var V=T=u.createElement("link");bt(V),Kt(V,"link",r),V._p=new Promise(function(Q,ie){V.onload=Q,V.onerror=ie}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,mf(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:A},h.set(g,T)}}}function Hx(r,s){ci.X(r,s);var o=co;if(o&&r){var u=un(o).hoistableScripts,h=ho(r),g=u.get(h);g||(g=o.querySelector(Jl(h)),g||(r=v({src:r,async:!0},s),(s=Hn.get(h))&&Xm(r,s),g=o.createElement("script"),bt(g),Kt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function qx(r,s){ci.M(r,s);var o=co;if(o&&r){var u=un(o).hoistableScripts,h=ho(r),g=u.get(h);g||(g=o.querySelector(Jl(h)),g||(r=v({src:r,async:!0,type:"module"},s),(s=Hn.get(h))&&Xm(r,s),g=o.createElement("script"),bt(g),Kt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function M0(r,s,o,u){var h=(h=Ee.current)?df(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=fo(o.href),o=un(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=fo(o.href);var g=un(h).hoistableStyles,T=g.get(r);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,T),(g=h.querySelector(Zl(r)))&&!g._p&&(T.instance=g,T.state.loading=5),Hn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Hn.set(r,o),g||Fx(h,r,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ho(o),o=un(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function fo(r){return'href="'+St(r)+'"'}function Zl(r){return'link[rel="stylesheet"]['+r+"]"}function k0(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function Fx(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Kt(s,"link",o),bt(s),r.head.appendChild(s))}function ho(r){return'[src="'+St(r)+'"]'}function Jl(r){return"script[async]"+r}function P0(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+St(o.href)+'"]');if(u)return s.instance=u,bt(u),u;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),bt(u),Kt(u,"style",h),mf(u,o.precedence,r),s.instance=u;case"stylesheet":h=fo(o.href);var g=r.querySelector(Zl(h));if(g)return s.state.loading|=4,s.instance=g,bt(g),g;u=k0(o),(h=Hn.get(h))&&Km(u,h),g=(r.ownerDocument||r).createElement("link"),bt(g);var T=g;return T._p=new Promise(function(A,V){T.onload=A,T.onerror=V}),Kt(g,"link",u),s.state.loading|=4,mf(g,o.precedence,r),s.instance=g;case"script":return g=ho(o.src),(h=r.querySelector(Jl(g)))?(s.instance=h,bt(h),h):(u=o,(h=Hn.get(g))&&(u=v({},o),Xm(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),bt(h),Kt(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,mf(u,o.precedence,r));return s.instance}function mf(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===s)g=A;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Km(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Xm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var pf=null;function V0(r,s,o){if(pf===null){var u=new Map,h=pf=new Map;h.set(o,u)}else h=pf,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[Is]||g[Nt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=r+T;var A=u.get(T);A?A.push(g):u.set(T,[g])}}return u}function L0(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function Gx(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function U0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var eu=null;function $x(){}function Yx(r,s,o){if(eu===null)throw Error(i(475));var u=eu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=fo(o.href),g=r.querySelector(Zl(h));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=gf.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,bt(g);return}g=r.ownerDocument||r,o=k0(o),(h=Hn.get(h))&&Km(o,h),g=g.createElement("link"),bt(g);var T=g;T._p=new Promise(function(A,V){T.onload=A,T.onerror=V}),Kt(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=gf.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function Qx(){if(eu===null)throw Error(i(475));var r=eu;return r.stylesheets&&r.count===0&&Wm(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Wm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function gf(){if(this.count--,this.count===0){if(this.stylesheets)Wm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var yf=null;function Wm(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,yf=new Map,s.forEach(Kx,r),yf=null,gf.call(r))}function Kx(r,s){if(!(s.state.loading&4)){var o=yf.get(r);if(o)var u=o.get(null);else{o=new Map,yf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var T=h[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}h=s.instance,T=h.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,h),o.set(T,h),this.count++,u=gf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var tu={$$typeof:$,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Xx(r,s,o,u,h,g,T,A){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zr(0),this.hiddenUpdates=zr(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function j0(r,s,o,u,h,g,T,A,V,Q,ie,oe){return r=new Xx(r,s,o,T,A,V,Q,oe),s=1,g===!0&&(s|=24),g=Tn(3,null,null,s),r.current=g,g.stateNode=r,s=Od(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Vd(g),r}function z0(r){return r?(r=qa,r):qa}function B0(r,s,o,u,h,g){h=z0(h),u.context===null?u.context=h:u.pendingContext=h,u=Vi(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Li(r,u,s),o!==null&&(Rn(o,r,s),Dl(o,r,s))}function H0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Zm(r,s){H0(r,s),(r=r.alternate)&&H0(r,s)}function q0(r){if(r.tag===13){var s=Ha(r,67108864);s!==null&&Rn(s,r,67108864),Zm(r,67108864)}}var vf=!0;function Wx(r,s,o,u){var h=q.T;q.T=null;var g=re.p;try{re.p=2,Jm(r,s,o,u)}finally{re.p=g,q.T=h}}function Zx(r,s,o,u){var h=q.T;q.T=null;var g=re.p;try{re.p=8,Jm(r,s,o,u)}finally{re.p=g,q.T=h}}function Jm(r,s,o,u){if(vf){var h=ep(u);if(h===null)zm(r,s,u,_f,o),G0(r,u);else if(eR(h,r,s,o,u))u.stopPropagation();else if(G0(r,u),s&4&&-1<Jx.indexOf(r)){for(;h!==null;){var g=hr(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Gn(g.pendingLanes);if(T!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var V=1<<31-en(T);A.entanglements[1]|=V,T&=~V}xr(g),(Je&6)===0&&(tf=dn()+500,Ql(0))}}break;case 13:A=Ha(g,2),A!==null&&Rn(A,g,2),rf(),Zm(g,2)}if(g=ep(u),g===null&&zm(r,s,u,_f,o),g===h)break;h=g}h!==null&&u.stopPropagation()}else zm(r,s,u,null,o)}}function ep(r){return r=Mn(r),tp(r)}var _f=null;function tp(r){if(_f=null,r=Hr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return _f=r,null}function F0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jo()){case cr:return 2;case Ea:return 8;case As:case sd:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var np=!1,Xi=null,Wi=null,Zi=null,nu=new Map,ru=new Map,Ji=[],Jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G0(r,s){switch(r){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":nu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(s.pointerId)}}function iu(r,s,o,u,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},s!==null&&(s=hr(s),s!==null&&q0(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function eR(r,s,o,u,h){switch(s){case"focusin":return Xi=iu(Xi,r,s,o,u,h),!0;case"dragenter":return Wi=iu(Wi,r,s,o,u,h),!0;case"mouseover":return Zi=iu(Zi,r,s,o,u,h),!0;case"pointerover":var g=h.pointerId;return nu.set(g,iu(nu.get(g)||null,r,s,o,u,h)),!0;case"gotpointercapture":return g=h.pointerId,ru.set(g,iu(ru.get(g)||null,r,s,o,u,h)),!0}return!1}function $0(r){var s=Hr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,rc(r.priority,function(){if(o.tag===13){var u=xn();u=Ri(u);var h=Ha(o,u);h!==null&&Rn(h,o,u),Zm(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function bf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=ep(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);$r=u,o.target.dispatchEvent(u),$r=null}else return s=hr(o),s!==null&&q0(s),r.blockedOn=o,!1;s.shift()}return!0}function Y0(r,s,o){bf(r)&&o.delete(s)}function tR(){np=!1,Xi!==null&&bf(Xi)&&(Xi=null),Wi!==null&&bf(Wi)&&(Wi=null),Zi!==null&&bf(Zi)&&(Zi=null),nu.forEach(Y0),ru.forEach(Y0)}function Ef(r,s){r.blockedOn===s&&(r.blockedOn=null,np||(np=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,tR)))}var Tf=null;function Q0(r){Tf!==r&&(Tf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Tf===r&&(Tf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(tp(u||o)===null)continue;break}var g=hr(o);g!==null&&(r.splice(s,3),s-=3,tm(g,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function su(r){function s(V){return Ef(V,r)}Xi!==null&&Ef(Xi,r),Wi!==null&&Ef(Wi,r),Zi!==null&&Ef(Zi,r),nu.forEach(s),ru.forEach(s);for(var o=0;o<Ji.length;o++){var u=Ji[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ji.length&&(o=Ji[0],o.blockedOn===null);)$0(o),o.blockedOn===null&&Ji.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],g=o[u+1],T=h[At]||null;if(typeof g=="function")T||Q0(o);else if(T){var A=null;if(g&&g.hasAttribute("formAction")){if(h=g,T=g[At]||null)A=T.formAction;else if(tp(h)!==null)continue}else A=T.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),Q0(o)}}}function rp(r){this._internalRoot=r}wf.prototype.render=rp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=xn();B0(o,u,r,s,null,null)},wf.prototype.unmount=rp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;B0(r.current,2,null,r,null,null),rf(),s[Dn]=null}};function wf(r){this._internalRoot=r}wf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ci();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Ji.length&&s!==0&&s<Ji[o].priority;o++);Ji.splice(o,0,r),o===0&&$0(r)}};var K0=e.version;if(K0!=="19.1.0")throw Error(i(527,K0,"19.1.0"));re.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var nR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Af.isDisabled&&Af.supportsFiber)try{gt=Af.inject(nR),Ze=Af}catch{}}return ou.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=f_,g=h_,T=d_,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=j0(r,1,!1,null,null,o,u,h,g,T,A,null),r[Dn]=s.current,jm(r),new rp(s)},ou.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",g=f_,T=h_,A=d_,V=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),s=j0(r,1,!0,s,o??null,u,h,g,T,A,V,Q),s.context=z0(null),o=s.current,u=xn(),u=Ri(u),h=Vi(u),h.callback=null,Li(o,h,u),o=u,s.current.lanes=o,Br(s,o),xr(s),r[Dn]=s.current,jm(r),new wf(s)},ou.version="19.1.0",ou}var sb;function hR(){if(sb)return ap.exports;sb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ap.exports=fR(),ap.exports}var dR=hR(),lu={},ab;function mR(){if(ab)return lu;ab=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.parse=c,lu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,w){const C=new l,k=E.length;if(k<2)return C;const P=(w==null?void 0:w.decode)||v;let j=0;do{const U=E.indexOf("=",j);if(U===-1)break;const $=E.indexOf(";",j),J=$===-1?k:$;if(U>J){j=E.lastIndexOf(";",U-1)+1;continue}const te=d(E,j,U),ae=m(E,U,te),O=E.slice(te,ae);if(C[O]===void 0){let x=d(E,U+1,J),M=m(E,J,x);const L=P(E.slice(x,M));C[O]=L}j=J+1}while(j<k);return C}function d(E,w,C){do{const k=E.charCodeAt(w);if(k!==32&&k!==9)return w}while(++w<C);return C}function m(E,w,C){for(;w>C;){const k=E.charCodeAt(--w);if(k!==32&&k!==9)return w+1}return C}function p(E,w,C){const k=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const P=k(w);if(!e.test(P))throw new TypeError(`argument val is invalid: ${w}`);let j=E+"="+P;if(!C)return j;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);j+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);j+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);j+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);j+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(j+="; HttpOnly"),C.secure&&(j+="; Secure"),C.partitioned&&(j+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return j}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return lu}mR();var ob="popstate";function pR(n={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Dp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Cu(a)}return yR(e,t,null,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function er(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gR(){return Math.random().toString(36).substring(2,10)}function lb(n,e){return{usr:n.state,key:n.key,idx:e}}function Dp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Uo(e):e,state:t,key:e&&e.key||i||gR()}}function Cu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Uo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function yR(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function _(){d="POP";let P=v(),j=P==null?null:P-p;p=P,m&&m({action:d,location:k.location,delta:j})}function E(P,j){d="PUSH";let U=Dp(k.location,P,j);p=v()+1;let $=lb(U,p),J=k.createHref(U);try{c.pushState($,"",J)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(J)}l&&m&&m({action:d,location:k.location,delta:1})}function w(P,j){d="REPLACE";let U=Dp(k.location,P,j);p=v();let $=lb(U,p),J=k.createHref(U);c.replaceState($,"",J),l&&m&&m({action:d,location:k.location,delta:0})}function C(P){return vR(P)}let k={get action(){return d},get location(){return n(a,c)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(ob,_),m=P,()=>{a.removeEventListener(ob,_),m=null}},createHref(P){return e(a,P)},createURL:C,encodeLocation(P){let j=C(P);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:w,go(P){return c.go(P)}};return k}function vR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ft(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Cu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function vT(n,e,t="/"){return _R(n,e,t,!1)}function _R(n,e,t,i){let a=typeof e=="string"?Uo(e):e,l=yi(a.pathname||"/",t);if(l==null)return null;let c=_T(n);bR(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=DR(l);d=IR(c[m],p,i)}return d}function _T(n,e=[],t=[],i=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(ft(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let p=mi([i,m.relativePath]),v=t.concat(m);l.children&&l.children.length>0&&(ft(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),_T(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:RR(p,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of bT(l.path))a(l,c,m)}),e}function bT(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=bT(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function bR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:CR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var ER=/^:[\w-]+$/,TR=3,wR=2,AR=1,SR=10,xR=-2,ub=n=>n==="*";function RR(n,e){let t=n.split("/"),i=t.length;return t.some(ub)&&(i+=xR),e&&(i+=wR),t.filter(a=>!ub(a)).reduce((a,l)=>a+(ER.test(l)?TR:l===""?AR:SR),i)}function CR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function IR(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],p=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Zf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),E=m.route;if(!_&&p&&t&&!i[i.length-1].route.index&&(_=Zf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:mi([l,_.pathname]),pathnameBase:PR(mi([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=mi([l,_.pathnameBase]))}return c}function Zf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=NR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:_},E)=>{if(v==="*"){let C=d[E]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const w=d[E];return _&&!w?p[v]=void 0:p[v]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function NR(n,e=!1,t=!0){er(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function DR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function yi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function OR(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Uo(n):n;return{pathname:t?t.startsWith("/")?t:MR(t,e):e,search:VR(i),hash:LR(a)}}function MR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function cp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gg(n){let e=kR(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function yg(n,e,t,i=!1){let a;typeof n=="string"?a=Uo(n):(a={...n},ft(!a.pathname||!a.pathname.includes("?"),cp("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),cp("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),cp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let _=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}d=_>=0?e[_]:"/"}let m=OR(a,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var mi=n=>n.join("/").replace(/\/\/+/g,"/"),PR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),VR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,LR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function UR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ET=["POST","PUT","PATCH","DELETE"];new Set(ET);var jR=["GET",...ET];new Set(jR);var jo=R.createContext(null);jo.displayName="DataRouter";var xh=R.createContext(null);xh.displayName="DataRouterState";var TT=R.createContext({isTransitioning:!1});TT.displayName="ViewTransition";var zR=R.createContext(new Map);zR.displayName="Fetchers";var BR=R.createContext(null);BR.displayName="Await";var sr=R.createContext(null);sr.displayName="Navigation";var Bu=R.createContext(null);Bu.displayName="Location";var ar=R.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var vg=R.createContext(null);vg.displayName="RouteError";function HR(n,{relative:e}={}){ft(zo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=R.useContext(sr),{hash:a,pathname:l,search:c}=Hu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:mi([t,l])),i.createHref({pathname:d,search:c,hash:a})}function zo(){return R.useContext(Bu)!=null}function or(){return ft(zo(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Bu).location}var wT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AT(n){R.useContext(sr).static||R.useLayoutEffect(n)}function Rh(){let{isDataRoute:n}=R.useContext(ar);return n?tC():qR()}function qR(){ft(zo(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(jo),{basename:e,navigator:t}=R.useContext(sr),{matches:i}=R.useContext(ar),{pathname:a}=or(),l=JSON.stringify(gg(i)),c=R.useRef(!1);return AT(()=>{c.current=!0}),R.useCallback((m,p={})=>{if(er(c.current,wT),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=yg(m,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:mi([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,a,n])}R.createContext(null);function ST(){let{matches:n}=R.useContext(ar),e=n[n.length-1];return e?e.params:{}}function Hu(n,{relative:e}={}){let{matches:t}=R.useContext(ar),{pathname:i}=or(),a=JSON.stringify(gg(t));return R.useMemo(()=>yg(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function FR(n,e){return xT(n,e)}function xT(n,e,t,i){var j;ft(zo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=R.useContext(sr),{matches:l}=R.useContext(ar),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",v=c&&c.route;{let U=v&&v.path||"";RT(m,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let _=or(),E;if(e){let U=typeof e=="string"?Uo(e):e;ft(p==="/"||((j=U.pathname)==null?void 0:j.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${U.pathname}" was given in the \`location\` prop.`),E=U}else E=_;let w=E.pathname||"/",C=w;if(p!=="/"){let U=p.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(U.length).join("/")}let k=vT(n,{pathname:C});er(v||k!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),er(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=KR(k&&k.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:mi([p,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:mi([p,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,t,i);return e&&P?R.createElement(Bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},P):P}function GR(){let n=eC(),e=UR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:l},"ErrorBoundary")," or"," ",R.createElement("code",{style:l},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:a},t):null,c)}var $R=R.createElement(GR,null),YR=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?R.createElement(ar.Provider,{value:this.props.routeContext},R.createElement(vg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QR({routeContext:n,match:e,children:t}){let i=R.useContext(jo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(ar.Provider,{value:n},t)}function KR(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);ft(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:v,errors:_}=t,E=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,v)=>{let _,E=!1,w=null,C=null;t&&(_=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||$R,c&&(d<0&&v===0?(RT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):d===v&&(E=!0,C=p.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,v+1)),P=()=>{let j;return _?j=w:E?j=C:p.route.Component?j=R.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=m,R.createElement(QR,{match:p,routeContext:{outlet:m,matches:k,isDataRoute:t!=null},children:j})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?R.createElement(YR,{location:t.location,revalidation:t.revalidation,component:w,error:_,children:P(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):P()},null)}function _g(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XR(n){let e=R.useContext(jo);return ft(e,_g(n)),e}function WR(n){let e=R.useContext(xh);return ft(e,_g(n)),e}function ZR(n){let e=R.useContext(ar);return ft(e,_g(n)),e}function bg(n){let e=ZR(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function JR(){return bg("useRouteId")}function eC(){var i;let n=R.useContext(vg),e=WR("useRouteError"),t=bg("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function tC(){let{router:n}=XR("useNavigate"),e=bg("useNavigate"),t=R.useRef(!1);return AT(()=>{t.current=!0}),R.useCallback(async(a,l={})=>{er(t.current,wT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var cb={};function RT(n,e,t){!e&&!cb[n]&&(cb[n]=!0,er(!1,t))}R.memo(nC);function nC({routes:n,future:e,state:t}){return xT(n,void 0,t,e)}function rC({to:n,replace:e,state:t,relative:i}){ft(zo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=R.useContext(sr);er(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=R.useContext(ar),{pathname:c}=or(),d=Rh(),m=yg(n,gg(l),c,i==="path"),p=JSON.stringify(m);return R.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:i})},[d,p,i,e,t]),null}function Cr(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iC({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){ft(!zo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Uo(t));let{pathname:m="/",search:p="",hash:v="",state:_=null,key:E="default"}=t,w=R.useMemo(()=>{let C=yi(m,c);return C==null?null:{location:{pathname:C,search:p,hash:v,state:_,key:E},navigationType:i}},[c,m,p,v,_,E,i]);return er(w!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:R.createElement(sr.Provider,{value:d},R.createElement(Bu.Provider,{children:e,value:w}))}function Eg({children:n,location:e}){return FR(Op(n),e)}function Op(n,e=[]){let t=[];return R.Children.forEach(n,(i,a)=>{if(!R.isValidElement(i))return;let l=[...e,a];if(i.type===R.Fragment){t.push.apply(t,Op(i.props.children,l));return}ft(i.type===Cr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Op(i.props.children,l)),t.push(c)}),t}var Uf="get",jf="application/x-www-form-urlencoded";function Ch(n){return n!=null&&typeof n.tagName=="string"}function sC(n){return Ch(n)&&n.tagName.toLowerCase()==="button"}function aC(n){return Ch(n)&&n.tagName.toLowerCase()==="form"}function oC(n){return Ch(n)&&n.tagName.toLowerCase()==="input"}function lC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function uC(n,e){return n.button===0&&(!e||e==="_self")&&!lC(n)}var Sf=null;function cC(){if(Sf===null)try{new FormData(document.createElement("form"),0),Sf=!1}catch{Sf=!0}return Sf}var fC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fp(n){return n!=null&&!fC.has(n)?(er(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jf}"`),null):n}function hC(n,e){let t,i,a,l,c;if(aC(n)){let d=n.getAttribute("action");i=d?yi(d,e):null,t=n.getAttribute("method")||Uf,a=fp(n.getAttribute("enctype"))||jf,l=new FormData(n)}else if(sC(n)||oC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(i=m?yi(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Uf,a=fp(n.getAttribute("formenctype"))||fp(d.getAttribute("enctype"))||jf,l=new FormData(d,n),!cC()){let{name:p,type:v,value:_}=n;if(v==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(Ch(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Uf,i=null,a=jf,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Tg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function dC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function pC(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await dC(l,t);return c.links?c.links():[]}return[]}));return _C(i.flat(1).filter(mC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function fb(n,e,t,i,a,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,d=(m,p)=>{var v;return t[p].pathname!==m.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{var _;let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function gC(n,e,{includeHydrateFallback:t}={}){return yC(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function yC(n){return[...new Set(n)]}function vC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function _C(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(vC(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bC=new Set([100,101,204,205]);function EC(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&yi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function CT(){let n=R.useContext(jo);return Tg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function TC(){let n=R.useContext(xh);return Tg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wg=R.createContext(void 0);wg.displayName="FrameworkContext";function IT(){let n=R.useContext(wg);return Tg(n,"You must render this element inside a <HydratedRouter> element"),n}function wC(n,e){let t=R.useContext(wg),[i,a]=R.useState(!1),[l,c]=R.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,E=R.useRef(null);R.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=j=>{j.forEach(U=>{c(U.isIntersecting)})},P=new IntersectionObserver(k,{threshold:.5});return E.current&&P.observe(E.current),()=>{P.disconnect()}}},[n]),R.useEffect(()=>{if(i){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[i]);let w=()=>{a(!0)},C=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:uu(d,w),onBlur:uu(m,C),onMouseEnter:uu(p,w),onMouseLeave:uu(v,C),onTouchStart:uu(_,w)}]:[!1,E,{}]}function uu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function AC({page:n,...e}){let{router:t}=CT(),i=R.useMemo(()=>vT(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?R.createElement(xC,{page:n,matches:i,...e}):null}function SC(n){let{manifest:e,routeModules:t}=IT(),[i,a]=R.useState([]);return R.useEffect(()=>{let l=!1;return pC(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function xC({page:n,matches:e,...t}){let i=or(),{manifest:a,routeModules:l}=IT(),{basename:c}=CT(),{loaderData:d,matches:m}=TC(),p=R.useMemo(()=>fb(n,e,m,a,i,"data"),[n,e,m,a,i]),v=R.useMemo(()=>fb(n,e,m,a,i,"assets"),[n,e,m,a,i]),_=R.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,k=!1;if(e.forEach(j=>{var $;let U=a.routes[j.route.id];!U||!U.hasLoader||(!p.some(J=>J.route.id===j.route.id)&&j.route.id in d&&(($=l[j.route.id])!=null&&$.shouldRevalidate)||U.hasClientLoader?k=!0:C.add(j.route.id))}),C.size===0)return[];let P=EC(n,c);return k&&C.size>0&&P.searchParams.set("_routes",e.filter(j=>C.has(j.route.id)).map(j=>j.route.id).join(",")),[P.pathname+P.search]},[c,d,i,a,p,e,n,l]),E=R.useMemo(()=>gC(v,a),[v,a]),w=SC(v);return R.createElement(R.Fragment,null,_.map(C=>R.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),E.map(C=>R.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),w.map(({key:C,link:k})=>R.createElement("link",{key:C,...k})))}function RC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var NT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NT&&(window.__reactRouterVersion="7.6.1")}catch{}function CC({basename:n,children:e,window:t}){let i=R.useRef();i.current==null&&(i.current=pR({window:t,v5Compat:!0}));let a=i.current,[l,c]=R.useState({action:a.action,location:a.location}),d=R.useCallback(m=>{R.startTransition(()=>c(m))},[c]);return R.useLayoutEffect(()=>a.listen(d),[a,d]),R.createElement(iC,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var DT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iu=R.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:v,viewTransition:_,...E},w){let{basename:C}=R.useContext(sr),k=typeof p=="string"&&DT.test(p),P,j=!1;if(typeof p=="string"&&k&&(P=p,NT))try{let M=new URL(window.location.href),L=p.startsWith("//")?new URL(M.protocol+p):new URL(p),z=yi(L.pathname,C);L.origin===M.origin&&z!=null?p=z+L.search+L.hash:j=!0}catch{er(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=HR(p,{relative:a}),[$,J,te]=wC(i,E),ae=OC(p,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:_});function O(M){e&&e(M),M.defaultPrevented||ae(M)}let x=R.createElement("a",{...E,...te,href:P||U,onClick:j||l?e:O,ref:RC(w,J),target:m,"data-discover":!k&&t==="render"?"true":void 0});return $&&!k?R.createElement(R.Fragment,null,x,R.createElement(AC,{page:U})):x});Iu.displayName="Link";var IC=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},v){let _=Hu(c,{relative:p.relative}),E=or(),w=R.useContext(xh),{navigator:C,basename:k}=R.useContext(sr),P=w!=null&&LC(_)&&d===!0,j=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,U=E.pathname,$=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(U=U.toLowerCase(),$=$?$.toLowerCase():null,j=j.toLowerCase()),$&&k&&($=yi($,k)||$);const J=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let te=U===j||!a&&U.startsWith(j)&&U.charAt(J)==="/",ae=$!=null&&($===j||!a&&$.startsWith(j)&&$.charAt(j.length)==="/"),O={isActive:te,isPending:ae,isTransitioning:P},x=te?e:void 0,M;typeof i=="function"?M=i(O):M=[i,te?"active":null,ae?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(O):l;return R.createElement(Iu,{...p,"aria-current":x,className:M,ref:v,style:L,to:c,viewTransition:d},typeof m=="function"?m(O):m)});IC.displayName="NavLink";var NC=R.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Uf,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:_,...E},w)=>{let C=PC(),k=VC(d,{relative:p}),P=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&DT.test(d),U=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let J=$.nativeEvent.submitter,te=(J==null?void 0:J.getAttribute("formmethod"))||c;C(J||$.currentTarget,{fetcherKey:e,method:te,navigate:t,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:_})};return R.createElement("form",{ref:w,method:P,action:k,onSubmit:i?m:U,...E,"data-discover":!j&&n==="render"?"true":void 0})});NC.displayName="Form";function DC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OT(n){let e=R.useContext(jo);return ft(e,DC(n)),e}function OC(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Rh(),m=or(),p=Hu(n,{relative:l});return R.useCallback(v=>{if(uC(v,e)){v.preventDefault();let _=t!==void 0?t:Cu(m)===Cu(p);d(n,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,t,i,e,n,a,l,c])}var MC=0,kC=()=>`__${String(++MC)}__`;function PC(){let{router:n}=OT("useSubmit"),{basename:e}=R.useContext(sr),t=JR();return R.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=hC(i,e);if(a.navigate===!1){let v=a.fetcherKey||kC();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function VC(n,{relative:e}={}){let{basename:t}=R.useContext(sr),i=R.useContext(ar);ft(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Hu(n||".",{relative:e})},c=or();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:mi([t,l.pathname])),Cu(l)}function LC(n,e={}){let t=R.useContext(TT);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=OT("useViewTransitionState"),a=Hu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=yi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=yi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Zf(a.pathname,c)!=null||Zf(a.pathname,l)!=null}[...bC];var Ag=yT();const UC=pT(Ag);function MT(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=MT(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function kT(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=MT(n))&&(i&&(i+=" "),i+=e);return i}const Sg="-",jC=n=>{const e=BC(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{const d=c.split(Sg);return d[0]===""&&d.length!==1&&d.shift(),PT(d,e)||zC(c)},getConflictingClassGroupIds:(c,d)=>{const m=t[c]||[];return d&&i[c]?[...m,...i[c]]:m}}},PT=(n,e)=>{var c;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),a=i?PT(n.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const l=n.join(Sg);return(c=e.validators.find(({validator:d})=>d(l)))==null?void 0:c.classGroupId},hb=/^\[(.+)\]$/,zC=n=>{if(hb.test(n)){const e=hb.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},BC=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const a in t)Mp(t[a],i,a,e);return i},Mp=(n,e,t,i)=>{n.forEach(a=>{if(typeof a=="string"){const l=a===""?e:db(e,a);l.classGroupId=t;return}if(typeof a=="function"){if(HC(a)){Mp(a(i),e,t,i);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([l,c])=>{Mp(c,db(e,l),t,i)})})},db=(n,e)=>{let t=n;return e.split(Sg).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},HC=n=>n.isThemeGetter,qC=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const a=(l,c)=>{t.set(l,c),e++,e>n&&(e=0,i=t,t=new Map)};return{get(l){let c=t.get(l);if(c!==void 0)return c;if((c=i.get(l))!==void 0)return a(l,c),c},set(l,c){t.has(l)?t.set(l,c):a(l,c)}}},kp="!",Pp=":",FC=Pp.length,GC=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=a=>{const l=[];let c=0,d=0,m=0,p;for(let C=0;C<a.length;C++){let k=a[C];if(c===0&&d===0){if(k===Pp){l.push(a.slice(m,C)),m=C+FC;continue}if(k==="/"){p=C;continue}}k==="["?c++:k==="]"?c--:k==="("?d++:k===")"&&d--}const v=l.length===0?a:a.substring(m),_=$C(v),E=_!==v,w=p&&p>m?p-m:void 0;return{modifiers:l,hasImportantModifier:E,baseClassName:_,maybePostfixModifierPosition:w}};if(e){const a=e+Pp,l=i;i=c=>c.startsWith(a)?l(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const a=i;i=l=>t({className:l,parseClassName:a})}return i},$C=n=>n.endsWith(kp)?n.substring(0,n.length-1):n.startsWith(kp)?n.substring(1):n,YC=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let l=[];return i.forEach(c=>{c[0]==="["||e[c]?(a.push(...l.sort(),c),l=[]):l.push(c)}),a.push(...l.sort()),a}},QC=n=>({cache:qC(n.cacheSize),parseClassName:GC(n),sortModifiers:YC(n),...jC(n)}),KC=/\s+/,XC=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],d=n.trim().split(KC);let m="";for(let p=d.length-1;p>=0;p-=1){const v=d[p],{isExternal:_,modifiers:E,hasImportantModifier:w,baseClassName:C,maybePostfixModifierPosition:k}=t(v);if(_){m=v+(m.length>0?" "+m:m);continue}let P=!!k,j=i(P?C.substring(0,k):C);if(!j){if(!P){m=v+(m.length>0?" "+m:m);continue}if(j=i(C),!j){m=v+(m.length>0?" "+m:m);continue}P=!1}const U=l(E).join(":"),$=w?U+kp:U,J=$+j;if(c.includes(J))continue;c.push(J);const te=a(j,P);for(let ae=0;ae<te.length;++ae){const O=te[ae];c.push($+O)}m=v+(m.length>0?" "+m:m)}return m};function WC(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=VT(e))&&(i&&(i+=" "),i+=t);return i}const VT=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=VT(n[i]))&&(t&&(t+=" "),t+=e);return t};function ZC(n,...e){let t,i,a,l=c;function c(m){const p=e.reduce((v,_)=>_(v),n());return t=QC(p),i=t.cache.get,a=t.cache.set,l=d,d(m)}function d(m){const p=i(m);if(p)return p;const v=XC(m,t);return a(m,v),v}return function(){return l(WC.apply(null,arguments))}}const Pt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},LT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,UT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,JC=/^\d+\/\d+$/,eI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mo=n=>JC.test(n),Ve=n=>!!n&&!Number.isNaN(Number(n)),ts=n=>!!n&&Number.isInteger(Number(n)),hp=n=>n.endsWith("%")&&Ve(n.slice(0,-1)),fi=n=>eI.test(n),sI=()=>!0,aI=n=>tI.test(n)&&!nI.test(n),jT=()=>!1,oI=n=>rI.test(n),lI=n=>iI.test(n),uI=n=>!ve(n)&&!_e(n),cI=n=>Bo(n,HT,jT),ve=n=>LT.test(n),ia=n=>Bo(n,qT,aI),dp=n=>Bo(n,pI,Ve),mb=n=>Bo(n,zT,jT),fI=n=>Bo(n,BT,lI),xf=n=>Bo(n,FT,oI),_e=n=>UT.test(n),cu=n=>Ho(n,qT),hI=n=>Ho(n,gI),pb=n=>Ho(n,zT),dI=n=>Ho(n,HT),mI=n=>Ho(n,BT),Rf=n=>Ho(n,FT,!0),Bo=(n,e,t)=>{const i=LT.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Ho=(n,e,t=!1)=>{const i=UT.exec(n);return i?i[1]?e(i[1]):t:!1},zT=n=>n==="position"||n==="percentage",BT=n=>n==="image"||n==="url",HT=n=>n==="length"||n==="size"||n==="bg-size",qT=n=>n==="length",pI=n=>n==="number",gI=n=>n==="family-name",FT=n=>n==="shadow",yI=()=>{const n=Pt("color"),e=Pt("font"),t=Pt("text"),i=Pt("font-weight"),a=Pt("tracking"),l=Pt("leading"),c=Pt("breakpoint"),d=Pt("container"),m=Pt("spacing"),p=Pt("radius"),v=Pt("shadow"),_=Pt("inset-shadow"),E=Pt("text-shadow"),w=Pt("drop-shadow"),C=Pt("blur"),k=Pt("perspective"),P=Pt("aspect"),j=Pt("ease"),U=Pt("animate"),$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],te=()=>[...J(),_e,ve],ae=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],x=()=>[_e,ve,m],M=()=>[mo,"full","auto",...x()],L=()=>[ts,"none","subgrid",_e,ve],z=()=>["auto",{span:["full",ts,_e,ve]},ts,_e,ve],H=()=>[ts,"auto",_e,ve],N=()=>["auto","min","max","fr",_e,ve],de=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...x()],re=()=>[mo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],K=()=>[n,_e,ve],ge=()=>[...J(),pb,mb,{position:[_e,ve]}],D=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",dI,cI,{size:[_e,ve]}],ue=()=>[hp,cu,ia],X=()=>["","none","full",p,_e,ve],fe=()=>["",Ve,cu,ia],be=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Oe=()=>[Ve,hp,pb,mb],Me=()=>["","none",C,_e,ve],st=()=>["none",Ve,_e,ve],_t=()=>["none",Ve,_e,ve],ht=()=>[Ve,_e,ve],It=()=>[mo,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fi],breakpoint:[fi],color:[sI],container:[fi],"drop-shadow":[fi],ease:["in","out","in-out"],font:[uI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fi],shadow:[fi],spacing:["px",Ve],text:[fi],"text-shadow":[fi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",mo,ve,_e,P]}],container:["container"],columns:[{columns:[Ve,ve,_e,d]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:te()}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[ts,"auto",_e,ve]}],basis:[{basis:[mo,"full","auto",d,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ve,mo,"auto","initial","none",ve]}],grow:[{grow:["",Ve,_e,ve]}],shrink:[{shrink:["",Ve,_e,ve]}],order:[{order:[ts,"first","last","none",_e,ve]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:[...de(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...de()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":de()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[d,"screen",...re()]}],"min-w":[{"min-w":[d,"screen","none",...re()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",t,cu,ia]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,_e,dp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",hp,ve]}],"font-family":[{font:[hI,ve,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,_e,ve]}],"line-clamp":[{"line-clamp":[Ve,"none",_e,dp]}],leading:[{leading:[l,...x()]}],"list-image":[{"list-image":["none",_e,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ve,"from-font","auto",_e,ia]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[Ve,"auto",_e,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ge()}],"bg-repeat":[{bg:D()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ts,_e,ve],radial:["",_e,ve],conic:[ts,_e,ve]},mI,fI]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ve,_e,ve]}],"outline-w":[{outline:["",Ve,cu,ia]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",v,Rf,xf]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",_,Rf,xf]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[Ve,ia]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",E,Rf,xf]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[Ve,_e,ve]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":Oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Oe()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":Oe()}],"mask-image-t-to-pos":[{"mask-t-to":Oe()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":Oe()}],"mask-image-r-to-pos":[{"mask-r-to":Oe()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":Oe()}],"mask-image-b-to-pos":[{"mask-b-to":Oe()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":Oe()}],"mask-image-l-to-pos":[{"mask-l-to":Oe()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":Oe()}],"mask-image-x-to-pos":[{"mask-x-to":Oe()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":Oe()}],"mask-image-y-to-pos":[{"mask-y-to":Oe()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[_e,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":Oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Oe()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":J()}],"mask-image-conic-pos":[{"mask-conic":[Ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":Oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Oe()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ge()}],"mask-repeat":[{mask:D()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,ve]}],filter:[{filter:["","none",_e,ve]}],blur:[{blur:Me()}],brightness:[{brightness:[Ve,_e,ve]}],contrast:[{contrast:[Ve,_e,ve]}],"drop-shadow":[{"drop-shadow":["","none",w,Rf,xf]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",Ve,_e,ve]}],"hue-rotate":[{"hue-rotate":[Ve,_e,ve]}],invert:[{invert:["",Ve,_e,ve]}],saturate:[{saturate:[Ve,_e,ve]}],sepia:[{sepia:["",Ve,_e,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,ve]}],"backdrop-blur":[{"backdrop-blur":Me()}],"backdrop-brightness":[{"backdrop-brightness":[Ve,_e,ve]}],"backdrop-contrast":[{"backdrop-contrast":[Ve,_e,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ve,_e,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ve,_e,ve]}],"backdrop-invert":[{"backdrop-invert":["",Ve,_e,ve]}],"backdrop-opacity":[{"backdrop-opacity":[Ve,_e,ve]}],"backdrop-saturate":[{"backdrop-saturate":[Ve,_e,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",Ve,_e,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ve,"initial",_e,ve]}],ease:[{ease:["linear","initial",j,_e,ve]}],delay:[{delay:[Ve,_e,ve]}],animate:[{animate:["none",U,_e,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,_e,ve]}],"perspective-origin":[{"perspective-origin":te()}],rotate:[{rotate:st()}],"rotate-x":[{"rotate-x":st()}],"rotate-y":[{"rotate-y":st()}],"rotate-z":[{"rotate-z":st()}],scale:[{scale:_t()}],"scale-x":[{"scale-x":_t()}],"scale-y":[{"scale-y":_t()}],"scale-z":[{"scale-z":_t()}],"scale-3d":["scale-3d"],skew:[{skew:ht()}],"skew-x":[{"skew-x":ht()}],"skew-y":[{"skew-y":ht()}],transform:[{transform:[_e,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:te()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:It()}],"translate-x":[{"translate-x":It()}],"translate-y":[{"translate-y":It()}],"translate-z":[{"translate-z":It()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,ve]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[Ve,cu,ia,dp]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},vI=ZC(yI);function Xe(...n){return vI(kT(n))}const gb=[{code:"sh",label:"English"},{code:"vn",label:"Tiếng Việt"}];function _I(){const[n,e]=R.useState(gb[0].code);return S.jsx("div",{className:"flex items-center justify-center gap-2 lg:justify-start",children:gb.map(t=>S.jsx("button",{className:Xe("transition-transform hover:scale-110",n===t.code?"opacity-100":"opacity-75"),title:t.label,onClick:()=>e(t.code),children:S.jsx("img",{"aria-label":t.label,src:`/digital-competence/assets/flags/${t.code}.svg`,alt:t.label,className:"size-6"})},t.code))})}const bI=[{name:"UEH",src:"ueh.png"},{name:"ISB",src:"isb.png"},{name:"Monash",src:"monash.png"},{name:"Macquarie",src:"macquarie.webp"},{name:"UTS",src:"uts.svg"},{name:"Wollongong",src:"wollongong.png"},{name:"Western Sydney",src:"wsu.png"},{name:"Deakin",src:"deakin.png"}];function EI(){return S.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4 md:justify-start lg:gap-8",children:bI.map(n=>S.jsx("img",{src:`/digital-competence/assets/partners/${n.src}`,alt:n.name,className:"h-4 stroke-white opacity-70 transition-opacity hover:opacity-100 lg:h-6"},n.name))})}function yb(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function GT(...n){return e=>{let t=!1;const i=n.map(a=>{const l=yb(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():yb(n[a],null)}}}}function tr(...n){return R.useCallback(GT(...n),n)}function Jf(n){const e=wI(n),t=R.forwardRef((i,a)=>{const{children:l,...c}=i,d=R.Children.toArray(l),m=d.find(SI);if(m){const p=m.props.children,v=d.map(_=>_===m?R.Children.count(p)>1?R.Children.only(null):R.isValidElement(p)?p.props.children:null:_);return S.jsx(e,{...c,ref:a,children:R.isValidElement(p)?R.cloneElement(p,void 0,v):null})}return S.jsx(e,{...c,ref:a,children:l})});return t.displayName=`${n}.Slot`,t}var TI=Jf("Slot");function wI(n){const e=R.forwardRef((t,i)=>{const{children:a,...l}=t;if(R.isValidElement(a)){const c=RI(a),d=xI(l,a.props);return a.type!==R.Fragment&&(d.ref=i?GT(i,c):c),R.cloneElement(a,d)}return R.Children.count(a)>1?R.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var $T=Symbol("radix.slottable");function AI(n){const e=({children:t})=>S.jsx(S.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=$T,e}function SI(n){return R.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===$T}function xI(n,e){const t={...e};for(const i in e){const a=n[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?t[i]=(...d)=>{const m=l(...d);return a(...d),m}:a&&(t[i]=a):i==="style"?t[i]={...a,...l}:i==="className"&&(t[i]=[a,l].filter(Boolean).join(" "))}return{...n,...t}}function RI(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const vb=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,_b=kT,CI=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return _b(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:l}=e,c=Object.keys(a).map(p=>{const v=t==null?void 0:t[p],_=l==null?void 0:l[p];if(v===null)return null;const E=vb(v)||vb(_);return a[p][E]}),d=t&&Object.entries(t).reduce((p,v)=>{let[_,E]=v;return E===void 0||(p[_]=E),p},{}),m=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((p,v)=>{let{class:_,className:E,...w}=v;return Object.entries(w).every(C=>{let[k,P]=C;return Array.isArray(P)?P.includes({...l,...d}[k]):{...l,...d}[k]===P})?[...p,_,E]:p},[]);return _b(n,c,m,t==null?void 0:t.class,t==null?void 0:t.className)},II=CI("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function _u({className:n,variant:e,size:t,asChild:i=!1,...a}){const l=i?TI:"button";return S.jsx(l,{"data-slot":"button",className:Xe(II({variant:e,size:t,className:n})),...a})}function NI(n,e,t){const i=P=>P.length===3?P.split("").map(j=>j+j).join(""):P;n=i(n.replace("#","")),e=i(e.replace("#",""));const a=parseInt(n,16),l=parseInt(e,16),c=a>>16&255,d=a>>8&255,m=a&255,p=l>>16&255,v=l>>8&255,_=l&255,E=Math.round(c+(p-c)*(t/100)),w=Math.round(d+(v-d)*(t/100)),C=Math.round(m+(_-m)*(t/100)),k=P=>P.toString(16).padStart(2,"0");return`#${k(E)}${k(w)}${k(C)}`}const bu=["#cc0001","#fb940b","#ffff01","#01cc00","#03c0c6","#0000fe","#762ca7","#fe98bf"];function YT(n){return n.map((e,t)=>({...e,color:bu[t%bu.length]}))}function DI(n){const e=bu[bu.indexOf(n)+1]||bu[0];return NI(n,e,75)}function oa(n){return n>=80?"Master":n>=60?"Expert":n>=40?"Advanced":n>=20?"Intermediate":"Foundational"}function OI(n){if(n.length===0)return 0;const e=n.reduce((t,i)=>t+i.score,0);return Math.round(e/n.length)}function bb(n,e=!1){return n.map(t=>{const i=t.skills.map(c=>{const d=e?20:Math.floor(Math.random()*101),m=oa(d);return{...c,score:d,level:m}}),a=OI(i),l=oa(a);return{id:t.id,name:t.name,description:t.description,color:t.color||"",score:a,level:l,skills:i}})}function Eb(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}function Cf(n,e,t,i){const a=(i-90)*(Math.PI/180);return{x:n+t*Math.cos(a),y:e+t*Math.sin(a)}}function mp(n,e,t,i){return{x:n+t*Math.cos(i),y:e+t*Math.sin(i)}}function If(n,e,t,i,a,l){const c=Cf(n,e,i,a),d=Cf(n,e,i,l),m=Cf(n,e,t,l),p=Cf(n,e,t,a),v=l-a>180?1:0;return["M",c.x,c.y,"A",i,i,0,v,1,d.x,d.y,"L",m.x,m.y,"A",t,t,0,v,0,p.x,p.y,"Z"].join(" ")}function MI(n){return n>=80?5:n>=60?4:n>=40?3:n>=20?2:1}function kI(n){return 360/n}function PI(n,e,t,i){const a=kI(t),l=a*(n+.1),c=a/(i+1),d=l+c*e,m=d+c*.9;return[d,m]}const VI=({tooltip:n,domains:e,containerRef:t})=>{var w,C;const{x:i,y:a,score:l,level:c,domainId:d,skillId:m}=n,p=a-(((w=t.current)==null?void 0:w.getBoundingClientRect().top)||0)+10,v=i-(((C=t.current)==null?void 0:C.getBoundingClientRect().left)||0)+10,_=e[d||0],E=m!==void 0?_.skills[m]:null;return S.jsx("div",{className:"animate-in slide-in-from-bottom pointer-events-none absolute z-10 flex h-fit w-full max-w-[300px] rounded-xl border-2 bg-slate-900 p-4 text-sm shadow-lg backdrop-blur-sm md:max-w-sm",style:{top:p,left:v,borderColor:_.color},children:S.jsxs("div",{className:"flex flex-col items-start justify-between gap-2",children:[S.jsx("h3",{className:"mb-2 font-semibold",children:E?E.name:_.name}),S.jsx("div",{className:"text-slate-300",children:(E==null?void 0:E.description)||_.description}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsxs("div",{className:"font-bold text-blue-400",children:[l,"%"]}),S.jsx("div",{className:"rounded-sm border bg-gray-800 px-2 py-1 text-xs font-semibold text-white",style:{borderColor:_.color},children:c})]}),E&&S.jsx("div",{className:"text-xs text-slate-300",children:E.levels[E.level]})," "]})})},LI={1:"Foundational",2:"Intermediate",3:"Advanced",4:"Expert",5:"Master"},QT=({domains:n,size:e=480})=>{const[t,i]=R.useState({width:e,height:e}),[a,l]=R.useState(null),[c,d]=R.useState(null),[m,p]=R.useState(null),[v,_]=R.useState(40),E=R.useRef(null),w=40,C=2;R.useEffect(()=>{if(!E.current)return;const N=new ResizeObserver(de=>{for(const me of de){const q=me.contentRect.width,re=q<=1024?40:240,K=Math.min(q-re,600);i({width:K,height:K});const ge=Math.max(20,Math.min(40,K/8));_(ge)}});return N.observe(E.current),()=>N.disconnect()},[]);const{ringStep:k,arcInnerRadius:P,arcOuterRadius:j,chartRadius:U}=R.useMemo(()=>{const N=t.width/2,de=Math.max(0,(N-v-w)/5),me=v+5*de+15,q=me+5;return{ringStep:de,arcInnerRadius:me,arcOuterRadius:q,chartRadius:N}},[t.width,v]),$=R.useCallback((N,de,me,q,re)=>{l({x:N.clientX,y:N.clientY,score:q,domainId:de,skillId:me,level:re})},[]),J=R.useCallback(()=>l(null),[]),te=()=>n.flatMap(N=>N.skills.map(de=>{const me=`gradient-${N.name}-${de.name}`.replace(/\s+/g,"-");return S.jsxs("radialGradient",{id:me,cx:"50%",cy:"50%",r:"80%",fx:"50%",fy:"50%",children:[S.jsx("stop",{offset:"0%",stopColor:N.color}),S.jsx("stop",{offset:"100%",stopColor:DI(N.color)})]},me)})),ae=()=>n.map((N,de)=>{const me=n.length,q=2*Math.PI/me,re=C*Math.PI/180,K=j+10,ge=de*q,D=ge+q,W=ge+re/2-Math.PI/2,ue=D-re/2-Math.PI/2,X=mp(U,U,K,W),fe=mp(U,U,K,ue),be=ue-W>180?1:0;return S.jsx("path",{id:`domain-label-path-${de}`,d:`M ${X.x} ${X.y} A ${K} ${K} 0 ${be} 1 ${fe.x} ${fe.y}`,fill:"none"},`domain-label-path-${de}`)}),O=()=>{const N=n.length===0||n===void 0||n===null;return[1,2,3,4,5].map(de=>S.jsxs(mt.Fragment,{children:[S.jsx("circle",{cx:U,cy:U,r:v+de*k,fill:"#020618",stroke:"#f8fafc",strokeWidth:1,opacity:.25,style:{animation:N?"pulseRing 1.5s cubic-bezier(0.4,0,0.6,1) infinite":"none"}},de),S.jsx("style",{children:`
                        @keyframes pulseRing {
                            0%, 100% { opacity: 0.3; }
                            50% { opacity: 1; }
                        }
                    `})]},de))},x=()=>n.map((N,de)=>{const me=de*2*Math.PI/n.length-Math.PI/2,q=mp(U,U,t.width/2,me);return S.jsx("line",{x1:U,y1:U,x2:q.x,y2:q.y,stroke:"#eeeeee",strokeWidth:1,opacity:.3},de)}),M=()=>n.map((N,de)=>{const q=360/n.length,re=de*q,K=re+N.score/100*q,ge=re+C,D=K-C,W=If(U,U,P,j,ge,re+q-C),ue=If(U,U,P,j,ge,D);return S.jsxs(mt.Fragment,{children:[S.jsx("path",{d:W,fill:"#cccccc",opacity:.85},`domain-bg-${N.name}`),S.jsx("path",{d:ue,fill:N.color,opacity:.85,style:{transition:"all 0.5s ease-in-out"}},`domain-arc-${N.name}`)]},N.name)}),L=()=>n.map((N,de)=>S.jsx("text",{fill:"#ffffff",fontWeight:"bold",children:S.jsx("textPath",{className:"hidden cursor-default text-[0.5rem] md:block lg:text-xs",href:`#domain-label-path-${de}`,startOffset:"50%",textAnchor:"middle",alignmentBaseline:"middle",onMouseEnter:me=>{const q=oa(N.score);p(N.name),$(me,de,void 0,N.score,q)},onMouseLeave:()=>{p(null),J()},children:N.name})},`label-${N.name}`)),z=()=>n.map((N,de)=>{const me=m===N.name,q=360/n.length,re=q*de,K=re+q,ge=If(U,U,0,v,re,K);return S.jsx("path",{d:ge,fill:`${N.color}`,opacity:me?1:N.score/50,stroke:me?N.color:"#45556c",strokeWidth:me?2:1,className:"hover:opacity-80",style:{filter:me?"drop-shadow(0 0 4px rgba(0,0,0,0.5))":void 0,cursor:"pointer",transition:"all 0.5s ease-in-out"},onMouseEnter:D=>{const W=oa(N.score);p(N.name),$(D,de,void 0,N.score,W)},onMouseLeave:()=>{p(null),J()}},N.name)}),H=()=>n.map((N,de)=>S.jsx("g",{style:{transition:"all 0.5s ease-in-out"},children:N.skills.map((me,q)=>{const re=MI(me.score),K=v,ge=v+me.score*k/20,[D,W]=PI(de,q,n.length,N.skills.length),ue=If(U,U,K,ge,D,W),X=`gradient-${N.name}-${me.name}`.replace(/\s+/g,"-"),fe=`${N.name}-${me.name}`,be=c===fe;return S.jsx("path",{d:ue,fill:`url(#${X})`,opacity:be?1:.8,stroke:be?N.color:"#45556c",strokeWidth:be?2:1,style:{filter:be?`drop-shadow(0 0 4px ${N.color})`:void 0,cursor:"pointer",transition:"all 0.5s ease-in-out"},onMouseEnter:Ee=>{d(fe),$(Ee,de,q,me.score,LI[re])},onMouseLeave:()=>{d(null),J()}},fe)})},N.name));return S.jsxs("div",{ref:E,className:"relative col-span-2 flex w-full max-w-screen items-center justify-center",children:[S.jsxs("svg",{width:t.width,height:t.height,viewBox:`0 0 ${t.width} ${t.height}`,children:[S.jsx("defs",{children:te()}),S.jsx("defs",{children:ae()}),O(),x(),M(),L(),z(),H()]}),a&&S.jsx(VI,{tooltip:a,domains:n,containerRef:E})]})},UI=()=>{};var Tb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},jI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},XT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,v=l>>2,_=(l&3)<<4|d>>4;let E=(d&15)<<2|p>>6,w=p&63;m||(w=64,c||(E=64)),i.push(t[v],t[_],t[E],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(KT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new zI;const E=l<<2|d>>4;if(i.push(E),p!==64){const w=d<<4&240|p>>2;if(i.push(w),_!==64){const C=p<<6&192|_;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BI=function(n){const e=KT(n);return XT.encodeByteArray(e,!0)},eh=function(n){return BI(n).replace(/\./g,"")},WT=function(n){try{return XT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=()=>HI().__FIREBASE_DEFAULTS__,FI=()=>{if(typeof process>"u"||typeof Tb>"u")return;const n=Tb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},GI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&WT(n[1]);return e&&JSON.parse(e)},Ih=()=>{try{return UI()||qI()||FI()||GI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ZT=n=>{var e,t;return(t=(e=Ih())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},$I=n=>{const e=ZT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},JT=()=>{var n;return(n=Ih())===null||n===void 0?void 0:n.config},ew=n=>{var e;return(e=Ih())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(n){return n.endsWith(".cloudworkstations.dev")}async function tw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[eh(JSON.stringify(t)),eh(JSON.stringify(c)),""].join(".")}const Eu={};function KI(){const n={prod:[],emulator:[]};for(const e of Object.keys(Eu))Eu[e]?n.emulator.push(e):n.prod.push(e);return n}function XI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let wb=!1;function nw(n,e){if(typeof window>"u"||typeof document>"u"||!qo(window.location.host)||Eu[n]===e||Eu[n]||wb)return;Eu[n]=e;function t(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=KI().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{wb=!0,c()},E}function v(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=XI(i),w=t("text"),C=document.getElementById(w)||document.createElement("span"),k=t("learnmore"),P=document.getElementById(k)||document.createElement("a"),j=t("preprendIcon"),U=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const $=E.element;d($),v(P,k);const J=p();m(U,j),$.append(U,C,P,J),document.body.appendChild($)}l?(C.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function ZI(){var n;const e=(n=Ih())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function t2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n2(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function r2(){return!ZI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i2(){try{return typeof indexedDB=="object"}catch{return!1}}function s2(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="FirebaseError";class xi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=a2,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qu.prototype.create)}}class qu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?o2(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new xi(a,d,i)}}function o2(n,e){return n.replace(l2,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const l2=/\{\$([^}]+)}/g;function u2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ua(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(Ab(l)&&Ab(c)){if(!ua(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function Ab(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function c2(n,e){const t=new f2(n,e);return t.subscribe.bind(t)}class f2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");h2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=pp),a.error===void 0&&(a.error=pp),a.complete===void 0&&(a.complete=pp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n){return n&&n._delegate?n._delegate:n}class ca{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d2=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new YI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p2(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:m2(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function m2(n){return n===sa?void 0:n}function p2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new d2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const y2={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},v2=Be.INFO,_2={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},b2=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=_2[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xg{constructor(e){this.name=e,this._logLevel=v2,this._logHandler=b2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const E2=(n,e)=>e.some(t=>n instanceof t);let Sb,xb;function T2(){return Sb||(Sb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w2(){return xb||(xb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rw=new WeakMap,Vp=new WeakMap,iw=new WeakMap,gp=new WeakMap,Rg=new WeakMap;function A2(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ls(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&rw.set(t,n)}).catch(()=>{}),Rg.set(e,n),e}function S2(n){if(Vp.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Vp.set(n,e)}let Lp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Vp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||iw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ls(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function x2(n){Lp=n(Lp)}function R2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(yp(this),e,...t);return iw.set(i,e.sort?e.sort():[e]),ls(i)}:w2().includes(n)?function(...e){return n.apply(yp(this),e),ls(rw.get(this))}:function(...e){return ls(n.apply(yp(this),e))}}function C2(n){return typeof n=="function"?R2(n):(n instanceof IDBTransaction&&S2(n),E2(n,T2())?new Proxy(n,Lp):n)}function ls(n){if(n instanceof IDBRequest)return A2(n);if(gp.has(n))return gp.get(n);const e=C2(n);return e!==n&&(gp.set(n,e),Rg.set(e,n)),e}const yp=n=>Rg.get(n);function I2(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=ls(c);return i&&c.addEventListener("upgradeneeded",m=>{i(ls(c.result),m.oldVersion,m.newVersion,ls(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const N2=["get","getKey","getAll","getAllKeys","count"],D2=["put","add","delete","clear"],vp=new Map;function Rb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(vp.get(e))return vp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=D2.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||N2.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&m.done]))[0]};return vp.set(e,l),l}x2(n=>({...n,get:(e,t,i)=>Rb(e,t)||n.get(e,t,i),has:(e,t)=>!!Rb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(M2(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function M2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Up="@firebase/app",Cb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new xg("@firebase/app"),k2="@firebase/app-compat",P2="@firebase/analytics-compat",V2="@firebase/analytics",L2="@firebase/app-check-compat",U2="@firebase/app-check",j2="@firebase/auth",z2="@firebase/auth-compat",B2="@firebase/database",H2="@firebase/data-connect",q2="@firebase/database-compat",F2="@firebase/functions",G2="@firebase/functions-compat",$2="@firebase/installations",Y2="@firebase/installations-compat",Q2="@firebase/messaging",K2="@firebase/messaging-compat",X2="@firebase/performance",W2="@firebase/performance-compat",Z2="@firebase/remote-config",J2="@firebase/remote-config-compat",eN="@firebase/storage",tN="@firebase/storage-compat",nN="@firebase/firestore",rN="@firebase/ai",iN="@firebase/firestore-compat",sN="firebase",aN="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="[DEFAULT]",oN={[Up]:"fire-core",[k2]:"fire-core-compat",[V2]:"fire-analytics",[P2]:"fire-analytics-compat",[U2]:"fire-app-check",[L2]:"fire-app-check-compat",[j2]:"fire-auth",[z2]:"fire-auth-compat",[B2]:"fire-rtdb",[H2]:"fire-data-connect",[q2]:"fire-rtdb-compat",[F2]:"fire-fn",[G2]:"fire-fn-compat",[$2]:"fire-iid",[Y2]:"fire-iid-compat",[Q2]:"fire-fcm",[K2]:"fire-fcm-compat",[X2]:"fire-perf",[W2]:"fire-perf-compat",[Z2]:"fire-rc",[J2]:"fire-rc-compat",[eN]:"fire-gcs",[tN]:"fire-gcs-compat",[nN]:"fire-fst",[iN]:"fire-fst-compat",[rN]:"fire-vertex","fire-js":"fire-js",[sN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,lN=new Map,zp=new Map;function Ib(n,e){try{n.container.addComponent(e)}catch(t){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function xo(n){const e=n.name;if(zp.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;zp.set(e,n);for(const t of th.values())Ib(t,n);for(const t of lN.values())Ib(t,n);return!0}function Cg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ir(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new qu("app","Firebase",uN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=aN;function sw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:jp,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw us.create("bad-app-name",{appName:String(a)});if(t||(t=JT()),!t)throw us.create("no-options");const l=th.get(a);if(l){if(ua(t,l.options)&&ua(i,l.config))return l;throw us.create("duplicate-app",{appName:a})}const c=new g2(a);for(const m of zp.values())c.addComponent(m);const d=new cN(t,i,c);return th.set(a,d),d}function aw(n=jp){const e=th.get(n);if(!e&&n===jp&&JT())return sw();if(!e)throw us.create("no-app",{appName:n});return e}function cs(n,e,t){var i;let a=(i=oN[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(d.join(" "));return}xo(new ca(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="firebase-heartbeat-database",hN=1,Nu="firebase-heartbeat-store";let _p=null;function ow(){return _p||(_p=I2(fN,hN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Nu)}catch(t){console.warn(t)}}}}).catch(n=>{throw us.create("idb-open",{originalErrorMessage:n.message})})),_p}async function dN(n){try{const t=(await ow()).transaction(Nu),i=await t.objectStore(Nu).get(lw(n));return await t.done,i}catch(e){if(e instanceof xi)vi.warn(e.message);else{const t=us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vi.warn(t.message)}}}async function Nb(n,e){try{const i=(await ow()).transaction(Nu,"readwrite");await i.objectStore(Nu).put(e,lw(n)),await i.done}catch(t){if(t instanceof xi)vi.warn(t.message);else{const i=us.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});vi.warn(i.message)}}}function lw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=1024,pN=30;class gN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Db();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>pN){const c=_N(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){vi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Db(),{heartbeatsToSend:i,unsentEntries:a}=yN(this._heartbeatsCache.heartbeats),l=eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return vi.warn(t),""}}}function Db(){return new Date().toISOString().substring(0,10)}function yN(n,e=mN){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Ob(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Ob(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class vN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i2()?s2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await dN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Nb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Nb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Ob(n){return eh(JSON.stringify({version:2,heartbeats:n})).length}function _N(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(n){xo(new ca("platform-logger",e=>new O2(e),"PRIVATE")),xo(new ca("heartbeat",e=>new gN(e),"PRIVATE")),cs(Up,Cb,n),cs(Up,Cb,"esm2017"),cs("fire-js","")}bN("");var EN="firebase",TN="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs(EN,TN,"app");function Ig(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function uw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wN=uw,cw=new qu("auth","Firebase",uw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new xg("@firebase/auth");function AN(n,...e){nh.logLevel<=Be.WARN&&nh.warn(`Auth (${Fo}): ${n}`,...e)}function zf(n,...e){nh.logLevel<=Be.ERROR&&nh.error(`Auth (${Fo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(n,...e){throw Ng(n,...e)}function Dr(n,...e){return Ng(n,...e)}function fw(n,e,t){const i=Object.assign(Object.assign({},wN()),{[e]:t});return new qu("auth","Firebase",i).create(e,{appName:n.name})}function la(n){return fw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ng(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return cw.create(n,...e)}function Ie(n,e,...t){if(!n)throw Ng(e,...t)}function hi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zf(e),new Error(e)}function bi(n,e){n||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function SN(){return Mb()==="http:"||Mb()==="https:"}function Mb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SN()||e2()||"connection"in navigator)?navigator.onLine:!0}function RN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t){this.shortDelay=e,this.longDelay=t,bi(t>e,"Short delay should be less than long delay!"),this.isMobile=WI()||t2()}get(){return xN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(n,e){bi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NN=new Gu(3e4,6e4);function Og(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Go(n,e,t,i,a={}){return dw(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Fu(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:m},l);return JI()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&qo(n.emulatorConfig.host)&&(p.credentials="include"),hw.fetch()(await mw(n,n.config.apiHost,t,d),p)})}async function dw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},CN),e);try{const a=new ON(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Nf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Nf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Nf(n,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw fw(n,v,p);_i(n,v)}}catch(a){if(a instanceof xi)throw a;_i(n,"network-request-failed",{message:String(a)})}}async function DN(n,e,t,i,a={}){const l=await Go(n,e,t,i,a);return"mfaPendingCredential"in l&&_i(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function mw(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?Dg(n.config,a):`${n.config.apiScheme}://${a}`;return IN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class ON{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Dr(this.auth,"network-request-failed")),NN.get())})}}function Nf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Dr(n,e,i);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(n,e){return Go(n,"POST","/v1/accounts:delete",e)}async function rh(n,e){return Go(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kN(n,e=!1){const t=nr(n),i=await t.getIdToken(e),a=Mg(i);Ie(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Tu(bp(a.auth_time)),issuedAtTime:Tu(bp(a.iat)),expirationTime:Tu(bp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function bp(n){return Number(n)*1e3}function Mg(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return zf("JWT malformed, contained fewer than 3 sections"),null;try{const a=WT(t);return a?JSON.parse(a):(zf("Failed to decode base64 JWT payload"),null)}catch(a){return zf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function kb(n){const e=Mg(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof xi&&PN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function PN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(n){var e;const t=n.auth,i=await n.getIdToken(),a=await Du(n,rh(t,{idToken:i}));Ie(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?pw(l.providerUserInfo):[],d=UN(n.providerData,c),m=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Hp(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,_)}async function LN(n){const e=nr(n);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UN(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function pw(n){return n.map(e=>{var{providerId:t}=e,i=Ig(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(n,e){const t=await dw(n,{},async()=>{const i=Fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await mw(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return n.emulatorConfig&&qo(n.emulatorConfig.host)&&(m.credentials="include"),hw.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function zN(n,e){return Go(n,"POST","/v2/accounts:revokeToken",Og(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=kb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await jN(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Eo;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ie(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ie(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zn{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=Ig(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Hp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Du(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kN(this,e)}reload(){return LN(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ih(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ir(this.auth.app))return Promise.reject(la(this.auth));const e=await this.getIdToken();return await Du(this,MN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,d,m,p,v;const _=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(a=t.email)!==null&&a!==void 0?a:void 0,w=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,k=(d=t.tenantId)!==null&&d!==void 0?d:void 0,P=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,j=(p=t.createdAt)!==null&&p!==void 0?p:void 0,U=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:$,emailVerified:J,isAnonymous:te,providerData:ae,stsTokenManager:O}=t;Ie($&&O,e,"internal-error");const x=Eo.fromJSON(this.name,O);Ie(typeof $=="string",e,"internal-error"),ns(_,e.name),ns(E,e.name),Ie(typeof J=="boolean",e,"internal-error"),Ie(typeof te=="boolean",e,"internal-error"),ns(w,e.name),ns(C,e.name),ns(k,e.name),ns(P,e.name),ns(j,e.name),ns(U,e.name);const M=new Zn({uid:$,auth:e,email:E,emailVerified:J,displayName:_,isAnonymous:te,photoURL:C,phoneNumber:w,tenantId:k,stsTokenManager:x,createdAt:j,lastLoginAt:U});return ae&&Array.isArray(ae)&&(M.providerData=ae.map(L=>Object.assign({},L))),P&&(M._redirectEventId=P),M}static async _fromIdTokenResponse(e,t,i=!1){const a=new Eo;a.updateFromServerResponse(t);const l=new Zn({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await ih(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ie(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?pw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Eo;d.updateFromIdToken(i);const m=new Zn({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Hp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=new Map;function di(n){bi(n instanceof Function,"Expected a class definition");let e=Pb.get(n);return e?(bi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Pb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gw.type="NONE";const Vb=gw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(n,e,t){return`firebase:${n}:${e}:${t}`}class To{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Bf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Bf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await rh(this.auth,{idToken:e}).catch(()=>{});return t?Zn._fromGetAccountInfoResponse(this.auth,t,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new To(di(Vb),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||di(Vb);const c=Bf(i,e.config.apiKey,e.name);let d=null;for(const p of t)try{const v=await p._get(c);if(v){let _;if(typeof v=="string"){const E=await rh(e,{idToken:v}).catch(()=>{});if(!E)break;_=await Zn._fromGetAccountInfoResponse(e,E,v)}else _=Zn._fromJSON(e,v);p!==l&&(d=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new To(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new To(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Tw(e))return"Blackberry";if(ww(e))return"Webos";if(vw(e))return"Safari";if((e.includes("chrome/")||_w(e))&&!e.includes("edge/"))return"Chrome";if(Ew(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function yw(n=on()){return/firefox\//i.test(n)}function vw(n=on()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _w(n=on()){return/crios\//i.test(n)}function bw(n=on()){return/iemobile/i.test(n)}function Ew(n=on()){return/android/i.test(n)}function Tw(n=on()){return/blackberry/i.test(n)}function ww(n=on()){return/webos/i.test(n)}function kg(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BN(n=on()){var e;return kg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HN(){return n2()&&document.documentMode===10}function Aw(n=on()){return kg(n)||Ew(n)||ww(n)||Tw(n)||/windows phone/i.test(n)||bw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n,e=[]){let t;switch(n){case"Browser":t=Lb(on());break;case"Worker":t=`${Lb(on())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(n,e={}){return Go(n,"GET","/v2/passwordPolicy",Og(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=6;class $N{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:GN,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ub(this),this.idTokenSubscription=new Ub(this),this.beforeStateQueue=new qN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=di(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await To.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rh(this,{idToken:e}),i=await Zn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ir(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ir(this.app))return Promise.reject(la(this));const t=e?nr(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ir(this.app)?Promise.reject(la(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ir(this.app)?Promise.reject(la(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FN(this),t=new $N(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await zN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&di(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[di(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&AN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Pg(n){return nr(n)}class Ub{constructor(e){this.auth=e,this.observer=null,this.addObserver=c2(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QN(n){Vg=n}function KN(n){return Vg.loadJS(n)}function XN(){return Vg.gapiScript}function WN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n,e){const t=Cg(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ua(l,e??{}))return a;_i(a,"already-initialized")}return t.initialize({options:e})}function JN(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(di);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function eD(n,e,t){const i=Pg(n);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=xw(e),{host:c,port:d}=tD(e),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie(ua(p,i.config.emulator)&&ua(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,qo(c)?(tw(`${l}//${c}${m}`),nw("Auth",!0)):nD()}function xw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function tD(n){const e=xw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:jb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:jb(c)}}}function jb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function nD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,t){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(n,e){return DN(n,"POST","/v1/accounts:signInWithIdp",Og(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="http://localhost";class fa extends Rw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_i("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=Ig(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new fa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return wo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,wo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wo(e,t)}buildRequest(){const e={requestUri:rD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends Cw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends $u{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends $u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return is.credential(t,i)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends $u{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends $u{constructor(){super("twitter.com")}static credential(e,t){return fa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return as.credential(t,i)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Zn._fromIdTokenResponse(e,i,a),c=zb(i);return new Ro({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=zb(i);return new Ro({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function zb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends xi{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new sh(e,t,i,a)}}function Iw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(n,l,e,i):l})}async function iD(n,e,t=!1){const i=await Du(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ro._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(n,e,t=!1){const{auth:i}=n;if(Ir(i.app))return Promise.reject(la(i));const a="reauthenticate";try{const l=await Du(n,Iw(i,a,e,n),t);Ie(l.idToken,i,"internal-error");const c=Mg(l.idToken);Ie(c,i,"internal-error");const{sub:d}=c;return Ie(n.uid===d,i,"user-mismatch"),Ro._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&_i(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(n,e,t=!1){if(Ir(n.app))return Promise.reject(la(n));const i="signIn",a=await Iw(n,i,e),l=await Ro._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}function oD(n,e,t,i){return nr(n).onIdTokenChanged(e,t,i)}function lD(n,e,t){return nr(n).beforeAuthStateChanged(e,t)}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=1e3,cD=10;class Dw extends Nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Aw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);HN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,cD):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},uD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Dw.type="LOCAL";const fD=Dw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow extends Nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ow.type="SESSION";const Mw=Ow;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Nh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async p=>p(t.origin,l)),m=await hD(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=Lg("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(E.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function mD(n){Or().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function pD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function yD(){return kw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="firebaseLocalStorageDb",vD=1,oh="firebaseLocalStorage",Vw="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Dh(n,e){return n.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function _D(){const n=indexedDB.deleteDatabase(Pw);return new Yu(n).toPromise()}function qp(){const n=indexedDB.open(Pw,vD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(oh,{keyPath:Vw})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(oh)?e(i):(i.close(),await _D(),e(await qp()))})})}async function Bb(n,e,t){const i=Dh(n,!0).put({[Vw]:e,value:t});return new Yu(i).toPromise()}async function bD(n,e){const t=Dh(n,!1).get(e),i=await new Yu(t).toPromise();return i===void 0?null:i.value}function Hb(n,e){const t=Dh(n,!0).delete(e);return new Yu(t).toPromise()}const ED=800,TD=3;class Lw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>TD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(yD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await pD(),!this.activeServiceWorker)return;this.sender=new dD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qp();return await Bb(e,ah,"1"),await Hb(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Bb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>bD(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Hb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Dh(a,!1).getAll();return new Yu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ED)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lw.type="LOCAL";const wD=Lw;new Gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(n,e){return e?di(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends Rw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function SD(n){return aD(n.auth,new Ug(n),n.bypassAuthState)}function xD(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),sD(t,new Ug(n),n.bypassAuthState)}async function RD(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),iD(t,new Ug(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SD;case"linkViaPopup":case"linkViaRedirect":return RD;case"reauthViaPopup":case"reauthViaRedirect":return xD;default:_i(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new Gu(2e3,1e4);class bo extends Uw{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=Lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CD.get())};e()}}bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="pendingRedirect",Hf=new Map;class ND extends Uw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Hf.get(this.auth._key());if(!e){try{const i=await DD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Hf.set(this.auth._key(),e)}return this.bypassAuthState||Hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DD(n,e){const t=kD(e),i=MD(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function OD(n,e){Hf.set(n._key(),e)}function MD(n){return di(n._redirectPersistence)}function kD(n){return Bf(ID,n.config.apiKey,n.name)}async function PD(n,e,t=!1){if(Ir(n.app))return Promise.reject(la(n));const i=Pg(n),a=AD(i,e),c=await new ND(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=10*60*1e3;class LD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!jw(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Dr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VD&&this.cachedEventUids.clear(),this.cachedEventUids.has(qb(e))}saveEventToCache(e){this.cachedEventUids.add(qb(e)),this.lastProcessedEventTime=Date.now()}}function qb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(n,e={}){return Go(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BD=/^https?/;async function HD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await jD(n);for(const t of e)try{if(qD(t))return}catch{}_i(n,"unauthorized-domain")}function qD(n){const e=Bp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!BD.test(t))return!1;if(zD.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new Gu(3e4,6e4);function Fb(){const n=Or().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function GD(n){return new Promise((e,t)=>{var i,a,l;function c(){Fb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fb(),t(Dr(n,"network-request-failed"))},timeout:FD.get()})}if(!((a=(i=Or().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Or().gapi)===null||l===void 0)&&l.load)c();else{const d=WN("iframefcb");return Or()[d]=()=>{gapi.load?c():t(Dr(n,"network-request-failed"))},KN(`${XN()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw qf=null,e})}let qf=null;function $D(n){return qf=qf||GD(n),qf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new Gu(5e3,15e3),QD="__/auth/iframe",KD="emulator/auth/iframe",XD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZD(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Dg(e,KD):`https://${n.config.authDomain}/${QD}`,i={apiKey:e.apiKey,appName:n.name,v:Fo},a=WD.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Fu(i).slice(1)}`}async function JD(n){const e=await $D(n),t=Or().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:ZD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XD,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Dr(n,"network-request-failed"),d=Or().setTimeout(()=>{l(c)},YD.get());function m(){Or().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tO=500,nO=600,rO="_blank",iO="http://localhost";class Gb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sO(n,e,t,i=tO,a=nO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m=Object.assign(Object.assign({},eO),{width:i.toString(),height:a.toString(),top:l,left:c}),p=on().toLowerCase();t&&(d=_w(p)?rO:t),yw(p)&&(e=e||iO,m.scrollbars="yes");const v=Object.entries(m).reduce((E,[w,C])=>`${E}${w}=${C},`,"");if(BN(p)&&d!=="_self")return aO(e||"",d),new Gb(null);const _=window.open(e||"",d,v);Ie(_,n,"popup-blocked");try{_.focus()}catch{}return new Gb(_)}function aO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="__/auth/handler",lO="emulator/auth/handler",uO=encodeURIComponent("fac");async function $b(n,e,t,i,a,l){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Fo,eventId:a};if(e instanceof Cw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",u2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof $u){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),p=m?`#${uO}=${encodeURIComponent(m)}`:"";return`${cO(n)}?${Fu(d).slice(1)}${p}`}function cO({config:n}){return n.emulator?Dg(n,lO):`https://${n.authDomain}/${oO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="webStorageSupport";class fO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mw,this._completeRedirectFn=PD,this._overrideRedirectResult=OD}async _openPopup(e,t,i,a){var l;bi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await $b(e,t,i,Bp(),a);return sO(e,c,Lg())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await $b(e,t,i,Bp(),a);return mD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(bi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await JD(e),i=new LD(e);return t.register("authEvent",a=>(Ie(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ep,{type:Ep},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Ep];c!==void 0&&t(!!c),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=HD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Aw()||vw()||kg()}}const hO=fO;var Yb="@firebase/auth",Qb="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pO(n){xo(new ca("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sw(n)},p=new YN(i,a,l,m);return JN(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),xo(new ca("auth-internal",e=>{const t=Pg(e.getProvider("auth").getImmediate());return(i=>new dO(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),cs(Yb,Qb,mO(n)),cs(Yb,Qb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=5*60,yO=ew("authIdTokenMaxAge")||gO;let Kb=null;const vO=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>yO)return;const a=t==null?void 0:t.token;Kb!==a&&(Kb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function _O(n=aw()){const e=Cg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ZN(n,{popupRedirectResolver:hO,persistence:[wD,fD,Mw]}),i=ew("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=vO(l.toString());lD(t,c,()=>c(t.currentUser)),oD(t,d=>c(d))}}const a=ZT("auth");return a&&eD(t,`http://${a}`),t}function bO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}QN({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Dr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",bO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pO("Browser");var Xb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fs,zw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,x){function M(){}M.prototype=x.prototype,O.D=x.prototype,O.prototype=new M,O.prototype.constructor=O,O.C=function(L,z,H){for(var N=Array(arguments.length-2),de=2;de<arguments.length;de++)N[de-2]=arguments[de];return x.prototype[z].apply(L,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,x,M){M||(M=0);var L=Array(16);if(typeof x=="string")for(var z=0;16>z;++z)L[z]=x.charCodeAt(M++)|x.charCodeAt(M++)<<8|x.charCodeAt(M++)<<16|x.charCodeAt(M++)<<24;else for(z=0;16>z;++z)L[z]=x[M++]|x[M++]<<8|x[M++]<<16|x[M++]<<24;x=O.g[0],M=O.g[1],z=O.g[2];var H=O.g[3],N=x+(H^M&(z^H))+L[0]+3614090360&4294967295;x=M+(N<<7&4294967295|N>>>25),N=H+(z^x&(M^z))+L[1]+3905402710&4294967295,H=x+(N<<12&4294967295|N>>>20),N=z+(M^H&(x^M))+L[2]+606105819&4294967295,z=H+(N<<17&4294967295|N>>>15),N=M+(x^z&(H^x))+L[3]+3250441966&4294967295,M=z+(N<<22&4294967295|N>>>10),N=x+(H^M&(z^H))+L[4]+4118548399&4294967295,x=M+(N<<7&4294967295|N>>>25),N=H+(z^x&(M^z))+L[5]+1200080426&4294967295,H=x+(N<<12&4294967295|N>>>20),N=z+(M^H&(x^M))+L[6]+2821735955&4294967295,z=H+(N<<17&4294967295|N>>>15),N=M+(x^z&(H^x))+L[7]+4249261313&4294967295,M=z+(N<<22&4294967295|N>>>10),N=x+(H^M&(z^H))+L[8]+1770035416&4294967295,x=M+(N<<7&4294967295|N>>>25),N=H+(z^x&(M^z))+L[9]+2336552879&4294967295,H=x+(N<<12&4294967295|N>>>20),N=z+(M^H&(x^M))+L[10]+4294925233&4294967295,z=H+(N<<17&4294967295|N>>>15),N=M+(x^z&(H^x))+L[11]+2304563134&4294967295,M=z+(N<<22&4294967295|N>>>10),N=x+(H^M&(z^H))+L[12]+1804603682&4294967295,x=M+(N<<7&4294967295|N>>>25),N=H+(z^x&(M^z))+L[13]+4254626195&4294967295,H=x+(N<<12&4294967295|N>>>20),N=z+(M^H&(x^M))+L[14]+2792965006&4294967295,z=H+(N<<17&4294967295|N>>>15),N=M+(x^z&(H^x))+L[15]+1236535329&4294967295,M=z+(N<<22&4294967295|N>>>10),N=x+(z^H&(M^z))+L[1]+4129170786&4294967295,x=M+(N<<5&4294967295|N>>>27),N=H+(M^z&(x^M))+L[6]+3225465664&4294967295,H=x+(N<<9&4294967295|N>>>23),N=z+(x^M&(H^x))+L[11]+643717713&4294967295,z=H+(N<<14&4294967295|N>>>18),N=M+(H^x&(z^H))+L[0]+3921069994&4294967295,M=z+(N<<20&4294967295|N>>>12),N=x+(z^H&(M^z))+L[5]+3593408605&4294967295,x=M+(N<<5&4294967295|N>>>27),N=H+(M^z&(x^M))+L[10]+38016083&4294967295,H=x+(N<<9&4294967295|N>>>23),N=z+(x^M&(H^x))+L[15]+3634488961&4294967295,z=H+(N<<14&4294967295|N>>>18),N=M+(H^x&(z^H))+L[4]+3889429448&4294967295,M=z+(N<<20&4294967295|N>>>12),N=x+(z^H&(M^z))+L[9]+568446438&4294967295,x=M+(N<<5&4294967295|N>>>27),N=H+(M^z&(x^M))+L[14]+3275163606&4294967295,H=x+(N<<9&4294967295|N>>>23),N=z+(x^M&(H^x))+L[3]+4107603335&4294967295,z=H+(N<<14&4294967295|N>>>18),N=M+(H^x&(z^H))+L[8]+1163531501&4294967295,M=z+(N<<20&4294967295|N>>>12),N=x+(z^H&(M^z))+L[13]+2850285829&4294967295,x=M+(N<<5&4294967295|N>>>27),N=H+(M^z&(x^M))+L[2]+4243563512&4294967295,H=x+(N<<9&4294967295|N>>>23),N=z+(x^M&(H^x))+L[7]+1735328473&4294967295,z=H+(N<<14&4294967295|N>>>18),N=M+(H^x&(z^H))+L[12]+2368359562&4294967295,M=z+(N<<20&4294967295|N>>>12),N=x+(M^z^H)+L[5]+4294588738&4294967295,x=M+(N<<4&4294967295|N>>>28),N=H+(x^M^z)+L[8]+2272392833&4294967295,H=x+(N<<11&4294967295|N>>>21),N=z+(H^x^M)+L[11]+1839030562&4294967295,z=H+(N<<16&4294967295|N>>>16),N=M+(z^H^x)+L[14]+4259657740&4294967295,M=z+(N<<23&4294967295|N>>>9),N=x+(M^z^H)+L[1]+2763975236&4294967295,x=M+(N<<4&4294967295|N>>>28),N=H+(x^M^z)+L[4]+1272893353&4294967295,H=x+(N<<11&4294967295|N>>>21),N=z+(H^x^M)+L[7]+4139469664&4294967295,z=H+(N<<16&4294967295|N>>>16),N=M+(z^H^x)+L[10]+3200236656&4294967295,M=z+(N<<23&4294967295|N>>>9),N=x+(M^z^H)+L[13]+681279174&4294967295,x=M+(N<<4&4294967295|N>>>28),N=H+(x^M^z)+L[0]+3936430074&4294967295,H=x+(N<<11&4294967295|N>>>21),N=z+(H^x^M)+L[3]+3572445317&4294967295,z=H+(N<<16&4294967295|N>>>16),N=M+(z^H^x)+L[6]+76029189&4294967295,M=z+(N<<23&4294967295|N>>>9),N=x+(M^z^H)+L[9]+3654602809&4294967295,x=M+(N<<4&4294967295|N>>>28),N=H+(x^M^z)+L[12]+3873151461&4294967295,H=x+(N<<11&4294967295|N>>>21),N=z+(H^x^M)+L[15]+530742520&4294967295,z=H+(N<<16&4294967295|N>>>16),N=M+(z^H^x)+L[2]+3299628645&4294967295,M=z+(N<<23&4294967295|N>>>9),N=x+(z^(M|~H))+L[0]+4096336452&4294967295,x=M+(N<<6&4294967295|N>>>26),N=H+(M^(x|~z))+L[7]+1126891415&4294967295,H=x+(N<<10&4294967295|N>>>22),N=z+(x^(H|~M))+L[14]+2878612391&4294967295,z=H+(N<<15&4294967295|N>>>17),N=M+(H^(z|~x))+L[5]+4237533241&4294967295,M=z+(N<<21&4294967295|N>>>11),N=x+(z^(M|~H))+L[12]+1700485571&4294967295,x=M+(N<<6&4294967295|N>>>26),N=H+(M^(x|~z))+L[3]+2399980690&4294967295,H=x+(N<<10&4294967295|N>>>22),N=z+(x^(H|~M))+L[10]+4293915773&4294967295,z=H+(N<<15&4294967295|N>>>17),N=M+(H^(z|~x))+L[1]+2240044497&4294967295,M=z+(N<<21&4294967295|N>>>11),N=x+(z^(M|~H))+L[8]+1873313359&4294967295,x=M+(N<<6&4294967295|N>>>26),N=H+(M^(x|~z))+L[15]+4264355552&4294967295,H=x+(N<<10&4294967295|N>>>22),N=z+(x^(H|~M))+L[6]+2734768916&4294967295,z=H+(N<<15&4294967295|N>>>17),N=M+(H^(z|~x))+L[13]+1309151649&4294967295,M=z+(N<<21&4294967295|N>>>11),N=x+(z^(M|~H))+L[4]+4149444226&4294967295,x=M+(N<<6&4294967295|N>>>26),N=H+(M^(x|~z))+L[11]+3174756917&4294967295,H=x+(N<<10&4294967295|N>>>22),N=z+(x^(H|~M))+L[2]+718787259&4294967295,z=H+(N<<15&4294967295|N>>>17),N=M+(H^(z|~x))+L[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(z+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+z&4294967295,O.g[3]=O.g[3]+H&4294967295}i.prototype.u=function(O,x){x===void 0&&(x=O.length);for(var M=x-this.blockSize,L=this.B,z=this.h,H=0;H<x;){if(z==0)for(;H<=M;)a(this,O,H),H+=this.blockSize;if(typeof O=="string"){for(;H<x;)if(L[z++]=O.charCodeAt(H++),z==this.blockSize){a(this,L),z=0;break}}else for(;H<x;)if(L[z++]=O[H++],z==this.blockSize){a(this,L),z=0;break}}this.h=z,this.o+=x},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;var M=8*this.o;for(x=O.length-8;x<O.length;++x)O[x]=M&255,M/=256;for(this.u(O),O=Array(16),x=M=0;4>x;++x)for(var L=0;32>L;L+=8)O[M++]=this.g[x]>>>L&255;return O};function l(O,x){var M=d;return Object.prototype.hasOwnProperty.call(M,O)?M[O]:M[O]=x(O)}function c(O,x){this.h=x;for(var M=[],L=!0,z=O.length-1;0<=z;z--){var H=O[z]|0;L&&H==x||(M[z]=H,L=!1)}this.g=M}var d={};function m(O){return-128<=O&&128>O?l(O,function(x){return new c([x|0],0>x?-1:0)}):new c([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return P(p(-O));for(var x=[],M=1,L=0;O>=M;L++)x[L]=O/M|0,M*=4294967296;return new c(x,0)}function v(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return P(v(O.substring(1),x));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=p(Math.pow(x,8)),L=_,z=0;z<O.length;z+=8){var H=Math.min(8,O.length-z),N=parseInt(O.substring(z,z+H),x);8>H?(H=p(Math.pow(x,H)),L=L.j(H).add(p(N))):(L=L.j(M),L=L.add(p(N)))}return L}var _=m(0),E=m(1),w=m(16777216);n=c.prototype,n.m=function(){if(k(this))return-P(this).m();for(var O=0,x=1,M=0;M<this.g.length;M++){var L=this.i(M);O+=(0<=L?L:4294967296+L)*x,x*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(C(this))return"0";if(k(this))return"-"+P(this).toString(O);for(var x=p(Math.pow(O,6)),M=this,L="";;){var z=J(M,x).g;M=j(M,z.j(x));var H=((0<M.g.length?M.g[0]:M.h)>>>0).toString(O);if(M=z,C(M))return H+L;for(;6>H.length;)H="0"+H;L=H+L}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function C(O){if(O.h!=0)return!1;for(var x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function k(O){return O.h==-1}n.l=function(O){return O=j(this,O),k(O)?-1:C(O)?0:1};function P(O){for(var x=O.g.length,M=[],L=0;L<x;L++)M[L]=~O.g[L];return new c(M,~O.h).add(E)}n.abs=function(){return k(this)?P(this):this},n.add=function(O){for(var x=Math.max(this.g.length,O.g.length),M=[],L=0,z=0;z<=x;z++){var H=L+(this.i(z)&65535)+(O.i(z)&65535),N=(H>>>16)+(this.i(z)>>>16)+(O.i(z)>>>16);L=N>>>16,H&=65535,N&=65535,M[z]=N<<16|H}return new c(M,M[M.length-1]&-2147483648?-1:0)};function j(O,x){return O.add(P(x))}n.j=function(O){if(C(this)||C(O))return _;if(k(this))return k(O)?P(this).j(P(O)):P(P(this).j(O));if(k(O))return P(this.j(P(O)));if(0>this.l(w)&&0>O.l(w))return p(this.m()*O.m());for(var x=this.g.length+O.g.length,M=[],L=0;L<2*x;L++)M[L]=0;for(L=0;L<this.g.length;L++)for(var z=0;z<O.g.length;z++){var H=this.i(L)>>>16,N=this.i(L)&65535,de=O.i(z)>>>16,me=O.i(z)&65535;M[2*L+2*z]+=N*me,U(M,2*L+2*z),M[2*L+2*z+1]+=H*me,U(M,2*L+2*z+1),M[2*L+2*z+1]+=N*de,U(M,2*L+2*z+1),M[2*L+2*z+2]+=H*de,U(M,2*L+2*z+2)}for(L=0;L<x;L++)M[L]=M[2*L+1]<<16|M[2*L];for(L=x;L<2*x;L++)M[L]=0;return new c(M,0)};function U(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function $(O,x){this.g=O,this.h=x}function J(O,x){if(C(x))throw Error("division by zero");if(C(O))return new $(_,_);if(k(O))return x=J(P(O),x),new $(P(x.g),P(x.h));if(k(x))return x=J(O,P(x)),new $(P(x.g),x.h);if(30<O.g.length){if(k(O)||k(x))throw Error("slowDivide_ only works with positive integers.");for(var M=E,L=x;0>=L.l(O);)M=te(M),L=te(L);var z=ae(M,1),H=ae(L,1);for(L=ae(L,2),M=ae(M,2);!C(L);){var N=H.add(L);0>=N.l(O)&&(z=z.add(M),H=N),L=ae(L,1),M=ae(M,1)}return x=j(O,z.j(x)),new $(z,x)}for(z=_;0<=O.l(x);){for(M=Math.max(1,Math.floor(O.m()/x.m())),L=Math.ceil(Math.log(M)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),H=p(M),N=H.j(x);k(N)||0<N.l(O);)M-=L,H=p(M),N=H.j(x);C(H)&&(H=E),z=z.add(H),O=j(O,N)}return new $(z,O)}n.A=function(O){return J(this,O).h},n.and=function(O){for(var x=Math.max(this.g.length,O.g.length),M=[],L=0;L<x;L++)M[L]=this.i(L)&O.i(L);return new c(M,this.h&O.h)},n.or=function(O){for(var x=Math.max(this.g.length,O.g.length),M=[],L=0;L<x;L++)M[L]=this.i(L)|O.i(L);return new c(M,this.h|O.h)},n.xor=function(O){for(var x=Math.max(this.g.length,O.g.length),M=[],L=0;L<x;L++)M[L]=this.i(L)^O.i(L);return new c(M,this.h^O.h)};function te(O){for(var x=O.g.length+1,M=[],L=0;L<x;L++)M[L]=O.i(L)<<1|O.i(L-1)>>>31;return new c(M,O.h)}function ae(O,x){var M=x>>5;x%=32;for(var L=O.g.length-M,z=[],H=0;H<L;H++)z[H]=0<x?O.i(H+M)>>>x|O.i(H+M+1)<<32-x:O.i(H+M);return new c(z,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,zw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,fs=c}).apply(typeof Xb<"u"?Xb:typeof self<"u"?self:typeof window<"u"?window:{});var Df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bw,pu,Hw,Ff,Fp,qw,Fw,Gw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,b){return f==Array.prototype||f==Object.prototype||(f[y]=b.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Df=="object"&&Df];for(var y=0;y<f.length;++y){var b=f[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function a(f,y){if(y)e:{var b=i;f=f.split(".");for(var I=0;I<f.length-1;I++){var G=f[I];if(!(G in b))break e;b=b[G]}f=f[f.length-1],I=b[f],y=y(I),y!=I&&y!=null&&e(b,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var b=0,I=!1,G={next:function(){if(!I&&b<f.length){var ne=b++;return{value:y(ne,f[ne]),done:!1}}return I=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}a("Array.prototype.values",function(f){return f||function(){return l(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,b){return f.call.apply(f.bind,arguments)}function _(f,y,b){if(!f)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,I),f.apply(y,G)}}return function(){return f.apply(y,arguments)}}function E(f,y,b){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:_,E.apply(null,arguments)}function w(f,y){var b=Array.prototype.slice.call(arguments,1);return function(){var I=b.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function C(f,y){function b(){}b.prototype=y.prototype,f.aa=y.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(I,G,ne){for(var he=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)he[qe-2]=arguments[qe];return y.prototype[G].apply(I,he)}}function k(f){const y=f.length;if(0<y){const b=Array(y);for(let I=0;I<y;I++)b[I]=f[I];return b}return[]}function P(f,y){for(let b=1;b<arguments.length;b++){const I=arguments[b];if(m(I)){const G=f.length||0,ne=I.length||0;f.length=G+ne;for(let he=0;he<ne;he++)f[G+he]=I[he]}else f.push(I)}}class j{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(f){return/^[\s\xa0]*$/.test(f)}function $(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function J(f){return J[" "](f),f}J[" "]=function(){};var te=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ae(f,y,b){for(const I in f)y.call(b,f[I],I,f)}function O(f,y){for(const b in f)y.call(void 0,f[b],b,f)}function x(f){const y={};for(const b in f)y[b]=f[b];return y}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,y){let b,I;for(let G=1;G<arguments.length;G++){I=arguments[G];for(b in I)f[b]=I[b];for(let ne=0;ne<M.length;ne++)b=M[ne],Object.prototype.hasOwnProperty.call(I,b)&&(f[b]=I[b])}}function z(f){var y=1;f=f.split(":");const b=[];for(;0<y&&f.length;)b.push(f.shift()),y--;return f.length&&b.push(f.join(":")),b}function H(f){d.setTimeout(()=>{throw f},0)}function N(){var f=ge;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class de{constructor(){this.h=this.g=null}add(y,b){const I=me.get();I.set(y,b),this.h?this.h.next=I:this.g=I,this.h=I}}var me=new j(()=>new q,f=>f.reset());class q{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let re,K=!1,ge=new de,D=()=>{const f=d.Promise.resolve(void 0);re=()=>{f.then(W)}};var W=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(b){H(b)}var y=me;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}K=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};d.addEventListener("test",b,y),d.removeEventListener("test",b,y)}catch{}return f}();function be(f,y){if(X.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(te){e:{try{J(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else b=="mouseover"?y=f.fromElement:b=="mouseout"&&(y=f.toElement);this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ee[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&be.aa.h.call(this)}}C(be,X);var Ee={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Me=0;function st(f,y,b,I,G){this.listener=f,this.proxy=null,this.src=y,this.type=b,this.capture=!!I,this.ha=G,this.key=++Me,this.da=this.fa=!1}function _t(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ht(f){this.src=f,this.g={},this.h=0}ht.prototype.add=function(f,y,b,I,G){var ne=f.toString();f=this.g[ne],f||(f=this.g[ne]=[],this.h++);var he=vn(f,y,I,G);return-1<he?(y=f[he],b||(y.fa=!1)):(y=new st(y,this.src,ne,!!I,G),y.fa=b,f.push(y)),y};function It(f,y){var b=y.type;if(b in f.g){var I=f.g[b],G=Array.prototype.indexOf.call(I,y,void 0),ne;(ne=0<=G)&&Array.prototype.splice.call(I,G,1),ne&&(_t(y),f.g[b].length==0&&(delete f.g[b],f.h--))}}function vn(f,y,b,I){for(var G=0;G<f.length;++G){var ne=f[G];if(!ne.da&&ne.listener==y&&ne.capture==!!b&&ne.ha==I)return G}return-1}var ur="closure_lm_"+(1e6*Math.random()|0),ws={};function ba(f,y,b,I,G){if(Array.isArray(y)){for(var ne=0;ne<y.length;ne++)ba(f,y[ne],b,I,G);return null}return b=tc(b),f&&f[Oe]?f.K(y,b,p(I)?!!I.capture:!1,G):dn(f,y,b,!1,I,G)}function dn(f,y,b,I,G,ne){if(!y)throw Error("Invalid event type");var he=p(G)?!!G.capture:!!G,qe=Ta(f);if(qe||(f[ur]=qe=new ht(f)),b=qe.add(y,b,I,he,ne),b.proxy)return b;if(I=Jo(),b.proxy=I,I.src=f,I.listener=b,f.addEventListener)fe||(G=he),G===void 0&&(G=!1),f.addEventListener(y.toString(),I,G);else if(f.attachEvent)f.attachEvent(As(y.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Jo(){function f(b){return y.call(f.src,f.listener,b)}const y=sd;return f}function cr(f,y,b,I,G){if(Array.isArray(y))for(var ne=0;ne<y.length;ne++)cr(f,y[ne],b,I,G);else I=p(I)?!!I.capture:!!I,b=tc(b),f&&f[Oe]?(f=f.i,y=String(y).toString(),y in f.g&&(ne=f.g[y],b=vn(ne,b,I,G),-1<b&&(_t(ne[b]),Array.prototype.splice.call(ne,b,1),ne.length==0&&(delete f.g[y],f.h--)))):f&&(f=Ta(f))&&(y=f.g[y.toString()],f=-1,y&&(f=vn(y,b,I,G)),(b=-1<f?y[f]:null)&&Ea(b))}function Ea(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Oe])It(y.i,f);else{var b=f.type,I=f.proxy;y.removeEventListener?y.removeEventListener(b,I,f.capture):y.detachEvent?y.detachEvent(As(b),I):y.addListener&&y.removeListener&&y.removeListener(I),(b=Ta(y))?(It(b,f),b.h==0&&(b.src=null,y[ur]=null)):_t(f)}}}function As(f){return f in ws?ws[f]:ws[f]="on"+f}function sd(f,y){if(f.da)f=!0;else{y=new be(y,this);var b=f.listener,I=f.ha||f.src;f.fa&&Ea(f),f=b.call(I,y)}return f}function Ta(f){return f=f[ur],f instanceof ht?f:null}var el="__closure_events_fn_"+(1e9*Math.random()>>>0);function tc(f){return typeof f=="function"?f:(f[el]||(f[el]=function(y){return f.handleEvent(y)}),f[el])}function gt(){ue.call(this),this.i=new ht(this),this.M=this,this.F=null}C(gt,ue),gt.prototype[Oe]=!0,gt.prototype.removeEventListener=function(f,y,b,I){cr(this,f,y,b,I)};function Ze(f,y){var b,I=f.F;if(I)for(b=[];I;I=I.F)b.push(I);if(f=f.M,I=y.type||y,typeof y=="string")y=new X(y,f);else if(y instanceof X)y.target=y.target||f;else{var G=y;y=new X(I,f),L(y,G)}if(G=!0,b)for(var ne=b.length-1;0<=ne;ne--){var he=y.g=b[ne];G=_n(he,I,!0,y)&&G}if(he=y.g=f,G=_n(he,I,!0,y)&&G,G=_n(he,I,!1,y)&&G,b)for(ne=0;ne<b.length;ne++)he=y.g=b[ne],G=_n(he,I,!1,y)&&G}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var b=f.g[y],I=0;I<b.length;I++)_t(b[I]);delete f.g[y],f.h--}}this.F=null},gt.prototype.K=function(f,y,b,I){return this.i.add(String(f),y,!1,b,I)},gt.prototype.L=function(f,y,b,I){return this.i.add(String(f),y,!0,b,I)};function _n(f,y,b,I){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,ne=0;ne<y.length;++ne){var he=y[ne];if(he&&!he.da&&he.capture==b){var qe=he.listener,Dt=he.ha||he.src;he.fa&&It(f.i,he),G=qe.call(Dt,I)!==!1&&G}}return G&&!I.defaultPrevented}function en(f,y,b){if(typeof f=="function")b&&(f=E(f,b));else if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function nc(f){f.g=en(()=>{f.g=null,f.i&&(f.i=!1,nc(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class ad extends ue{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:nc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(f){ue.call(this),this.h=f,this.g={}}C(Ss,ue);var xs=[];function Rs(f){ae(f.g,function(y,b){this.g.hasOwnProperty(b)&&Ea(y)},f),f.g={}}Ss.prototype.N=function(){Ss.aa.N.call(this),Rs(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=d.JSON.stringify,wa=d.JSON.parse,Cs=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function tl(){}tl.prototype.h=null;function nl(f){return f.h||(f.h=f.i())}function rl(){}var zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Br(){X.call(this,"d")}C(Br,X);function il(){X.call(this,"c")}C(il,X);var fr={},sl=null;function Ri(){return sl=sl||new gt}fr.La="serverreachability";function Aa(f){X.call(this,fr.La,f)}C(Aa,X);function Ci(f){const y=Ri();Ze(y,new Aa(y))}fr.STAT_EVENT="statevent";function rc(f,y){X.call(this,fr.STAT_EVENT,f),this.stat=y}C(rc,X);function lt(f){const y=Ri();Ze(y,new rc(y,f))}fr.Ma="timingevent";function Nt(f,y){X.call(this,fr.Ma,f),this.size=y}C(Nt,X);function At(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function al(f,y,b,I,G,ne){f.info(function(){if(f.g)if(ne)for(var he="",qe=ne.split("&"),Dt=0;Dt<qe.length;Dt++){var Fe=qe[Dt].split("=");if(1<Fe.length){var zt=Fe[0];Fe=Fe[1];var Ot=zt.split("_");he=2<=Ot.length&&Ot[1]=="type"?he+(zt+"="+Fe+"&"):he+(zt+"=redacted&")}}else he=null;else he=ne;return"XMLHTTP REQ ("+I+") [attempt "+G+"]: "+y+`
`+b+`
`+he})}function od(f,y,b,I,G,ne,he){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+G+"]: "+y+`
`+b+`
`+ne+" "+he})}function Ii(f,y,b,I){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Is(f,b)+(I?" "+I:"")})}function ic(f,y){f.info(function(){return"TIMEOUT: "+y})}Dn.prototype.info=function(){};function Is(f,y){if(!f.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var I=b[f];if(!(2>I.length)){var G=I[1];if(Array.isArray(G)&&!(1>G.length)){var ne=G[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var he=1;he<G.length;he++)G[he]=""}}}}return Gn(b)}catch{return y}}var Ni={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hr;function dr(){}C(dr,tl),dr.prototype.g=function(){return new XMLHttpRequest},dr.prototype.i=function(){return{}},hr=new dr;function un(f,y,b,I){this.j=f,this.i=y,this.l=b,this.R=I||1,this.U=new Ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var ol={},Sa={};function $n(f,y,b){f.L=1,f.v=ks(bn(y)),f.m=b,f.P=!0,qr(f,null)}function qr(f,y){f.F=Date.now(),Ns(f),f.A=bn(f.v);var b=f.A,I=f.R;Array.isArray(I)||(I=[String(I)]),dl(b.i,"t",I),f.C=0,b=f.j.J,f.h=new bt,f.g=bc(f.j,b?y:null,!f.m),0<f.O&&(f.M=new ad(E(f.Y,f,f.g),f.O)),y=f.U,b=f.g,I=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(xs[0]=G.toString()),G=xs);for(var ne=0;ne<G.length;ne++){var he=ba(b,G[ne],I||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Ci(),al(f.i,f.u,f.A,f.l,f.R,f.m)}un.prototype.ca=function(f){f=f.target;const y=this.M;y&&Pn(f)==3?y.j():this.Y(f)},un.prototype.Y=function(f){try{if(f==this.g)e:{const Ot=Pn(this.g);var y=this.g.Ba();const Wr=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||hc(this.g)))){this.J||Ot!=4||y==7||(y==8||0>=Wr?Ci(3):Ci(2)),Di(this);var b=this.g.Z();this.X=b;t:if(sc(this)){var I=hc(this.g);f="";var G=I.length,ne=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),mr(this);var he="";break t}this.h.i=new d.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,f+=this.h.i.decode(I[y],{stream:!(ne&&y==G-1)});I.length=0,this.h.g+=f,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=b==200,od(this.i,this.u,this.A,this.l,this.R,Ot,b),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Dt=this.g;if((qe=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(qe)){var Fe=qe;break t}}Fe=null}if(b=Fe)Ii(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ds(this,b);else{this.o=!1,this.s=3,lt(12),Gt(this),mr(this);break e}}if(this.P){b=!0;let $t;for(;!this.J&&this.C<he.length;)if($t=ac(this,he),$t==Sa){Ot==4&&(this.s=4,lt(14),b=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if($t==ol){this.s=4,lt(15),Ii(this.i,this.l,he,"[Invalid Chunk]"),b=!1;break}else Ii(this.i,this.l,$t,null),Ds(this,$t);if(sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||he.length!=0||this.h.h||(this.s=1,lt(16),b=!1),this.o=this.o&&b,!b)Ii(this.i,this.l,he,"[Invalid Chunked Response]"),Gt(this),mr(this);else if(0<he.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Hs(zt),zt.M=!0,lt(11))}}else Ii(this.i,this.l,he,null),Ds(this,he);Ot==4&&Gt(this),this.o&&!this.J&&(Ot==4?yc(this.j,this):(this.o=!1,Ns(this)))}else hd(this.g),b==400&&0<he.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Gt(this),mr(this)}}}catch{}finally{}};function sc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ac(f,y){var b=f.C,I=y.indexOf(`
`,b);return I==-1?Sa:(b=Number(y.substring(b,I)),isNaN(b)?ol:(I+=1,I+b>y.length?Sa:(y=y.slice(I,I+b),f.C=I+b,y)))}un.prototype.cancel=function(){this.J=!0,Gt(this)};function Ns(f){f.S=Date.now()+f.I,oc(f,f.I)}function oc(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=At(E(f.ba,f),y)}function Di(f){f.B&&(d.clearTimeout(f.B),f.B=null)}un.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ic(this.i,this.A),this.L!=2&&(Ci(),lt(17)),Gt(this),this.s=2,mr(this)):oc(this,this.S-f)};function mr(f){f.j.G==0||f.J||yc(f.j,f)}function Gt(f){Di(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Rs(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Ds(f,y){try{var b=f.j;if(b.G!=0&&(b.g==f||ll(b.h,f))){if(!f.K&&ll(b.h,f)&&b.G==3){try{var I=b.Da.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var G=I;if(G[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)La(b),Pa(b);else break e;vl(b),lt(18)}}else b.za=G[1],0<b.za-b.T&&37500>G[2]&&b.F&&b.v==0&&!b.C&&(b.C=At(E(b.Za,b),6e3));if(1>=Ra(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Xr(b,11)}else if((f.K||b.g==f)&&La(b),!U(y))for(G=b.Da.g.parse(y),y=0;y<G.length;y++){let Fe=G[y];if(b.T=Fe[0],Fe=Fe[1],b.G==2)if(Fe[0]=="c"){b.K=Fe[1],b.ia=Fe[2];const zt=Fe[3];zt!=null&&(b.la=zt,b.j.info("VER="+b.la));const Ot=Fe[4];Ot!=null&&(b.Aa=Ot,b.j.info("SVER="+b.Aa));const Wr=Fe[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(I=1.5*Wr,b.L=I,b.j.info("backChannelRequestTimeoutMs_="+I)),I=b;const $t=f.g;if($t){const Er=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var ne=I.h;ne.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Ca(ne,ne.h),ne.h=null))}if(I.D){const bl=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;bl&&(I.ya=bl,tt(I.I,I.D,bl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),I=b;var he=f;if(I.qa=_c(I,I.J?I.ia:null,I.W),he.K){cn(I.h,he);var qe=he,Dt=I.L;Dt&&(qe.I=Dt),qe.B&&(Di(qe),Ns(qe)),I.g=he}else pc(I);0<b.i.length&&Va(b)}else Fe[0]!="stop"&&Fe[0]!="close"||Xr(b,7);else b.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Xr(b,7):gl(b):Fe[0]!="noop"&&b.l&&b.l.ta(Fe),b.v=0)}}Ci(4)}catch{}}var lc=class{constructor(f,y){this.g=f,this.map=y}};function Fr(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xa(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ra(f){return f.h?1:f.g?f.g.size:0}function ll(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Ca(f,y){f.g?f.g.add(y):f.h=y}function cn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Fr.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ul(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const b of f.g.values())y=y.concat(b.D);return y}return k(f.i)}function ld(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var y=[],b=f.length,I=0;I<b;I++)y.push(f[I]);return y}y=[],b=0;for(I in f)y[b++]=f[I];return y}function Ia(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var y=[];f=f.length;for(var b=0;b<f;b++)y.push(b);return y}y=[],b=0;for(const I in f)y[b++]=I;return y}}}function cl(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var b=Ia(f),I=ld(f),G=I.length,ne=0;ne<G;ne++)y.call(void 0,I[ne],b&&b[ne],f)}var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ud(f,y){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var I=f[b].indexOf("="),G=null;if(0<=I){var ne=f[b].substring(0,I);G=f[b].substring(I+1)}else ne=f[b];y(ne,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function St(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof St){this.h=f.h,Ms(this,f.j),this.o=f.o,this.g=f.g,Oi(this,f.s),this.l=f.l;var y=f.i,b=new $r;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),Gr(this,b),this.m=f.m}else f&&(y=String(f).match(Os))?(this.h=!1,Ms(this,y[1]||"",!0),this.o=On(y[2]||""),this.g=On(y[3]||"",!0),Oi(this,y[4]),this.l=On(y[5]||"",!0),Gr(this,y[6]||"",!0),this.m=On(y[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}St.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Ps(y,fl,!0),":");var b=this.g;return(b||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Ps(y,fl,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(Ps(b,b.charAt(0)=="/"?cd:hl,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",Ps(b,Na)),f.join("")};function bn(f){return new St(f)}function Ms(f,y,b){f.j=b?On(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Oi(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Gr(f,y,b){y instanceof $r?(f.i=y,cc(f.i,f.h)):(b||(y=Ps(y,fd)),f.i=new $r(y,f.h))}function tt(f,y,b){f.i.set(y,b)}function ks(f){return tt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function On(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ps(f,y,b){return typeof f=="string"?(f=encodeURI(f).replace(y,uc),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function uc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var fl=/[#\/\?@]/g,hl=/[#\?:]/g,cd=/[#\?]/g,fd=/[#\?@]/g,Na=/#/g;function $r(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Mn(f){f.g||(f.g=new Map,f.h=0,f.i&&ud(f.i,function(y,b){f.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}n=$r.prototype,n.add=function(f,y){Mn(this),this.i=null,f=pr(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(y),this.h+=1,this};function Yr(f,y){Mn(f),y=pr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Qr(f,y){return Mn(f),y=pr(f,y),f.g.has(y)}n.forEach=function(f,y){Mn(this),this.g.forEach(function(b,I){b.forEach(function(G){f.call(y,G,I,this)},this)},this)},n.na=function(){Mn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let I=0;I<y.length;I++){const G=f[I];for(let ne=0;ne<G.length;ne++)b.push(y[I])}return b},n.V=function(f){Mn(this);let y=[];if(typeof f=="string")Qr(this,f)&&(y=y.concat(this.g.get(pr(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)y=y.concat(f[b])}return y},n.set=function(f,y){return Mn(this),this.i=null,f=pr(this,f),Qr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function dl(f,y,b){Yr(f,y),0<b.length&&(f.i=null,f.g.set(pr(f,y),k(b)),f.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var I=y[b];const ne=encodeURIComponent(String(I)),he=this.V(I);for(I=0;I<he.length;I++){var G=ne;he[I]!==""&&(G+="="+encodeURIComponent(String(he[I]))),f.push(G)}}return this.i=f.join("&")};function pr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function cc(f,y){y&&!f.j&&(Mn(f),f.i=null,f.g.forEach(function(b,I){var G=I.toLowerCase();I!=G&&(Yr(this,I),dl(this,G,b))},f)),f.j=y}function Vs(f,y){const b=new Dn;if(d.Image){const I=new Image;I.onload=w(kn,b,"TestLoadImage: loaded",!0,y,I),I.onerror=w(kn,b,"TestLoadImage: error",!1,y,I),I.onabort=w(kn,b,"TestLoadImage: abort",!1,y,I),I.ontimeout=w(kn,b,"TestLoadImage: timeout",!1,y,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else y(!1)}function Yn(f,y){const b=new Dn,I=new AbortController,G=setTimeout(()=>{I.abort(),kn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:I.signal}).then(ne=>{clearTimeout(G),ne.ok?kn(b,"TestPingServer: ok",!0,y):kn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),kn(b,"TestPingServer: error",!1,y)})}function kn(f,y,b,I,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),I(b)}catch{}}function Ls(){this.g=new Cs}function gr(f,y,b){const I=b||"";try{cl(f,function(G,ne){let he=G;p(G)&&(he=Gn(G)),y.push(I+ne+"="+encodeURIComponent(he))})}catch(G){throw y.push(I+"type="+encodeURIComponent("_badmap")),G}}function Mi(f){this.l=f.Ub||null,this.j=f.eb||!1}C(Mi,tl),Mi.prototype.g=function(){return new Kr(this.l,this.j)},Mi.prototype.i=function(f){return function(){return f}}({});function Kr(f,y){gt.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Kr,gt),n=Kr.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,vr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ml(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ml(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?yr(this):vr(this),this.readyState==3&&ml(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,yr(this))},n.Qa=function(f){this.g&&(this.response=f,yr(this))},n.ga=function(){this.g&&yr(this)};function yr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,vr(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=y.next();return f.join(`\r
`)};function vr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function pl(f){let y="";return ae(f,function(b,I){y+=I,y+=":",y+=b,y+=`\r
`}),y}function jt(f,y,b){e:{for(I in b){var I=!1;break e}I=!0}I||(b=pl(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):tt(f,y,b))}function Ke(f){gt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ke,gt);var Da=/^https?$/i,Us=["POST","PUT"];n=Ke.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,b,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hr.g(),this.v=this.o?nl(this.o):nl(hr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(ne){fc(this,ne);return}if(f=b||"",b=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var G in I)b.set(G,I[G]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const ne of I.keys())b.set(ne,I.get(ne));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(b.keys()).find(ne=>ne.toLowerCase()=="content-type"),G=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Us,y,void 0))||I||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,he]of b)this.g.setRequestHeader(ne,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(f),this.u=!1}catch(ne){fc(this,ne)}};function fc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Oa(f),_r(f)}function Oa(f){f.A||(f.A=!0,Ze(f,"complete"),Ze(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ze(this,"complete"),Ze(this,"abort"),_r(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),Ke.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},n.bb=function(){Ma(this)};function Ma(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Pn(f)!=4||f.Z()!=2)){if(f.u&&Pn(f)==4)en(f.Ea,0,f);else if(Ze(f,"readystatechange"),Pn(f)==4){f.h=!1;try{const he=f.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var I;if(I=he===0){var G=String(f.D).match(Os)[1]||null;!G&&d.self&&d.self.location&&(G=d.self.location.protocol.slice(0,-1)),I=!Da.test(G?G.toLowerCase():"")}b=I}if(b)Ze(f,"complete"),Ze(f,"success");else{f.m=6;try{var ne=2<Pn(f)?f.g.statusText:""}catch{ne=""}f.l=ne+" ["+f.Z()+"]",Oa(f)}}finally{_r(f)}}}}function _r(f,y){if(f.g){js(f);const b=f.g,I=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Ze(f,"ready");try{b.onreadystatechange=I}catch{}}}function js(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Pn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),wa(y)}};function hc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function hd(f){const y={};f=(f.g&&2<=Pn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(U(f[I]))continue;var b=z(f[I]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const ne=y[G]||[];y[G]=ne,ne.push(b)}O(y,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(f,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||y}function ka(f){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zs("baseRetryDelayMs",5e3,f),this.cb=zs("retryDelaySeedMs",1e4,f),this.Wa=zs("forwardChannelMaxRetries",2,f),this.wa=zs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Fr(f&&f.concurrentRequestLimit),this.Da=new Ls,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ka.prototype,n.la=8,n.G=1,n.connect=function(f,y,b,I){lt(0),this.W=f,this.H=y||{},b&&I!==void 0&&(this.H.OSID=b,this.H.OAID=I),this.F=this.X,this.I=_c(this,null,this.W),Va(this)};function gl(f){if(dc(f),f.G==3){var y=f.U++,b=bn(f.I);if(tt(b,"SID",f.K),tt(b,"RID",y),tt(b,"TYPE","terminate"),Bs(f,b),y=new un(f,f.j,y),y.L=2,y.v=ks(bn(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=y.v,b=!0),b||(y.g=bc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ns(y)}vc(f)}function Pa(f){f.g&&(Hs(f),f.g.cancel(),f.g=null)}function dc(f){Pa(f),f.u&&(d.clearTimeout(f.u),f.u=null),La(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Va(f){if(!xa(f.h)&&!f.s){f.s=!0;var y=f.Ga;re||D(),K||(re(),K=!0),ge.add(y,f),f.B=0}}function dd(f,y){return Ra(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=At(E(f.Ga,f,y),_l(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new un(this,this.j,f);let ne=this.o;if(this.S&&(ne?(ne=x(ne),L(ne,this.S)):ne=this.S),this.m!==null||this.O||(G.H=ne,ne=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var I=this.i[b];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=mc(this,G,y),b=bn(this.I),tt(b,"RID",f),tt(b,"CVER",22),this.D&&tt(b,"X-HTTP-Session-Id",this.D),Bs(this,b),ne&&(this.O?y="headers="+encodeURIComponent(String(pl(ne)))+"&"+y:this.m&&jt(b,this.m,ne)),Ca(this.h,G),this.Ua&&tt(b,"TYPE","init"),this.P?(tt(b,"$req",y),tt(b,"SID","null"),G.T=!0,$n(G,b,null)):$n(G,b,y),this.G=2}}else this.G==3&&(f?yl(this,f):this.i.length==0||xa(this.h)||yl(this))};function yl(f,y){var b;y?b=y.l:b=f.U++;const I=bn(f.I);tt(I,"SID",f.K),tt(I,"RID",b),tt(I,"AID",f.T),Bs(f,I),f.m&&f.o&&jt(I,f.m,f.o),b=new un(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),y&&(f.i=y.D.concat(f.i)),y=mc(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ca(f.h,b),$n(b,I,y)}function Bs(f,y){f.H&&ae(f.H,function(b,I){tt(y,I,b)}),f.l&&cl({},function(b,I){tt(y,I,b)})}function mc(f,y,b){b=Math.min(f.i.length,b);var I=f.l?E(f.l.Na,f.l,f):null;e:{var G=f.i;let ne=-1;for(;;){const he=["count="+b];ne==-1?0<b?(ne=G[0].g,he.push("ofs="+ne)):ne=0:he.push("ofs="+ne);let qe=!0;for(let Dt=0;Dt<b;Dt++){let Fe=G[Dt].g;const zt=G[Dt].map;if(Fe-=ne,0>Fe)ne=Math.max(0,G[Dt].g-100),qe=!1;else try{gr(zt,he,"req"+Fe+"_")}catch{I&&I(zt)}}if(qe){I=he.join("&");break e}}}return f=f.i.splice(0,b),y.D=f,I}function pc(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;re||D(),K||(re(),K=!0),ge.add(y,f),f.v=0}}function vl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=At(E(f.Fa,f),_l(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,gc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=At(E(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Pa(this),gc(this))};function Hs(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function gc(f){f.g=new un(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=bn(f.qa);tt(y,"RID","rpc"),tt(y,"SID",f.K),tt(y,"AID",f.T),tt(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&tt(y,"TO",f.ja),tt(y,"TYPE","xmlhttp"),Bs(f,y),f.m&&f.o&&jt(y,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=ks(bn(y)),b.m=null,b.P=!0,qr(b,f)}n.Za=function(){this.C!=null&&(this.C=null,Pa(this),vl(this),lt(19))};function La(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function yc(f,y){var b=null;if(f.g==y){La(f),Hs(f),f.g=null;var I=2}else if(ll(f.h,y))b=y.D,cn(f.h,y),I=1;else return;if(f.G!=0){if(y.o)if(I==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var G=f.B;I=Ri(),Ze(I,new Nt(I,b)),Va(f)}else pc(f);else if(G=y.s,G==3||G==0&&0<y.X||!(I==1&&dd(f,y)||I==2&&vl(f)))switch(b&&0<b.length&&(y=f.h,y.i=y.i.concat(b)),G){case 1:Xr(f,5);break;case 4:Xr(f,10);break;case 3:Xr(f,6);break;default:Xr(f,2)}}}function _l(f,y){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*y}function Xr(f,y){if(f.j.info("Error code "+y),y==2){var b=E(f.fb,f),I=f.Xa;const G=!I;I=new St(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ms(I,"https"),ks(I),G?Vs(I.toString(),b):Yn(I.toString(),b)}else lt(2);f.G=0,f.l&&f.l.sa(y),vc(f),dc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function vc(f){if(f.G=0,f.ka=[],f.l){const y=ul(f.h);(y.length!=0||f.i.length!=0)&&(P(f.ka,y),P(f.ka,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.ra()}}function _c(f,y,b){var I=b instanceof St?bn(b):new St(b);if(I.g!="")y&&(I.g=y+"."+I.g),Oi(I,I.s);else{var G=d.location;I=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var ne=new St(null);I&&Ms(ne,I),y&&(ne.g=y),G&&Oi(ne,G),b&&(ne.l=b),I=ne}return b=f.D,y=f.ya,b&&y&&tt(I,b,y),tt(I,"VER",f.la),Bs(f,I),I}function bc(f,y,b){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Ke(new Mi({eb:b})):new Ke(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ec(){}n=Ec.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ua(){}Ua.prototype.g=function(f,y){return new fn(f,y)};function fn(f,y){gt.call(this),this.g=new ka(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!U(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!U(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new br(this)}C(fn,gt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){gl(this.g)},fn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=Gn(f),f=b);y.i.push(new lc(y.Ya++,f)),y.G==3&&Va(y)},fn.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,fn.aa.N.call(this)};function Tc(f){Br.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const b in y){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}C(Tc,Br);function wc(){il.call(this),this.status=1}C(wc,il);function br(f){this.g=f}C(br,Ec),br.prototype.ua=function(){Ze(this.g,"a")},br.prototype.ta=function(f){Ze(this.g,new Tc(f))},br.prototype.sa=function(f){Ze(this.g,new wc)},br.prototype.ra=function(){Ze(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,Gw=function(){return new Ua},Fw=function(){return Ri()},qw=fr,Fp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ni.NO_ERROR=0,Ni.TIMEOUT=8,Ni.HTTP_ERROR=6,Ff=Ni,Hr.COMPLETE="complete",Hw=Hr,rl.EventType=zr,zr.OPEN="a",zr.CLOSE="b",zr.ERROR="c",zr.MESSAGE="d",gt.prototype.listen=gt.prototype.K,pu=rl,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,Bw=Ke}).apply(typeof Df<"u"?Df:typeof self<"u"?self:typeof window<"u"?window:{});const Wb="@firebase/firestore",Zb="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new xg("@firebase/firestore");function go(){return ha.logLevel}function pe(n,...e){if(ha.logLevel<=Be.DEBUG){const t=e.map(jg);ha.debug(`Firestore (${$o}): ${n}`,...t)}}function Ei(n,...e){if(ha.logLevel<=Be.ERROR){const t=e.map(jg);ha.error(`Firestore (${$o}): ${n}`,...t)}}function Co(n,...e){if(ha.logLevel<=Be.WARN){const t=e.map(jg);ha.warn(`Firestore (${$o}): ${n}`,...t)}}function jg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,$w(n,i,t)}function $w(n,e,t){let i=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ei(i),new Error(i)}function We(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||$w(e,a,i)}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends xi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sn.UNAUTHENTICATED))}shutdown(){}}class TO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wO{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new pi,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new pi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string",31837,{l:i}),new Yw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class AO{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SO{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new AO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const i=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Jb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=RO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Le(n,e){return n<e?-1:n>e?1:0}function Gp(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return Le(i,a);{const l=Qw(),c=CO(l.encode(eE(n,t)),l.encode(eE(e,t)));return c!==0?c:Le(i,a)}}t+=i>65535?2:1}return Le(n.length,e.length)}function eE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function CO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Le(n[t],e[t]);return Le(n.length,e.length)}function Io(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=-62135596800,nE=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*nE);return new Lt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<tE)throw new we(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nE}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-tE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Lt(0,0))}static max(){return new Ne(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="__name__";class Rr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Re(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Rr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Le(e.length,t.length)}static compareSegments(e,t){const i=Rr.isNumericId(e),a=Rr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Rr.extractNumericId(e).compare(Rr.extractNumericId(t)):Gp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fs.fromString(e.substring(4,e.length-2))}}class ct extends Rr{construct(e,t,i){return new ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new we(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const IO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Rr{construct(e,t,i){return new Wt(e,t,i)}static isValidIdentifier(e){return IO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rE}static keyField(){return new Wt([rE])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new we(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new we(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new we(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new we(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ct.fromString(e))}static fromName(e){return new Ae(ct.fromString(e).popFirst(5))}static empty(){return new Ae(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=-1;function NO(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(i===1e9?new Lt(t+1,0):new Lt(t,i));return new ds(a,Ae.empty(),e)}function DO(n){return new ds(n.readTime,n.key,Ou)}class ds{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ds(Ne.min(),Ae.empty(),Ou)}static max(){return new ds(Ne.max(),Ae.empty(),Ou)}}function OO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==MO)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,i)=>{t(e)})}static reject(e){return new le((t,i)=>{i(e)})}static waitFor(e){return new le((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},m=>i(m))}),c=!0,l===a&&t()})}static or(e){let t=le.resolve(!1);for(const i of e)t=t.next(a=>a?le.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new le((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next(v=>{c[p]=v,++d,d===l&&i(c)},v=>a(v))}})}static doWhile(e,t){return new le((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function PO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Oh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=-1;function Mh(n){return n==null}function lh(n){return n===0&&1/n==-1/0}function VO(n){return typeof n=="number"&&Number.isInteger(n)&&!lh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="";function LO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iE(e)),e=UO(n.get(t),e);return iE(e)}function UO(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case Xw:t+="";break;default:t+=l}}return t}function iE(n){return n+Xw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ga(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ww(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Of(this.root,e,this.comparator,!1)}getReverseIterator(){return new Of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Of(this.root,e,this.comparator,!0)}}class Of{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Xt.RED,this.left=a??Xt.EMPTY,this.right=l??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Xt(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Xt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aE(this.data.getIterator())}getIteratorFrom(e){return new aE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class aE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new Ut(Wt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Zw("Invalid base64 string: "+l):l}}(e);return new Zt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const jO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(n){if(We(!!n,39018),typeof n=="string"){let e=0;const t=jO.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ps(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="server_timestamp",eA="__type__",tA="__previous_value__",nA="__local_write_time__";function Bg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[eA])===null||t===void 0?void 0:t.stringValue)===Jw}function kh(n){const e=n.mapValue.fields[tA];return Bg(e)?kh(e):e}function Mu(n){const e=ms(n.mapValue.fields[nA].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,t,i,a,l,c,d,m,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const uh="(default)";class ku{constructor(e,t){this.projectId=e,this.database=t||uh}static empty(){return new ku("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="__type__",BO="__max__",Mf={mapValue:{}},iA="__vector__",ch="value";function gs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bg(n)?4:qO(n)?9007199254740991:HO(n)?10:11:Re(28295,{value:n})}function Vr(n,e){if(n===e)return!0;const t=gs(n);if(t!==gs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mu(n).isEqual(Mu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ms(a.timestampValue),d=ms(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return ps(a.bytesValue).isEqual(ps(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return wt(a.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(a.geoPointValue.longitude)===wt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return wt(a.integerValue)===wt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=wt(a.doubleValue),d=wt(l.doubleValue);return c===d?lh(c)===lh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Io(n.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(sE(c)!==sE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Vr(c[m],d[m])))return!1;return!0}(n,e);default:return Re(52216,{left:n})}}function Pu(n,e){return(n.values||[]).find(t=>Vr(t,e))!==void 0}function No(n,e){if(n===e)return 0;const t=gs(n),i=gs(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=wt(l.integerValue||l.doubleValue),m=wt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return oE(n.timestampValue,e.timestampValue);case 4:return oE(Mu(n),Mu(e));case 5:return Gp(n.stringValue,e.stringValue);case 6:return function(l,c){const d=ps(l),m=ps(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const v=Le(d[p],m[p]);if(v!==0)return v}return Le(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Le(wt(l.latitude),wt(c.latitude));return d!==0?d:Le(wt(l.longitude),wt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return lE(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,p,v;const _=l.fields||{},E=c.fields||{},w=(d=_[ch])===null||d===void 0?void 0:d.arrayValue,C=(m=E[ch])===null||m===void 0?void 0:m.arrayValue,k=Le(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((v=C==null?void 0:C.values)===null||v===void 0?void 0:v.length)||0);return k!==0?k:lE(w,C)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Mf.mapValue&&c===Mf.mapValue)return 0;if(l===Mf.mapValue)return 1;if(c===Mf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const E=Gp(m[_],v[_]);if(E!==0)return E;const w=No(d[m[_]],p[v[_]]);if(w!==0)return w}return Le(m.length,v.length)}(n.mapValue,e.mapValue);default:throw Re(23264,{Pe:t})}}function oE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=ms(n),i=ms(e),a=Le(t.seconds,i.seconds);return a!==0?a:Le(t.nanos,i.nanos)}function lE(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=No(t[a],i[a]);if(l)return l}return Le(t.length,i.length)}function Do(n){return $p(n)}function $p(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ms(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ps(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=$p(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${$p(t.fields[c])}`;return a+"}"}(n.mapValue):Re(61005,{value:n})}function Gf(n){switch(gs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kh(n);return e?16+Gf(e):16;case 5:return 2*n.stringValue.length;case 6:return ps(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Gf(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return ga(i.fields,(l,c)=>{a+=l.length+Gf(c)}),a}(n.mapValue);default:throw Re(13486,{value:n})}}function Yp(n){return!!n&&"integerValue"in n}function Hg(n){return!!n&&"arrayValue"in n}function uE(n){return!!n&&"nullValue"in n}function cE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $f(n){return!!n&&"mapValue"in n}function HO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rA])===null||t===void 0?void 0:t.stringValue)===iA}function wu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ga(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=wu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function qO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===BO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!$f(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(t)}setAll(e){let t=Wt.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=wu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());$f(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];$f(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ga(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new qn(wu(this.value))}}function sA(n){const e=[];return ga(n.fields,(t,i)=>{const a=new Wt([t]);if($f(i)){const l=sA(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new an(e,0,Ne.min(),Ne.min(),Ne.min(),qn.empty(),0)}static newFoundDocument(e,t,i,a){return new an(e,1,t,Ne.min(),i,a,0)}static newNoDocument(e,t){return new an(e,2,t,Ne.min(),Ne.min(),qn.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,Ne.min(),Ne.min(),qn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t){this.position=e,this.inclusive=t}}function fE(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Ae.comparator(Ae.fromName(c.referenceValue),t.key):i=No(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function hE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t="asc"){this.field=e,this.dir=t}}function FO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{}class Vt extends aA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new $O(e,t,i):t==="array-contains"?new KO(e,i):t==="in"?new XO(e,i):t==="not-in"?new WO(e,i):t==="array-contains-any"?new ZO(e,i):new Vt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new YO(e,i):new QO(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(No(t,this.value)):t!==null&&gs(this.value)===gs(t)&&this.matchesComparison(No(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends aA{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Lr(e,t)}matches(e){return oA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function oA(n){return n.op==="and"}function lA(n){return GO(n)&&oA(n)}function GO(n){for(const e of n.filters)if(e instanceof Lr)return!1;return!0}function Qp(n){if(n instanceof Vt)return n.field.canonicalString()+n.op.toString()+Do(n.value);if(lA(n))return n.filters.map(e=>Qp(e)).join(",");{const e=n.filters.map(t=>Qp(t)).join(",");return`${n.op}(${e})`}}function uA(n,e){return n instanceof Vt?function(i,a){return a instanceof Vt&&i.op===a.op&&i.field.isEqual(a.field)&&Vr(i.value,a.value)}(n,e):n instanceof Lr?function(i,a){return a instanceof Lr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&uA(c,a.filters[d]),!0):!1}(n,e):void Re(19439)}function cA(n){return n instanceof Vt?function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`}(n):n instanceof Lr?function(t){return t.op.toString()+" {"+t.getFilters().map(cA).join(" ,")+"}"}(n):"Filter"}class $O extends Vt{constructor(e,t,i){super(e,t,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class YO extends Vt{constructor(e,t){super(e,"in",t),this.keys=fA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class QO extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=fA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ae.fromName(i.referenceValue))}class KO extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hg(t)&&Pu(t.arrayValue,this.value)}}class XO extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pu(this.value.arrayValue,t)}}class WO extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Pu(this.value.arrayValue,t)}}class ZO extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Pu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function dE(n,e=null,t=[],i=[],a=null,l=null,c=null){return new JO(n,e,t,i,a,l,c)}function qg(n){const e=De(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Qp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Mh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Do(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Do(i)).join(",")),e.Ie=t}return e.Ie}function Fg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!FO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!uA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hE(n.startAt,e.startAt)&&hE(n.endAt,e.endAt)}function Kp(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function eM(n,e,t,i,a,l,c,d){return new Ph(n,e,t,i,a,l,c,d)}function Gg(n){return new Ph(n)}function mE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tM(n){return n.collectionGroup!==null}function Au(n){const e=De(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ut(Wt.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new hh(l,i))}),t.has(Wt.keyField().canonicalString())||e.Ee.push(new hh(Wt.keyField(),i))}return e.Ee}function Mr(n){const e=De(n);return e.de||(e.de=nM(e,Au(n))),e.de}function nM(n,e){if(n.limitType==="F")return dE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new hh(a.field,l)});const t=n.endAt?new fh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new fh(n.startAt.position,n.startAt.inclusive):null;return dE(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Xp(n,e,t){return new Ph(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vh(n,e){return Fg(Mr(n),Mr(e))&&n.limitType===e.limitType}function hA(n){return`${qg(Mr(n))}|lt:${n.limitType}`}function yo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>cA(a)).join(", ")}]`),Mh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Do(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Do(a)).join(",")),`Target(${i})`}(Mr(n))}; limitType=${n.limitType})`}function Lh(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ae.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Au(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,m){const p=fE(c,d,m);return c.inclusive?p<=0:p<0}(i.startAt,Au(i),a)||i.endAt&&!function(c,d,m){const p=fE(c,d,m);return c.inclusive?p>=0:p>0}(i.endAt,Au(i),a))}(n,e)}function rM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dA(n){return(e,t)=>{let i=!1;for(const a of Au(n)){const l=iM(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function iM(n,e,t){const i=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?No(m,p):Re(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return Ww(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new pt(Ae.comparator);function Ti(){return sM}const mA=new pt(Ae.comparator);function gu(...n){let e=mA;for(const t of n)e=e.insert(t.key,t);return e}function pA(n){let e=mA;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function aa(){return Su()}function gA(){return Su()}function Su(){return new ya(n=>n.toString(),(n,e)=>n.isEqual(e))}const aM=new pt(Ae.comparator),oM=new Ut(Ae.comparator);function He(...n){let e=oM;for(const t of n)e=e.add(t);return e}const lM=new Ut(Le);function uM(){return lM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function yA(n){return{integerValue:""+n}}function cM(n,e){return VO(e)?yA(e):$g(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function fM(n,e,t){return n instanceof dh?function(a,l){const c={fields:{[eA]:{stringValue:Jw},[nA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Bg(l)&&(l=kh(l)),l&&(c.fields[tA]=l),{mapValue:c}}(t,e):n instanceof Vu?_A(n,e):n instanceof Lu?bA(n,e):function(a,l){const c=vA(a,l),d=pE(c)+pE(a.Re);return Yp(c)&&Yp(a.Re)?yA(d):$g(a.serializer,d)}(n,e)}function hM(n,e,t){return n instanceof Vu?_A(n,e):n instanceof Lu?bA(n,e):t}function vA(n,e){return n instanceof mh?function(i){return Yp(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class dh extends Uh{}class Vu extends Uh{constructor(e){super(),this.elements=e}}function _A(n,e){const t=EA(e);for(const i of n.elements)t.some(a=>Vr(a,i))||t.push(i);return{arrayValue:{values:t}}}class Lu extends Uh{constructor(e){super(),this.elements=e}}function bA(n,e){let t=EA(e);for(const i of n.elements)t=t.filter(a=>!Vr(a,i));return{arrayValue:{values:t}}}class mh extends Uh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function pE(n){return wt(n.integerValue||n.doubleValue)}function EA(n){return Hg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function dM(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Vu&&a instanceof Vu||i instanceof Lu&&a instanceof Lu?Io(i.elements,a.elements,Vr):i instanceof mh&&a instanceof mh?Vr(i.Re,a.Re):i instanceof dh&&a instanceof dh}(n.transform,e.transform)}class mM{constructor(e,t){this.version=e,this.transformResults=t}}class gi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class jh{}function TA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new AA(n.key,gi.none()):new Qu(n.key,n.data,gi.none());{const t=n.data,i=qn.empty();let a=new Ut(Wt.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new va(n.key,i,new Jn(a.toArray()),gi.none())}}function pM(n,e,t){n instanceof Qu?function(a,l,c){const d=a.value.clone(),m=yE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof va?function(a,l,c){if(!Yf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=yE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(wA(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function xu(n,e,t,i){return n instanceof Qu?function(l,c,d,m){if(!Yf(l.precondition,c))return d;const p=l.value.clone(),v=vE(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof va?function(l,c,d,m){if(!Yf(l.precondition,c))return d;const p=vE(l.fieldTransforms,m,c),v=c.data;return v.setAll(wA(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(l,c,d){return Yf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function gM(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=vA(i.transform,a||null);l!=null&&(t===null&&(t=qn.empty()),t.set(i.field,l))}return t||null}function gE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Io(i,a,(l,c)=>dM(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Qu extends jh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class va extends jh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function wA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function yE(n,e,t){const i=new Map;We(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,hM(c,d,t[a]))}return i}function vE(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,fM(l,c,e))}return i}class AA extends jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yM extends jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&pM(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=xu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=xu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=gA();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=TA(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ne.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),He())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(t,i)=>gE(t,i))&&Io(this.baseMutations,e.baseMutations,(t,i)=>gE(t,i))}}class Yg{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){We(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return aM}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Yg(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,$e;function EM(n){switch(n){case ce.OK:return Re(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function SA(n){if(n===void 0)return Ei("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Ct.OK:return ce.OK;case Ct.CANCELLED:return ce.CANCELLED;case Ct.UNKNOWN:return ce.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ce.INTERNAL;case Ct.UNAVAILABLE:return ce.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ce.NOT_FOUND;case Ct.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Ct.ABORTED:return ce.ABORTED;case Ct.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Ct.DATA_LOSS:return ce.DATA_LOSS;default:return Re(39323,{code:n})}}($e=Ct||(Ct={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new fs([4294967295,4294967295],0);function _E(n){const e=Qw().encode(n),t=new zw;return t.update(e),new Uint8Array(t.digest())}function bE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new fs([t,i],0),new fs([a,l],0)]}class Qg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new yu(`Invalid padding: ${t}`);if(i<0)throw new yu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new yu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=fs.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(fs.fromNumber(i)));return a.compare(TM)===1&&(a=new fs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=_E(e),[i,a]=bE(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Qg(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=_E(e),[i,a]=bE(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new zh(Ne.min(),a,new pt(Le),Ti(),He())}}class Ku{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ku(i,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class xA{constructor(e,t){this.targetId=e,this.Ce=t}}class RA{constructor(e,t,i=Zt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class EE{constructor(){this.Fe=0,this.Me=TE(),this.xe=Zt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=He(),t=He(),i=He();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Re(38017,{changeType:l})}}),new Ku(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=TE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,We(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class wM{constructor(e){this.ze=e,this.je=new Map,this.He=Ti(),this.Je=kf(),this.Ye=kf(),this.Ze=new pt(Le)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(Kp(l))if(i===0){const c=new Ae(l.path);this.tt(t,c,an.newNoDocument(c,Ne.min()))}else We(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),m=d?this.lt(d,e,c):1;if(m!==0){this.st(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=ps(i).toUint8Array()}catch(m){if(m instanceof Zw)return Co("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Qg(c,a,l)}catch(m){return Co(m instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&Kp(d.target)){const m=new Ae(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,an.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=He();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new zh(e,t,this.Ze,this.He,i);return this.He=Ti(),this.Je=kf(),this.Ye=kf(),this.Ze=new pt(Le),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new EE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ut(Le),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ut(Le),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new EE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function kf(){return new pt(Ae.comparator)}function TE(){return new pt(Ae.comparator)}const AM={asc:"ASCENDING",desc:"DESCENDING"},SM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xM={and:"AND",or:"OR"};class RM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wp(n,e){return n.useProto3Json||Mh(e)?e:{value:e}}function ph(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function CM(n,e){return ph(n,e.toTimestamp())}function kr(n){return We(!!n,49232),Ne.fromTimestamp(function(t){const i=ms(t);return new Lt(i.seconds,i.nanos)}(n))}function Kg(n,e){return Zp(n,e).canonicalString()}function Zp(n,e){const t=function(a){return new ct(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function IA(n){const e=ct.fromString(n);return We(kA(e),10190,{key:e.toString()}),e}function Jp(n,e){return Kg(n.databaseId,e.path)}function Tp(n,e){const t=IA(e);if(t.get(1)!==n.databaseId.projectId)throw new we(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(DA(t))}function NA(n,e){return Kg(n.databaseId,e)}function IM(n){const e=IA(n);return e.length===4?ct.emptyPath():DA(e)}function eg(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DA(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function wE(n,e,t){return{name:Jp(n,e),fields:t.value.mapValue.fields}}function NM(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?(We(v===void 0||typeof v=="string",58123),Zt.fromBase64String(v||"")):(We(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Zt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const v=p.code===void 0?ce.UNKNOWN:SA(p.code);return new we(v,p.message||"")}(c);t=new RA(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Tp(n,i.document.name),l=kr(i.document.updateTime),c=i.document.createTime?kr(i.document.createTime):Ne.min(),d=new qn({mapValue:{fields:i.document.fields}}),m=an.newFoundDocument(a,l,c,d),p=i.targetIds||[],v=i.removedTargetIds||[];t=new Qf(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Tp(n,i.document),l=i.readTime?kr(i.readTime):Ne.min(),c=an.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Qf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Tp(n,i.document),l=i.removedTargetIds||[];t=new Qf([],l,a,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new bM(a,l),d=i.targetId;t=new xA(d,c)}}return t}function DM(n,e){let t;if(e instanceof Qu)t={update:wE(n,e.key,e.value)};else if(e instanceof AA)t={delete:Jp(n,e.key)};else if(e instanceof va)t={update:wE(n,e.key,e.data),updateMask:zM(e.fieldMask)};else{if(!(e instanceof yM))return Re(16599,{ft:e.type});t={verify:Jp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof dh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Lu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof mh)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Re(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:CM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)}(n,e.precondition)),t}function OM(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?kr(a.updateTime):kr(l);return c.isEqual(Ne.min())&&(c=kr(l)),new mM(c,a.transformResults||[])}(t,e))):[]}function MM(n,e){return{documents:[NA(n,e.path)]}}function kM(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=NA(n,a);const l=function(p){if(p.length!==0)return MA(Lr.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(v=>function(E){return{field:vo(E.field),direction:LM(E.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Wp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function PM(n){let e=IM(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){We(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(_){const E=OA(_);return E instanceof Lr&&lA(E)?E.getFilters():[E]}(t.where));let c=[];t.orderBy&&(c=function(_){return _.map(E=>function(C){return new hh(_o(C.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(t.orderBy));let d=null;t.limit&&(d=function(_){let E;return E=typeof _=="object"?_.value:_,Mh(E)?null:E}(t.limit));let m=null;t.startAt&&(m=function(_){const E=!!_.before,w=_.values||[];return new fh(w,E)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const E=!_.before,w=_.values||[];return new fh(w,E)}(t.endAt)),eM(e,a,c,l,d,"F",m,p)}function VM(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function OA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=_o(t.unaryFilter.field);return Vt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=_o(t.unaryFilter.field);return Vt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_o(t.unaryFilter.field);return Vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=_o(t.unaryFilter.field);return Vt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(n):n.fieldFilter!==void 0?function(t){return Vt.create(_o(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Lr.create(t.compositeFilter.filters.map(i=>OA(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(t.compositeFilter.op))}(n):Re(30097,{filter:n})}function LM(n){return AM[n]}function UM(n){return SM[n]}function jM(n){return xM[n]}function vo(n){return{fieldPath:n.canonicalString()}}function _o(n){return Wt.fromServerFormat(n.fieldPath)}function MA(n){return n instanceof Vt?function(t){if(t.op==="=="){if(cE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NAN"}};if(uE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NAN"}};if(uE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(t.field),op:UM(t.op),value:t.value}}}(n):n instanceof Lr?function(t){const i=t.getFilters().map(a=>MA(a));return i.length===1?i[0]:{compositeFilter:{op:jM(t.op),filters:i}}}(n):Re(54877,{filter:n})}function zM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t,i,a,l=Ne.min(),c=Ne.min(),d=Zt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.wt=e}}function HM(n){const e=PM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.Cn=new FM}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(ds.min())}updateCollectionGroup(e,t,i){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class FM{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Ut(ct.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Ut(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PA=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(PA,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Oo(0)}static lr(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="LruGarbageCollector",GM=1048576;function xE([n,e],[t,i]){const a=Le(n,t);return a===0?Le(e,i):a}class $M{constructor(e){this.Er=e,this.buffer=new Ut(xE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();xE(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YM{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){pe(SE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qo(t)?pe(SE,"Ignoring IndexedDB error during garbage collection: ",t):await Yo(t)}await this.mr(3e5)})}}class QM{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return le.resolve(Oh.le);const i=new $M(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(AE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AE):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,l,c,d,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,d=Date.now(),this.removeTargets(e,i,t))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(p=Date.now(),go()<=Be.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function KM(n,e){return new QM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.changes=new ya(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?le.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&xu(i.mutation,a,Jn.empty(),Lt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,He()).next(()=>i))}getLocalViewOfDocuments(e,t,i=He()){const a=aa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=gu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=aa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,He()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=Ti();const c=Su(),d=function(){return Su()}();return t.forEach((m,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof va)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),xu(v.mutation,p,v.mutation.getFieldMask(),Lt.now())):c.set(p.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,v)=>c.set(p,v)),t.forEach((p,v)=>{var _;return d.set(p,new WM(v,(_=c.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Su();let a=new pt((c,d)=>c-d),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let v=i.get(m)||Jn.empty();v=d.applyToLocalView(p,v),i.set(m,v);const _=(a.get(d.batchId)||He()).add(m);a=a.insert(d.batchId,_)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,_=gA();v.forEach(E=>{if(!l.has(E)){const w=TA(t.get(E),i.get(E));w!==null&&_.set(E,w),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return le.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):le.resolve(aa());let d=Ou,m=l;return c.next(p=>le.forEach(p,(v,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{m=m.insert(v,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,He())).next(v=>({batchId:d,changes:pA(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(i=>{let a=gu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=gu();return this.indexManager.getCollectionParents(e,l).next(d=>le.forEach(d,m=>{const p=function(_,E){return new Ph(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(v=>{v.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,an.newInvalidDocument(v)))});let d=gu();return c.forEach((m,p)=>{const v=l.get(m);v!==void 0&&xu(v.mutation,p,Jn.empty(),Lt.now()),Lh(t,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return le.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:kr(a.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:HM(a.bundledQuery),readTime:kr(a.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.overlays=new pt(Ae.comparator),this.Qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const i=aa();return le.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),le.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),le.resolve()}getOverlaysForCollection(e,t,i){const a=aa(),l=t.length+1,c=new Ae(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return le.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new pt((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=aa(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=aa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=a)););return le.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new _M(t,i));let l=this.Qr.get(t);l===void 0&&(l=He(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(){this.$r=new Ut(Ft.Ur),this.Kr=new Ut(Ft.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Ft(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Ft(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new Ae(new ct([])),i=new Ft(t,e),a=new Ft(t,e+1),l=[];return this.Kr.forEachInRange([i,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ae(new ct([])),i=new Ft(t,e),a=new Ft(t,e+1);let l=He();return this.Kr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Ft(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ft{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ae.comparator(e.key,t.key)||Le(e.Zr,t.Zr)}static Wr(e,t){return Le(e.Zr,t.Zr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ut(Ft.Ur)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new vM(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Xr=this.Xr.add(new Ft(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?zg:this.nr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ft(t,0),a=new Ft(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,a],c=>{const d=this.ei(c.Zr);l.push(d)}),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ut(Le);return t.forEach(a=>{const l=new Ft(a,0),c=new Ft(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{i=i.add(d.Zr)})}),le.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Ae.isDocumentKey(l)||(l=l.child(""));const c=new Ft(new Ae(l),0);let d=new Ut(Le);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Zr)),!0)},c),le.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){We(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return le.forEach(t.mutations,a=>{const l=new Ft(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Ft(t,0),a=this.Xr.firstAfterOrEqual(i);return le.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.ii=e,this.docs=function(){return new pt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return le.resolve(i?i.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let i=Ti();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():an.newInvalidDocument(a))}),le.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Ti();const c=t.path,d=new Ae(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||OO(DO(v),i)<=0||(a.has(v.key)||Lh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Re(9500)}si(e,t){return le.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new ik(this)}getSize(e){return le.resolve(this.size)}}class ik extends XM{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),le.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.persistence=e,this.oi=new ya(t=>qg(t),Fg),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this._i=0,this.ai=new Xg,this.targetCount=0,this.ui=Oo.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),le.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Oo(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Tr(t),le.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),le.waitFor(l).next(()=>a)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return le.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),le.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return le.resolve(i)}containsKey(e,t){return le.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t){this.ci={},this.overlays={},this.li=new Oh(0),this.hi=!1,this.hi=!0,this.Pi=new tk,this.referenceDelegate=e(this),this.Ti=new sk(this),this.indexManager=new qM,this.remoteDocumentCache=function(a){return new rk(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new BM(t),this.Ei=new JM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ek,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new nk(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const a=new ak(this.li.next());return this.referenceDelegate.di(),i(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return le.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class ak extends kO{constructor(e){super(),this.currentSequenceNumber=e}}class Wg{constructor(e){this.persistence=e,this.Vi=new Xg,this.mi=null}static fi(e){return new Wg(e)}get gi(){if(this.mi)return this.mi;throw Re(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),le.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.gi,i=>{const a=Ae.fromPath(i);return this.pi(e,a).next(l=>{l||t.removeEntry(a,Ne.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return le.or([()=>le.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class gh{constructor(e,t){this.persistence=e,this.yi=new ya(i=>LO(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=KM(this,t)}static fi(e,t){return new gh(e,t)}di(){}Ai(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return le.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(l=>l?le.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Ne.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),le.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gf(e.data.value)),t}Dr(e,t,i){return le.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return le.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=He(),a=He();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Zg(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return r2()?8:PO(on())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new ok;return this.Ss(e,t,c).next(d=>{if(l.result=d,this.fs)return this.Ds(e,t,c,d.size)})}).next(()=>l.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(go()<=Be.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",yo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),le.resolve()):(go()<=Be.DEBUG&&pe("QueryEngine","Query:",yo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(go()<=Be.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",yo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(t))):le.resolve())}ws(e,t){if(mE(t))return le.resolve(null);let i=Mr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Xp(t,null,"F"),i=Mr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=He(...l);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const p=this.vs(t,d);return this.Cs(t,p,c,m.readTime)?this.ws(e,Xp(t,null,"F")):this.Fs(e,p,t,m)}))})))}bs(e,t,i,a){return mE(t)||a.isEqual(Ne.min())?le.resolve(null):this.ys.getDocuments(e,i).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,i,a)?le.resolve(null):(go()<=Be.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yo(t)),this.Fs(e,c,t,NO(a,Ou)).next(d=>d))})}vs(e,t){let i=new Ut(dA(e));return t.forEach((a,l)=>{Lh(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return go()<=Be.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",yo(t)),this.ys.getDocumentsMatchingQuery(e,t,ds.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="LocalStore",uk=3e8;class ck{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new pt(Le),this.Os=new ya(l=>qg(l),Fg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function fk(n,e,t,i){return new ck(n,e,t,i)}async function LA(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=He();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(i,m).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:d}))})})}function hk(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,p,v){const _=p.batch,E=_.keys();let w=le.resolve();return E.forEach(C=>{w=w.next(()=>v.getEntry(m,C)).next(k=>{const P=p.docVersions.get(C);We(P!==null,48541),k.version.compareTo(P)<0&&(_.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),v.addEntry(k)))})}),w.next(()=>d.mutationQueue.removeMutationBatch(m,_))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=He();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function UA(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function dk(n,e){const t=De(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const d=[];e.targetChanges.forEach((v,_)=>{const E=a.get(_);if(!E)return;d.push(t.Ti.removeMatchingKeys(l,v.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(l,v.addedDocuments,_)));let w=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(Zt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,i)),a=a.insert(_,w),function(k,P,j){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=uk?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(E,w,v)&&d.push(t.Ti.updateTargetData(l,w))});let m=Ti(),p=He();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(mk(l,c,e.documentUpdates).next(v=>{m=v.qs,p=v.Qs})),!i.isEqual(Ne.min())){const v=t.Ti.getLastRemoteSnapshotVersion(l).next(_=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return le.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(t.xs=a,l))}function mk(n,e,t){let i=He(),a=He();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Ti();return t.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ne.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):pe(Jg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function pk(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=zg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function gk(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(l=>l?(a=l,le.resolve(a)):t.Ti.allocateTargetId(i).next(c=>(a=new os(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function tg(n,e,t){const i=De(n),a=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Qo(c))throw c;pe(Jg,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function RE(n,e,t){const i=De(n);let a=Ne.min(),l=He();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,v){const _=De(m),E=_.Os.get(v);return E!==void 0?le.resolve(_.xs.get(E)):_.Ti.getTargetData(p,v)}(i,c,Mr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?a:Ne.min(),t?l:He())).next(d=>(yk(i,rM(e),d),{documents:d,$s:l})))}function yk(n,e,t){let i=n.Ns.get(e)||Ne.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class CE{constructor(){this.activeTargetIds=uM()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vk{constructor(){this.xo=new CE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new CE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="ConnectivityMonitor";class NE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pe(IE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){pe(IE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf=null;function ng(){return Pf===null?Pf=function(){return 268435456+Math.round(2147483648*Math.random())}():Pf++,"0x"+Pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="RestConnection",bk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ek{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===uh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,l){const c=ng(),d=this.jo(e,t.toUriEncodedString());pe(wp,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:p}=new URL(d),v=qo(p);return this.Jo(e,d,m,i,v).then(_=>(pe(wp,`Received RPC '${e}' ${c}: `,_),_),_=>{throw Co(wp,`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",i),_})}Yo(e,t,i,a,l,c){return this.zo(e,t,i,a,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$o}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const i=bk[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class wk extends Ek{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=ng();return new Promise((d,m)=>{const p=new Bw;p.setWithCredentials(!0),p.listenOnce(Hw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ff.NO_ERROR:const _=p.getResponseJson();pe(rn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),d(_);break;case Ff.TIMEOUT:pe(rn,`RPC '${e}' ${c} timed out`),m(new we(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const E=p.getStatus();if(pe(rn,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w==null?void 0:w.error;if(C&&C.status&&C.message){const k=function(j){const U=j.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(U)>=0?U:ce.UNKNOWN}(C.status);m(new we(k,C.message))}else m(new we(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new we(ce.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{h_:e,streamId:c,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{pe(rn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);pe(rn,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",v,i,15)})}I_(e,t,i){const a=ng(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Gw(),d=Fw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const v=l.join("");pe(rn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const _=c.createWebChannel(v,m);this.E_(_);let E=!1,w=!1;const C=new Tk({Zo:P=>{w?pe(rn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(E||(pe(rn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),pe(rn,`RPC '${e}' stream ${a} sending:`,P),_.send(P))},Xo:()=>_.close()}),k=(P,j,U)=>{P.listen(j,$=>{try{U($)}catch(J){setTimeout(()=>{throw J},0)}})};return k(_,pu.EventType.OPEN,()=>{w||(pe(rn,`RPC '${e}' stream ${a} transport opened.`),C.__())}),k(_,pu.EventType.CLOSE,()=>{w||(w=!0,pe(rn,`RPC '${e}' stream ${a} transport closed`),C.u_(),this.d_(_))}),k(_,pu.EventType.ERROR,P=>{w||(w=!0,Co(rn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),C.u_(new we(ce.UNAVAILABLE,"The operation could not be completed")))}),k(_,pu.EventType.MESSAGE,P=>{var j;if(!w){const U=P.data[0];We(!!U,16349);const $=U,J=($==null?void 0:$.error)||((j=$[0])===null||j===void 0?void 0:j.error);if(J){pe(rn,`RPC '${e}' stream ${a} received error:`,J);const te=J.status;let ae=function(M){const L=Ct[M];if(L!==void 0)return SA(L)}(te),O=J.message;ae===void 0&&(ae=ce.INTERNAL,O="Unknown error status: "+te+" with message "+J.message),w=!0,C.u_(new we(ae,O)),_.close()}else pe(rn,`RPC '${e}' stream ${a} received:`,U),C.c_(U)}}),k(d,qw.STAT_EVENT,P=>{P.stat===Fp.PROXY?pe(rn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===Fp.NOPROXY&&pe(rn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(n){return new RM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,t,i=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="PersistentStream";class zA{constructor(e,t,i,a,l,c,d,m){this.xi=e,this.S_=i,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new jA(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new we(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return pe(DE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(pe(DE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ak extends zA{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=NM(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ne.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?kr(c.readTime):Ne.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=eg(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=Kp(m)?{documents:MM(l,m)}:{query:kM(l,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=CA(l,c.resumeToken);const p=Wp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ne.min())>0){d.readTime=ph(l,c.snapshotVersion.toTimestamp());const p=Wp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const i=VM(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=eg(this.serializer),t.removeTarget=e,this.Q_(t)}}class Sk extends zA{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=OM(e.writeResults,e.commitTime),i=kr(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=eg(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>DM(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{}class Rk extends xk{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new we(ce.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,Zp(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(ce.UNKNOWN,l.toString())})}Yo(e,t,i,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,Zp(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new we(ce.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Ck{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ei(t),this.ua=!1):pe("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class Ik{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{i.enqueueAndForget(async()=>{_a(this)&&(pe(da,"Restarting streams for network reachability change."),await async function(m){const p=De(m);p.da.add(4),await Xu(p),p.Va.set("Unknown"),p.da.delete(4),await Hh(p)}(this))})}),this.Va=new Ck(i,a)}}async function Hh(n){if(_a(n))for(const e of n.Aa)await e(!0)}async function Xu(n){for(const e of n.Aa)await e(!1)}function BA(n,e){const t=De(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),ry(t)?ny(t):Ko(t).N_()&&ty(t,e))}function ey(n,e){const t=De(n),i=Ko(t);t.Ea.delete(e),i.N_()&&HA(t,e),t.Ea.size===0&&(i.N_()?i.k_():_a(t)&&t.Va.set("Unknown"))}function ty(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ko(n).Z_(e)}function HA(n,e){n.ma.Ke(e),Ko(n).X_(e)}function ny(n){n.ma=new wM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ko(n).start(),n.Va.ca()}function ry(n){return _a(n)&&!Ko(n).O_()&&n.Ea.size>0}function _a(n){return De(n).da.size===0}function qA(n){n.ma=void 0}async function Nk(n){n.Va.set("Online")}async function Dk(n){n.Ea.forEach((e,t)=>{ty(n,e)})}async function Ok(n,e){qA(n),ry(n)?(n.Va.Pa(e),ny(n)):n.Va.set("Unknown")}async function Mk(n,e,t){if(n.Va.set("Online"),e instanceof RA&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ea.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ea.delete(d),a.ma.removeTarget(d))}(n,e)}catch(i){pe(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await yh(n,i)}else if(e instanceof Qf?n.ma.Xe(e):e instanceof xA?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Ne.min()))try{const i=await UA(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.ma.It(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ea.get(p);v&&l.Ea.set(p,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const v=l.Ea.get(m);if(!v)return;l.Ea.set(m,v.withResumeToken(Zt.EMPTY_BYTE_STRING,v.snapshotVersion)),HA(l,m);const _=new os(v.target,m,p,v.sequenceNumber);ty(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){pe(da,"Failed to raise snapshot:",i),await yh(n,i)}}async function yh(n,e,t){if(!Qo(e))throw e;n.da.add(1),await Xu(n),n.Va.set("Offline"),t||(t=()=>UA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(da,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Hh(n)})}function FA(n,e){return e().catch(t=>yh(n,t,e))}async function qh(n){const e=De(n),t=ys(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:zg;for(;kk(e);)try{const a=await pk(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,Pk(e,a)}catch(a){await yh(e,a)}GA(e)&&$A(e)}function kk(n){return _a(n)&&n.Ia.length<10}function Pk(n,e){n.Ia.push(e);const t=ys(n);t.N_()&&t.ea&&t.ta(e.mutations)}function GA(n){return _a(n)&&!ys(n).O_()&&n.Ia.length>0}function $A(n){ys(n).start()}async function Vk(n){ys(n).ia()}async function Lk(n){const e=ys(n);for(const t of n.Ia)e.ta(t.mutations)}async function Uk(n,e,t){const i=n.Ia.shift(),a=Yg.from(i,e,t);await FA(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await qh(n)}async function jk(n,e){e&&ys(n).ea&&await async function(i,a){if(function(c){return EM(c)&&c!==ce.ABORTED}(a.code)){const l=i.Ia.shift();ys(i).L_(),await FA(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await qh(i)}}(n,e),GA(n)&&$A(n)}async function OE(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),pe(da,"RemoteStore received new credentials");const i=_a(t);t.da.add(3),await Xu(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Hh(t)}async function zk(n,e){const t=De(n);e?(t.da.delete(2),await Hh(t)):e||(t.da.add(2),await Xu(t),t.Va.set("Unknown"))}function Ko(n){return n.fa||(n.fa=function(t,i,a){const l=De(t);return l.oa(),new Ak(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:Nk.bind(null,n),n_:Dk.bind(null,n),i_:Ok.bind(null,n),Y_:Mk.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),ry(n)?ny(n):n.Va.set("Unknown")):(await n.fa.stop(),qA(n))})),n.fa}function ys(n){return n.ga||(n.ga=function(t,i,a){const l=De(t);return l.oa(),new Sk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:Vk.bind(null,n),i_:jk.bind(null,n),na:Lk.bind(null,n),ra:Uk.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await qh(n)):(await n.ga.stop(),n.Ia.length>0&&(pe(da,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new iy(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sy(n,e){if(Ei("AsyncQueue",`${e}: ${n}`),Qo(n))return new we(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ae.comparator(t.key,i.key):(t,i)=>Ae.comparator(t.key,i.key),this.keyedMap=gu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ao;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.pa=new pt(Ae.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Re(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Mo{constructor(e,t,i,a,l,c,d,m,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Mo(e,t,Ao.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Hk{constructor(){this.queries=kE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=De(t),l=a.queries;a.queries=kE(),l.forEach((c,d)=>{for(const m of d.Sa)m.onError(i)})})(this,new we(ce.ABORTED,"Firestore shutting down"))}}function kE(){return new ya(n=>hA(n),Vh)}async function YA(n,e){const t=De(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Da()&&e.va()&&(i=2):(l=new Bk,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(a,!0);break;case 1:l.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=sy(c,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&ay(t)}async function QA(n,e){const t=De(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function qk(n,e){const t=De(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Ma(a)&&(i=!0);c.ba=a}}i&&ay(t)}function Fk(n,e,t){const i=De(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function ay(n){n.Ca.forEach(e=>{e.next()})}var rg,PE;(PE=rg||(rg={})).xa="default",PE.Cache="cache";class KA{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Mo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==rg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.key=e}}class WA{constructor(e){this.key=e}}class Gk{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=He(),this.mutatedKeys=He(),this.Za=dA(e),this.Xa=new Ao(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new ME,a=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,_)=>{const E=a.get(v),w=Lh(this.query,_)?_:null,C=!!E&&this.mutatedKeys.has(E.key),k=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let P=!1;E&&w?E.data.isEqual(w.data)?C!==k&&(i.track({type:3,doc:w}),P=!0):this.ru(E,w)||(i.track({type:2,doc:w}),P=!0,(m&&this.Za(w,m)>0||p&&this.Za(w,p)<0)&&(d=!0)):!E&&w?(i.track({type:0,doc:w}),P=!0):E&&!w&&(i.track({type:1,doc:E}),P=!0,(m||p)&&(d=!0)),P&&(w?(c=c.add(w),l=k?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Xa:c,nu:i,Cs:d,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((v,_)=>function(w,C){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:P})}};return k(w)-k(C)}(v.type,_.type)||this.Za(v.doc,_.doc)),this.iu(i),a=a!=null&&a;const d=t&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Ja;return this.Ja=m,c.length!==0||p?{snapshot:new Mo(this.query,e.Xa,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new ME,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=He(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new WA(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new XA(i))}),t}au(e){this.Ha=e.$s,this.Ya=He();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Mo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const oy="SyncEngine";class $k{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Yk{constructor(e){this.key=e,this.cu=!1}}class Qk{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new ya(d=>hA(d),Vh),this.Pu=new Map,this.Tu=new Set,this.Iu=new pt(Ae.comparator),this.Eu=new Map,this.du=new Xg,this.Au={},this.Ru=new Map,this.Vu=Oo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Kk(n,e,t=!0){const i=r1(n);let a;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await ZA(i,e,t,!0),a}async function Xk(n,e){const t=r1(n);await ZA(t,e,!0,!1)}async function ZA(n,e,t,i){const a=await gk(n.localStore,Mr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await Wk(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&BA(n.remoteStore,a),d}async function Wk(n,e,t,i,a){n.fu=(_,E,w)=>async function(k,P,j,U){let $=P.view.tu(j);$.Cs&&($=await RE(k.localStore,P.query,!1).then(({documents:O})=>P.view.tu(O,$)));const J=U&&U.targetChanges.get(P.targetId),te=U&&U.targetMismatches.get(P.targetId)!=null,ae=P.view.applyChanges($,k.isPrimaryClient,J,te);return LE(k,P.targetId,ae.ou),ae.snapshot}(n,_,E,w);const l=await RE(n.localStore,e,!0),c=new Gk(e,l.$s),d=c.tu(l.documents),m=Ku.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=c.applyChanges(d,n.isPrimaryClient,m);LE(n,t,p.ou);const v=new $k(e,t,c);return n.hu.set(e,v),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),p.snapshot}async function Zk(n,e,t){const i=De(n),a=i.hu.get(e),l=i.Pu.get(a.targetId);if(l.length>1)return i.Pu.set(a.targetId,l.filter(c=>!Vh(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await tg(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&ey(i.remoteStore,a.targetId),ig(i,a.targetId)}).catch(Yo)):(ig(i,a.targetId),await tg(i.localStore,a.targetId,!0))}async function Jk(n,e){const t=De(n),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ey(t.remoteStore,i.targetId))}async function eP(n,e,t){const i=oP(n);try{const a=await function(c,d){const m=De(c),p=Lt.now(),v=d.reduce((w,C)=>w.add(C.key),He());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",w=>{let C=Ti(),k=He();return m.Bs.getEntries(w,v).next(P=>{C=P,C.forEach((j,U)=>{U.isValidDocument()||(k=k.add(j))})}).next(()=>m.localDocuments.getOverlayedDocuments(w,C)).next(P=>{_=P;const j=[];for(const U of d){const $=gM(U,_.get(U.key).overlayedDocument);$!=null&&j.push(new va(U.key,$,sA($.value.mapValue),gi.exists(!0)))}return m.mutationQueue.addMutationBatch(w,p,j,d)}).next(P=>{E=P;const j=P.applyToLocalDocumentSet(_,k);return m.documentOverlayCache.saveOverlays(w,P.batchId,j)})}).then(()=>({batchId:E.batchId,changes:pA(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.Au[c.currentUser.toKey()];p||(p=new pt(Le)),p=p.insert(d,m),c.Au[c.currentUser.toKey()]=p}(i,a.batchId,t),await Wu(i,a.changes),await qh(i.remoteStore)}catch(a){const l=sy(a,"Failed to persist write");t.reject(l)}}async function JA(n,e){const t=De(n);try{const i=await dk(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Eu.get(l);c&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?We(c.cu,14607):a.removedDocuments.size>0&&(We(c.cu,42227),c.cu=!1))}),await Wu(t,i,e)}catch(i){await Yo(i)}}function VE(n,e,t){const i=De(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((l,c)=>{const d=c.view.Fa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=De(c);m.onlineState=d;let p=!1;m.queries.forEach((v,_)=>{for(const E of _.Sa)E.Fa(d)&&(p=!0)}),p&&ay(m)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function tP(n,e,t){const i=De(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),l=a&&a.key;if(l){let c=new pt(Ae.comparator);c=c.insert(l,an.newNoDocument(l,Ne.min()));const d=He().add(l),m=new zh(Ne.min(),new Map,new pt(Le),c,d);await JA(i,m),i.Iu=i.Iu.remove(l),i.Eu.delete(e),ly(i)}else await tg(i.localStore,e,!1).then(()=>ig(i,e,t)).catch(Yo)}async function nP(n,e){const t=De(n),i=e.batch.batchId;try{const a=await hk(t.localStore,e);t1(t,i,null),e1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Wu(t,a)}catch(a){await Yo(a)}}async function rP(n,e,t){const i=De(n);try{const a=await function(c,d){const m=De(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return m.mutationQueue.lookupMutationBatch(p,d).next(_=>(We(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>m.localDocuments.getDocuments(p,v))})}(i.localStore,e);t1(i,e,t),e1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Wu(i,a)}catch(a){await Yo(a)}}function e1(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function t1(n,e,t){const i=De(n);let a=i.Au[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function ig(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||n1(n,i)})}function n1(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(ey(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),ly(n))}function LE(n,e,t){for(const i of t)i instanceof XA?(n.du.addReference(i.key,e),iP(n,i)):i instanceof WA?(pe(oy,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||n1(n,i.key)):Re(19791,{pu:i})}function iP(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(pe(oy,"New document in limbo: "+t),n.Tu.add(i),ly(n))}function ly(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Ae(ct.fromString(e)),i=n.Vu.next();n.Eu.set(i,new Yk(t)),n.Iu=n.Iu.insert(t,i),BA(n.remoteStore,new os(Mr(Gg(t.path)),i,"TargetPurposeLimboResolution",Oh.le))}}async function Wu(n,e,t){const i=De(n),a=[],l=[],c=[];i.hu.isEmpty()||(i.hu.forEach((d,m)=>{c.push(i.fu(m,e,t).then(p=>{var v;if((p||t)&&i.isPrimaryClient){const _=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Zg.Rs(m.targetId,p);l.push(_)}}))}),await Promise.all(c),i.lu.Y_(a),await async function(m,p){const v=De(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>le.forEach(p,E=>le.forEach(E.ds,w=>v.persistence.referenceDelegate.addReference(_,E.targetId,w)).next(()=>le.forEach(E.As,w=>v.persistence.referenceDelegate.removeReference(_,E.targetId,w)))))}catch(_){if(!Qo(_))throw _;pe(Jg,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const w=v.xs.get(E),C=w.snapshotVersion,k=w.withLastLimboFreeSnapshotVersion(C);v.xs=v.xs.insert(E,k)}}}(i.localStore,l))}async function sP(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){pe(oy,"User change. New user:",e.toKey());const i=await LA(t.localStore,e);t.currentUser=e,function(l,c){l.Ru.forEach(d=>{d.forEach(m=>{m.reject(new we(ce.CANCELLED,c))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Wu(t,i.ks)}}function aP(n,e){const t=De(n),i=t.Eu.get(e);if(i&&i.cu)return He().add(i.key);{let a=He();const l=t.Pu.get(e);if(!l)return a;for(const c of l){const d=t.hu.get(c);a=a.unionWith(d.view.eu)}return a}}function r1(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tP.bind(null,e),e.lu.Y_=qk.bind(null,e.eventManager),e.lu.gu=Fk.bind(null,e.eventManager),e}function oP(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rP.bind(null,e),e}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return fk(this.persistence,new lk,e.initialUser,this.serializer)}Su(e){return new VA(Wg.fi,this.serializer)}bu(e){return new vk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class lP extends vh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){We(this.persistence.referenceDelegate instanceof gh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new YM(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new VA(i=>gh.fi(i,t),this.serializer)}}class sg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sP.bind(null,this.syncEngine),await zk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Hk}()}createDatastore(e){const t=Bh(e.databaseInfo.databaseId),i=function(l){return new wk(l)}(e.databaseInfo);return function(l,c,d,m){return new Rk(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new Ik(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>VE(this.syncEngine,t,0),function(){return NE.C()?new NE:new _k}())}createSyncEngine(e,t){return function(a,l,c,d,m,p,v){const _=new Qk(a,l,c,d,m,p);return v&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=De(a);pe(da,"RemoteStore shutting down."),l.da.add(5),await Xu(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}sg.provider={build:()=>new sg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="FirestoreClient";class uP{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=sn.UNAUTHENTICATED,this.clientId=Kw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{pe(vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(pe(vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=sy(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Sp(n,e){n.asyncQueue.verifyOperationInProgress(),pe(vs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await LA(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function UE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await cP(n);pe(vs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>OE(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>OE(e.remoteStore,a)),n._onlineComponents=e}async function cP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(vs,"Using user provided OfflineComponentProvider");try{await Sp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Co("Error using user provided cache. Falling back to memory cache: "+t),await Sp(n,new vh)}}else pe(vs,"Using default OfflineComponentProvider"),await Sp(n,new lP(void 0));return n._offlineComponents}async function s1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(vs,"Using user provided OnlineComponentProvider"),await UE(n,n._uninitializedComponentsProvider._online)):(pe(vs,"Using default OnlineComponentProvider"),await UE(n,new sg))),n._onlineComponents}function fP(n){return s1(n).then(e=>e.syncEngine)}async function a1(n){const e=await s1(n),t=e.eventManager;return t.onListen=Kk.bind(null,e.syncEngine),t.onUnlisten=Zk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Xk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Jk.bind(null,e.syncEngine),t}function hP(n,e,t={}){const i=new pi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const v=new i1({next:E=>{v.xu(),c.enqueueAndForget(()=>QA(l,_));const w=E.docs.has(d);!w&&E.fromCache?p.reject(new we(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&m&&m.source==="server"?p.reject(new we(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new KA(Gg(d.path),v,{includeMetadataChanges:!0,Qa:!0});return YA(l,_)}(await a1(n),n.asyncQueue,e,t,i)),i.promise}function dP(n,e,t={}){const i=new pi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const v=new i1({next:E=>{v.xu(),c.enqueueAndForget(()=>QA(l,_)),E.fromCache&&m.source==="server"?p.reject(new we(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new KA(d,v,{includeMetadataChanges:!0,Qa:!0});return YA(l,_)}(await a1(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(n,e,t){if(!t)throw new we(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mP(n,e,t,i){if(e===!0&&i===!0)throw new we(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zE(n){if(!Ae.isDocumentKey(n))throw new we(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BE(n){if(Ae.isDocumentKey(n))throw new we(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function ma(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uy(n);throw new we(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="firestore.googleapis.com",HE=!0;class qE{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u1,this.ssl=HE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:HE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GM)throw new we(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new EO;switch(i.type){case"firstParty":return new SO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new we(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=jE.get(t);i&&(pe("ComponentProvider","Removing Datastore"),jE.delete(t),i.terminate())}(this),Promise.resolve()}}function pP(n,e,t,i={}){var a;n=ma(n,Fh);const l=qo(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;l&&(tw(`https://${m}`),nw("Firestore",!0)),c.host!==u1&&c.host!==m&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:i});if(!ua(p,d)&&(n._setSettings(p),i.mockUserToken)){let v,_;if(typeof i.mockUserToken=="string")v=i.mockUserToken,_=sn.MOCK_USER;else{v=QI(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new we(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new sn(E)}n._authCredentials=new TO(new Yw(v,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Gh(this.firestore,e,this._query)}}class In{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class hs extends Gh{constructor(e,t,i){super(e,t,Gg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new Ae(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function ag(n,e,...t){if(n=nr(n),l1("collection","path",e),n instanceof Fh){const i=ct.fromString(e,...t);return BE(i),new hs(n,null,i)}{if(!(n instanceof In||n instanceof hs))throw new we(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return BE(i),new hs(n.firestore,null,i)}}function Zu(n,e,...t){if(n=nr(n),arguments.length===1&&(e=Kw.newId()),l1("doc","path",e),n instanceof Fh){const i=ct.fromString(e,...t);return zE(i),new In(n,null,new Ae(i))}{if(!(n instanceof In||n instanceof hs))throw new we(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return zE(i),new In(n.firestore,n instanceof hs?n.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="AsyncQueue";class GE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new jA(this,"async_queue_retry"),this.rc=()=>{const i=Ap();i&&pe(FE,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Ap();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Ap();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new pi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Qo(e))throw e;pe(FE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Ei("INTERNAL UNHANDLED ERROR: ",$E(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=iy.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Re(47125,{cc:$E(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function $E(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class $h extends Fh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new GE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GE(e),this._firestoreClient=void 0,await e}}}function gP(n,e){const t=typeof n=="object"?n:aw(),i=typeof n=="string"?n:uh,a=Cg(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=$I("firestore");l&&pP(a,...l)}return a}function cy(n){if(n._terminated)throw new we(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||yP(n),n._firestoreClient}function yP(n){var e,t,i;const a=n._freezeSettings(),l=function(d,m,p,v){return new zO(d,m,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,o1(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new uP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(Zt.fromBase64String(e))}catch(t){throw new we(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ko(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=/^__.*__$/;class _P{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qu(e,this.data,t,this.fieldTransforms)}}function f1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ic:n})}}class my{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new my(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return _h(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(f1(this.Ic)&&vP.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class bP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Bh(e)}bc(e,t,i,a=!1){return new my({Ic:e,methodName:t,wc:i,path:Wt.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EP(n){const e=n._freezeSettings(),t=Bh(n._databaseId);return new bP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TP(n,e,t,i,a,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,e,t,a);p1("Data must be an object, but it was:",c,i);const d=d1(i,c);let m,p;if(l.merge)m=new Jn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const E=wP(e,_,t);if(!c.contains(E))throw new we(ce.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);SP(v,E)||v.push(E)}m=new Jn(v),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new _P(new qn(d),m,p)}function h1(n,e){if(m1(n=nr(n)))return p1("Unsupported field value:",e,n),d1(n,e);if(n instanceof c1)return function(i,a){if(!f1(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let m=h1(d,a.fc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=nr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return cM(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Lt.fromDate(i);return{timestampValue:ph(a.serializer,l)}}if(i instanceof Lt){const l=new Lt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ph(a.serializer,l)}}if(i instanceof hy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ko)return{bytesValue:CA(a.serializer,i._byteString)};if(i instanceof In){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Kg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof dy)return function(c,d){return{mapValue:{fields:{[rA]:{stringValue:iA},[ch]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.gc("VectorValues must only contain numeric values.");return $g(d.serializer,p)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${uy(i)}`)}(n,e)}function d1(n,e){const t={};return Ww(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(n,(i,a)=>{const l=h1(a,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function m1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Lt||n instanceof hy||n instanceof ko||n instanceof In||n instanceof c1||n instanceof dy)}function p1(n,e,t){if(!m1(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=uy(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function wP(n,e,t){if((e=nr(e))instanceof fy)return e._internalPath;if(typeof e=="string")return g1(n,e);throw _h("Field path arguments must be of type string or ",n,!1,void 0,t)}const AP=new RegExp("[~\\*/\\[\\]]");function g1(n,e,t){if(e.search(AP)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fy(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _h(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new we(ce.INVALID_ARGUMENT,d+n+m)}function SP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(v1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class xP extends y1{data(){return super.data()}}function v1(n,e){return typeof e=="string"?g1(n,e):e instanceof fy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CP{convertValue(e,t="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ga(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[ch].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>wt(c.doubleValue));return new dy(l)}convertGeoPoint(e){return new hy(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=kh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){const t=ms(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ct.fromString(e);We(kA(i),9688,{name:e});const a=new ku(i.get(1),i.get(3)),l=new Ae(i.popFirst(5));return a.isEqual(t)||Ei(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _1 extends y1{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(v1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Kf extends _1{data(e={}){return super.data(e)}}class NP{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new vu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Kf(this._firestore,this._userDataWriter,i.key,i,new vu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new Kf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new vu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Kf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new vu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:DP(d.type),doc:m,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function DP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n){n=ma(n,In);const e=ma(n.firestore,$h);return hP(cy(e),n._key).then(t=>MP(e,n,t))}class E1 extends CP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,t)}}function og(n){n=ma(n,Gh);const e=ma(n.firestore,$h),t=cy(e),i=new E1(e);return RP(n._query),dP(t,n._query).then(a=>new NP(e,i,n,a))}function py(n,e,t){n=ma(n,In);const i=ma(n.firestore,$h),a=IP(n.converter,e,t);return OP(i,[TP(EP(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,gi.none())])}function OP(n,e){return function(i,a){const l=new pi;return i.asyncQueue.enqueueAndForget(async()=>eP(await fP(i),a,l)),l.promise}(cy(n),e)}function MP(n,e,t){const i=t.docs.get(e._key),a=new E1(n);return new _1(n,a,e._key,i,new vu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){$o=a})(Fo),xo(new ca("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new $h(new wO(i.getProvider("auth-internal")),new xO(c,i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(p.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),cs(Wb,Zb,e),cs(Wb,Zb,"esm2017")})();const kP={apiKey:"AIzaSyAdIG93y5HylWTaQhuP_E_NQo9vNUalCWE",authDomain:"digital-competence.firebaseapp.com",projectId:"digital-competence",storageBucket:"digital-competence.firebasestorage.app",messagingSenderId:"310626335003",appId:"1:310626335003:web:30e9f01d7bd311e8727bbe",measurementId:"G-KY1RCR2GW4"},T1=sw(kP);_O(T1);const _s=gP(T1);async function PP(){const n=await og(ag(_s,"domains")),e=[];for(const t of n.docs){const i=t.id,a=t.data(),c=(await og(ag(_s,"domains",i,"skills"))).docs.map(d=>{const m=d.data();return{id:d.id,name:m.name,description:m.description,levels:m.levels,domainId:i}});e.push({id:i,name:a.name,description:a.description,color:"",skills:c})}return YT(e)}function Yh(){const[n,e]=R.useState([]),[t,i]=R.useState(!0);R.useEffect(()=>{async function d(){const m=await PP(),p=YT(m);e(p),i(!1)}d()},[]);const a=R.useMemo(()=>n.flatMap(d=>d.skills),[n]),l=R.useMemo(()=>{const d={};for(const m of n)d[m.id]=m;return d},[n]),c=R.useMemo(()=>{const d={};for(const m of n)for(const p of m.skills)d[p.id]=p;return d},[n]);return{domains:n,skills:a,domainsMap:l,skillsMap:c,isLoading:t}}const VP="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let YE=(n=21)=>{let e="",t=crypto.getRandomValues(new Uint8Array(n|=0));for(;n--;)e+=VP[t[n]&63];return e};async function w1(){const n=await og(ag(_s,"questions")),e=[];return n.forEach(t=>{e.push({...t.data(),completed:!1})}),e.sort((t,i)=>(t.order??0)-(i.order??0)),e}async function A1(n){const e=await b1(Zu(_s,"assessments",n));return e.exists()?e.data():null}async function Xf(n){await py(Zu(_s,"assessments",n),{answers:{},currentQuestionId:"",startedAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{merge:!0}),localStorage.setItem("assessmentId",n)}async function xp(n,e,t){await py(Zu(_s,"assessments",n),{answers:e,currentQuestionId:t,updatedAt:new Date().toISOString()},{merge:!0})}async function LP(n,e){await py(Zu(_s,"assessments",n),{results:e,completedAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{merge:!0}),localStorage.removeItem("assessmentId")}async function UP(n){const e=await b1(Zu(_s,"assessments",n));return e.exists()?{...e.data().results,id:n,name:e.data().answers.i_name,answers:e.data().answers,startedAt:e.data().startedAt,completedAt:e.data().completedAt}:null}function QE(){const n=Rh(),{domains:e,isLoading:t}=Yh(),[i,a]=R.useState(),[l,c]=R.useState([]);R.useEffect(()=>{if(t)return;c(bb(e));const p=setInterval(()=>{c(bb(e))},5e3);return()=>clearInterval(p)},[e,t]),R.useEffect(()=>{const p=localStorage.getItem("assessmentId");p&&a(p)},[]);const d=async()=>{let p=i;p?await A1(p)||await Xf(p):(p=YE(),a(p),await Xf(p)),n(`/assessment/${p}`)},m=async()=>{const p=YE();a(p),await Xf(p),n(`/assessment/${p}`)};return S.jsx("div",{className:"w-full overflow-x-hidden",children:S.jsxs("div",{className:"mx-auto min-h-screen max-w-7xl px-4 py-6 sm:px-6",children:[S.jsxs("div",{className:"mb-10 flex flex-col items-center justify-center gap-4",children:[S.jsxs("div",{className:"flex w-full flex-col justify-between gap-3 md:flex-row",children:[S.jsxs("div",{className:"order-1 flex flex-col items-end gap-3 text-sm md:order-0 md:items-start",children:["In partnership with",S.jsx(EI,{})]}),S.jsxs("div",{className:"order-0 flex shrink-0 flex-col items-end gap-3 text-sm md:order-1",children:["Available languages",S.jsx(_I,{})]})]}),S.jsxs("div",{className:"my-2 space-y-2",children:[S.jsx("h1",{className:"text-center text-3xl leading-normal font-semibold md:text-5xl",children:"The Digital Competence Wheel"}),S.jsx("p",{className:"text-accent-foreground max-w-2xl text-center",children:"An interactive online tool that maps Digital Competences"})]})]}),S.jsxs("div",{className:"mx-auto grid w-fit grid-cols-1 items-center justify-center space-y-8 lg:grid-cols-3 lg:gap-8",children:[S.jsx(QT,{domains:l}),S.jsxs("div",{className:"w-full max-w-md space-y-8",children:[S.jsxs("div",{className:"bg-success/50 text-primary-foreground rounded-lg p-4",children:[S.jsx("div",{className:"mb-2 text-center text-2xl font-bold",children:"Start"}),S.jsx("p",{className:"mb-4 text-sm",children:"Test your digital competencies and get your personal report for free"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx(_u,{className:"bg-foreground hover:bg-primary-foreground flex-1 font-semibold text-green-700",onClick:d,children:i?"Resume":"Start Assessment"}),i&&S.jsx(_u,{className:"bg-ring hover:bg-muted flex-1 text-white",onClick:m,children:"Restart"})]})]}),S.jsxs("div",{className:"border-accent bg-accent rounded-lg border p-4",children:[S.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"About the Digital Competence Wheel"}),S.jsx("p",{className:"text-accent-foreground text-sm leading-relaxed",children:"The Digital Competence Wheel is developed by Center for Digital Dannelse, who has been specializing in digital formation and competencies for more than 10 years. It aims to provide an overview of digital skills and actionable insights for growth."})]})]})]})]})})}function Rp({className:n,type:e,...t}){return S.jsx("input",{type:e,"data-slot":"input",className:Xe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-border flex h-9 w-full min-w-0 rounded-sm border bg-transparent px-3 py-1 text-sm shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:bg-accent-foreground focus-visible:text-slate-900","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var jP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ln=jP.reduce((n,e)=>{const t=Jf(`Primitive.${e}`),i=R.forwardRef((a,l)=>{const{asChild:c,...d}=a,m=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(m,{...d,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function zP(n,e){n&&Ag.flushSync(()=>n.dispatchEvent(e))}var BP="Label",S1=R.forwardRef((n,e)=>S.jsx(ln.label,{...n,ref:e,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||((a=n.onMouseDown)==null||a.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));S1.displayName=BP;var HP=S1;function qP({className:n,...e}){return S.jsx(HP,{"data-slot":"label",className:Xe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function Wn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n==null||n(a),t===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function Xo(n,e=[]){let t=[];function i(l,c){const d=R.createContext(c),m=t.length;t=[...t,c];const p=_=>{var j;const{scope:E,children:w,...C}=_,k=((j=E==null?void 0:E[n])==null?void 0:j[m])||d,P=R.useMemo(()=>C,Object.values(C));return S.jsx(k.Provider,{value:P,children:w})};p.displayName=l+"Provider";function v(_,E){var k;const w=((k=E==null?void 0:E[n])==null?void 0:k[m])||d,C=R.useContext(w);if(C)return C;if(c!==void 0)return c;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[p,v]}const a=()=>{const l=t.map(c=>R.createContext(c));return function(d){const m=(d==null?void 0:d[n])||l;return R.useMemo(()=>({[`__scope${n}`]:{...d,[n]:m}}),[d,m])}};return a.scopeName=n,[i,FP(a,...e)]}function FP(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=i.reduce((d,{useScope:m,scopeName:p})=>{const _=m(l)[`__scope${p}`];return{...d,..._}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function Qh(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n}),R.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function GP(n,e=globalThis==null?void 0:globalThis.document){const t=Qh(n);R.useEffect(()=>{const i=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var $P="DismissableLayer",lg="dismissableLayer.update",YP="dismissableLayer.pointerDownOutside",QP="dismissableLayer.focusOutside",KE,x1=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),R1=R.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...m}=n,p=R.useContext(x1),[v,_]=R.useState(null),E=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=R.useState({}),C=tr(e,O=>_(O)),k=Array.from(p.layers),[P]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=k.indexOf(P),U=v?k.indexOf(v):-1,$=p.layersWithOutsidePointerEventsDisabled.size>0,J=U>=j,te=WP(O=>{const x=O.target,M=[...p.branches].some(L=>L.contains(x));!J||M||(a==null||a(O),c==null||c(O),O.defaultPrevented||d==null||d())},E),ae=ZP(O=>{const x=O.target;[...p.branches].some(L=>L.contains(x))||(l==null||l(O),c==null||c(O),O.defaultPrevented||d==null||d())},E);return GP(O=>{U===p.layers.size-1&&(i==null||i(O),!O.defaultPrevented&&d&&(O.preventDefault(),d()))},E),R.useEffect(()=>{if(v)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(KE=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),XE(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=KE)}},[v,E,t,p]),R.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),XE())},[v,p]),R.useEffect(()=>{const O=()=>w({});return document.addEventListener(lg,O),()=>document.removeEventListener(lg,O)},[]),S.jsx(ln.div,{...m,ref:C,style:{pointerEvents:$?J?"auto":"none":void 0,...n.style},onFocusCapture:Wn(n.onFocusCapture,ae.onFocusCapture),onBlurCapture:Wn(n.onBlurCapture,ae.onBlurCapture),onPointerDownCapture:Wn(n.onPointerDownCapture,te.onPointerDownCapture)})});R1.displayName=$P;var KP="DismissableLayerBranch",XP=R.forwardRef((n,e)=>{const t=R.useContext(x1),i=R.useRef(null),a=tr(e,i);return R.useEffect(()=>{const l=i.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),S.jsx(ln.div,{...n,ref:a})});XP.displayName=KP;function WP(n,e=globalThis==null?void 0:globalThis.document){const t=Qh(n),i=R.useRef(!1),a=R.useRef(()=>{});return R.useEffect(()=>{const l=d=>{if(d.target&&!i.current){let m=function(){C1(YP,t,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=m,e.addEventListener("click",a.current,{once:!0})):m()}else e.removeEventListener("click",a.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function ZP(n,e=globalThis==null?void 0:globalThis.document){const t=Qh(n),i=R.useRef(!1);return R.useEffect(()=>{const a=l=>{l.target&&!i.current&&C1(QP,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function XE(){const n=new CustomEvent(lg);document.dispatchEvent(n)}function C1(n,e,t,{discrete:i}){const a=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),i?zP(a,l):a.dispatchEvent(l)}var wi=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},JP=gT[" useId ".trim().toString()]||(()=>{}),e4=0;function gy(n){const[e,t]=R.useState(JP());return wi(()=>{t(i=>i??String(e4++))},[n]),e?`radix-${e}`:""}const t4=["top","right","bottom","left"],bs=Math.min,Cn=Math.max,bh=Math.round,Vf=Math.floor,Pr=n=>({x:n,y:n}),n4={left:"right",right:"left",bottom:"top",top:"bottom"},r4={start:"end",end:"start"};function ug(n,e,t){return Cn(n,bs(e,t))}function Ai(n,e){return typeof n=="function"?n(e):n}function Si(n){return n.split("-")[0]}function Wo(n){return n.split("-")[1]}function yy(n){return n==="x"?"y":"x"}function vy(n){return n==="y"?"height":"width"}function Nr(n){return["top","bottom"].includes(Si(n))?"y":"x"}function _y(n){return yy(Nr(n))}function i4(n,e,t){t===void 0&&(t=!1);const i=Wo(n),a=_y(n),l=vy(a);let c=a==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Eh(c)),[c,Eh(c)]}function s4(n){const e=Eh(n);return[cg(n),e,cg(e)]}function cg(n){return n.replace(/start|end/g,e=>r4[e])}function a4(n,e,t){const i=["left","right"],a=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:i:e?i:a;case"left":case"right":return e?l:c;default:return[]}}function o4(n,e,t,i){const a=Wo(n);let l=a4(Si(n),t==="start",i);return a&&(l=l.map(c=>c+"-"+a),e&&(l=l.concat(l.map(cg)))),l}function Eh(n){return n.replace(/left|right|bottom|top/g,e=>n4[e])}function l4(n){return{top:0,right:0,bottom:0,left:0,...n}}function I1(n){return typeof n!="number"?l4(n):{top:n,right:n,bottom:n,left:n}}function Th(n){const{x:e,y:t,width:i,height:a}=n;return{width:i,height:a,top:t,left:e,right:e+i,bottom:t+a,x:e,y:t}}function WE(n,e,t){let{reference:i,floating:a}=n;const l=Nr(e),c=_y(e),d=vy(c),m=Si(e),p=l==="y",v=i.x+i.width/2-a.width/2,_=i.y+i.height/2-a.height/2,E=i[d]/2-a[d]/2;let w;switch(m){case"top":w={x:v,y:i.y-a.height};break;case"bottom":w={x:v,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:_};break;case"left":w={x:i.x-a.width,y:_};break;default:w={x:i.x,y:i.y}}switch(Wo(e)){case"start":w[c]-=E*(t&&p?-1:1);break;case"end":w[c]+=E*(t&&p?-1:1);break}return w}const u4=async(n,e,t)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:c}=t,d=l.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:n,floating:e,strategy:a}),{x:v,y:_}=WE(p,i,m),E=i,w={},C=0;for(let k=0;k<d.length;k++){const{name:P,fn:j}=d[k],{x:U,y:$,data:J,reset:te}=await j({x:v,y:_,initialPlacement:i,placement:E,strategy:a,middlewareData:w,rects:p,platform:c,elements:{reference:n,floating:e}});v=U??v,_=$??_,w={...w,[P]:{...w[P],...J}},te&&C<=50&&(C++,typeof te=="object"&&(te.placement&&(E=te.placement),te.rects&&(p=te.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:a}):te.rects),{x:v,y:_}=WE(p,E,m)),k=-1)}return{x:v,y:_,placement:E,strategy:a,middlewareData:w}};async function Uu(n,e){var t;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:c,elements:d,strategy:m}=n,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:E=!1,padding:w=0}=Ai(e,n),C=I1(w),P=d[E?_==="floating"?"reference":"floating":_],j=Th(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(P)))==null||t?P:P.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:p,rootBoundary:v,strategy:m})),U=_==="floating"?{x:i,y:a,width:c.floating.width,height:c.floating.height}:c.reference,$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),J=await(l.isElement==null?void 0:l.isElement($))?await(l.getScale==null?void 0:l.getScale($))||{x:1,y:1}:{x:1,y:1},te=Th(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:U,offsetParent:$,strategy:m}):U);return{top:(j.top-te.top+C.top)/J.y,bottom:(te.bottom-j.bottom+C.bottom)/J.y,left:(j.left-te.left+C.left)/J.x,right:(te.right-j.right+C.right)/J.x}}const c4=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:a,rects:l,platform:c,elements:d,middlewareData:m}=e,{element:p,padding:v=0}=Ai(n,e)||{};if(p==null)return{};const _=I1(v),E={x:t,y:i},w=_y(a),C=vy(w),k=await c.getDimensions(p),P=w==="y",j=P?"top":"left",U=P?"bottom":"right",$=P?"clientHeight":"clientWidth",J=l.reference[C]+l.reference[w]-E[w]-l.floating[C],te=E[w]-l.reference[w],ae=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let O=ae?ae[$]:0;(!O||!await(c.isElement==null?void 0:c.isElement(ae)))&&(O=d.floating[$]||l.floating[C]);const x=J/2-te/2,M=O/2-k[C]/2-1,L=bs(_[j],M),z=bs(_[U],M),H=L,N=O-k[C]-z,de=O/2-k[C]/2+x,me=ug(H,de,N),q=!m.arrow&&Wo(a)!=null&&de!==me&&l.reference[C]/2-(de<H?L:z)-k[C]/2<0,re=q?de<H?de-H:de-N:0;return{[w]:E[w]+re,data:{[w]:me,centerOffset:de-me-re,...q&&{alignmentOffset:re}},reset:q}}}),f4=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:a,middlewareData:l,rects:c,initialPlacement:d,platform:m,elements:p}=e,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:E,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:k=!0,...P}=Ai(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const j=Si(a),U=Nr(d),$=Si(d)===d,J=await(m.isRTL==null?void 0:m.isRTL(p.floating)),te=E||($||!k?[Eh(d)]:s4(d)),ae=C!=="none";!E&&ae&&te.push(...o4(d,k,C,J));const O=[d,...te],x=await Uu(e,P),M=[];let L=((i=l.flip)==null?void 0:i.overflows)||[];if(v&&M.push(x[j]),_){const de=i4(a,c,J);M.push(x[de[0]],x[de[1]])}if(L=[...L,{placement:a,overflows:M}],!M.every(de=>de<=0)){var z,H;const de=(((z=l.flip)==null?void 0:z.index)||0)+1,me=O[de];if(me&&(!(_==="alignment"?U!==Nr(me):!1)||L.every(K=>K.overflows[0]>0&&Nr(K.placement)===U)))return{data:{index:de,overflows:L},reset:{placement:me}};let q=(H=L.filter(re=>re.overflows[0]<=0).sort((re,K)=>re.overflows[1]-K.overflows[1])[0])==null?void 0:H.placement;if(!q)switch(w){case"bestFit":{var N;const re=(N=L.filter(K=>{if(ae){const ge=Nr(K.placement);return ge===U||ge==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(ge=>ge>0).reduce((ge,D)=>ge+D,0)]).sort((K,ge)=>K[1]-ge[1])[0])==null?void 0:N[0];re&&(q=re);break}case"initialPlacement":q=d;break}if(a!==q)return{reset:{placement:q}}}return{}}}};function ZE(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function JE(n){return t4.some(e=>n[e]>=0)}const h4=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...a}=Ai(n,e);switch(i){case"referenceHidden":{const l=await Uu(e,{...a,elementContext:"reference"}),c=ZE(l,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:JE(c)}}}case"escaped":{const l=await Uu(e,{...a,altBoundary:!0}),c=ZE(l,t.floating);return{data:{escapedOffsets:c,escaped:JE(c)}}}default:return{}}}}};async function d4(n,e){const{placement:t,platform:i,elements:a}=n,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),c=Si(t),d=Wo(t),m=Nr(t)==="y",p=["left","top"].includes(c)?-1:1,v=l&&m?-1:1,_=Ai(e,n);let{mainAxis:E,crossAxis:w,alignmentAxis:C}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return d&&typeof C=="number"&&(w=d==="end"?C*-1:C),m?{x:w*v,y:E*p}:{x:E*p,y:w*v}}const m4=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:a,y:l,placement:c,middlewareData:d}=e,m=await d4(e,n);return c===((t=d.offset)==null?void 0:t.placement)&&(i=d.arrow)!=null&&i.alignmentOffset?{}:{x:a+m.x,y:l+m.y,data:{...m,placement:c}}}}},p4=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:P=>{let{x:j,y:U}=P;return{x:j,y:U}}},...m}=Ai(n,e),p={x:t,y:i},v=await Uu(e,m),_=Nr(Si(a)),E=yy(_);let w=p[E],C=p[_];if(l){const P=E==="y"?"top":"left",j=E==="y"?"bottom":"right",U=w+v[P],$=w-v[j];w=ug(U,w,$)}if(c){const P=_==="y"?"top":"left",j=_==="y"?"bottom":"right",U=C+v[P],$=C-v[j];C=ug(U,C,$)}const k=d.fn({...e,[E]:w,[_]:C});return{...k,data:{x:k.x-t,y:k.y-i,enabled:{[E]:l,[_]:c}}}}}},g4=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:a,rects:l,middlewareData:c}=e,{offset:d=0,mainAxis:m=!0,crossAxis:p=!0}=Ai(n,e),v={x:t,y:i},_=Nr(a),E=yy(_);let w=v[E],C=v[_];const k=Ai(d,e),P=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(m){const $=E==="y"?"height":"width",J=l.reference[E]-l.floating[$]+P.mainAxis,te=l.reference[E]+l.reference[$]-P.mainAxis;w<J?w=J:w>te&&(w=te)}if(p){var j,U;const $=E==="y"?"width":"height",J=["top","left"].includes(Si(a)),te=l.reference[_]-l.floating[$]+(J&&((j=c.offset)==null?void 0:j[_])||0)+(J?0:P.crossAxis),ae=l.reference[_]+l.reference[$]+(J?0:((U=c.offset)==null?void 0:U[_])||0)-(J?P.crossAxis:0);C<te?C=te:C>ae&&(C=ae)}return{[E]:w,[_]:C}}}},y4=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:a,rects:l,platform:c,elements:d}=e,{apply:m=()=>{},...p}=Ai(n,e),v=await Uu(e,p),_=Si(a),E=Wo(a),w=Nr(a)==="y",{width:C,height:k}=l.floating;let P,j;_==="top"||_==="bottom"?(P=_,j=E===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(j=_,P=E==="end"?"top":"bottom");const U=k-v.top-v.bottom,$=C-v.left-v.right,J=bs(k-v[P],U),te=bs(C-v[j],$),ae=!e.middlewareData.shift;let O=J,x=te;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(x=$),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(O=U),ae&&!E){const L=Cn(v.left,0),z=Cn(v.right,0),H=Cn(v.top,0),N=Cn(v.bottom,0);w?x=C-2*(L!==0||z!==0?L+z:Cn(v.left,v.right)):O=k-2*(H!==0||N!==0?H+N:Cn(v.top,v.bottom))}await m({...e,availableWidth:x,availableHeight:O});const M=await c.getDimensions(d.floating);return C!==M.width||k!==M.height?{reset:{rects:!0}}:{}}}};function Kh(){return typeof window<"u"}function Zo(n){return N1(n)?(n.nodeName||"").toLowerCase():"#document"}function Nn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function jr(n){var e;return(e=(N1(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function N1(n){return Kh()?n instanceof Node||n instanceof Nn(n).Node:!1}function rr(n){return Kh()?n instanceof Element||n instanceof Nn(n).Element:!1}function Ur(n){return Kh()?n instanceof HTMLElement||n instanceof Nn(n).HTMLElement:!1}function eT(n){return!Kh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Nn(n).ShadowRoot}function Ju(n){const{overflow:e,overflowX:t,overflowY:i,display:a}=ir(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(a)}function v4(n){return["table","td","th"].includes(Zo(n))}function Xh(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function by(n){const e=Ey(),t=rr(n)?ir(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function _4(n){let e=Es(n);for(;Ur(e)&&!Po(e);){if(by(e))return e;if(Xh(e))return null;e=Es(e)}return null}function Ey(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Po(n){return["html","body","#document"].includes(Zo(n))}function ir(n){return Nn(n).getComputedStyle(n)}function Wh(n){return rr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Es(n){if(Zo(n)==="html")return n;const e=n.assignedSlot||n.parentNode||eT(n)&&n.host||jr(n);return eT(e)?e.host:e}function D1(n){const e=Es(n);return Po(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ur(e)&&Ju(e)?e:D1(e)}function ju(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=D1(n),l=a===((i=n.ownerDocument)==null?void 0:i.body),c=Nn(a);if(l){const d=fg(c);return e.concat(c,c.visualViewport||[],Ju(a)?a:[],d&&t?ju(d):[])}return e.concat(a,ju(a,[],t))}function fg(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function O1(n){const e=ir(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=Ur(n),l=a?n.offsetWidth:t,c=a?n.offsetHeight:i,d=bh(t)!==l||bh(i)!==c;return d&&(t=l,i=c),{width:t,height:i,$:d}}function Ty(n){return rr(n)?n:n.contextElement}function So(n){const e=Ty(n);if(!Ur(e))return Pr(1);const t=e.getBoundingClientRect(),{width:i,height:a,$:l}=O1(e);let c=(l?bh(t.width):t.width)/i,d=(l?bh(t.height):t.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const b4=Pr(0);function M1(n){const e=Nn(n);return!Ey()||!e.visualViewport?b4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function E4(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Nn(n)?!1:e}function pa(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),l=Ty(n);let c=Pr(1);e&&(i?rr(i)&&(c=So(i)):c=So(n));const d=E4(l,t,i)?M1(l):Pr(0);let m=(a.left+d.x)/c.x,p=(a.top+d.y)/c.y,v=a.width/c.x,_=a.height/c.y;if(l){const E=Nn(l),w=i&&rr(i)?Nn(i):i;let C=E,k=fg(C);for(;k&&i&&w!==C;){const P=So(k),j=k.getBoundingClientRect(),U=ir(k),$=j.left+(k.clientLeft+parseFloat(U.paddingLeft))*P.x,J=j.top+(k.clientTop+parseFloat(U.paddingTop))*P.y;m*=P.x,p*=P.y,v*=P.x,_*=P.y,m+=$,p+=J,C=Nn(k),k=fg(C)}}return Th({width:v,height:_,x:m,y:p})}function wy(n,e){const t=Wh(n).scrollLeft;return e?e.left+t:pa(jr(n)).left+t}function k1(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=i.left+e.scrollLeft-(t?0:wy(n,i)),l=i.top+e.scrollTop;return{x:a,y:l}}function T4(n){let{elements:e,rect:t,offsetParent:i,strategy:a}=n;const l=a==="fixed",c=jr(i),d=e?Xh(e.floating):!1;if(i===c||d&&l)return t;let m={scrollLeft:0,scrollTop:0},p=Pr(1);const v=Pr(0),_=Ur(i);if((_||!_&&!l)&&((Zo(i)!=="body"||Ju(c))&&(m=Wh(i)),Ur(i))){const w=pa(i);p=So(i),v.x=w.x+i.clientLeft,v.y=w.y+i.clientTop}const E=c&&!_&&!l?k1(c,m,!0):Pr(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-m.scrollLeft*p.x+v.x+E.x,y:t.y*p.y-m.scrollTop*p.y+v.y+E.y}}function w4(n){return Array.from(n.getClientRects())}function A4(n){const e=jr(n),t=Wh(n),i=n.ownerDocument.body,a=Cn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=Cn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+wy(n);const d=-t.scrollTop;return ir(i).direction==="rtl"&&(c+=Cn(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:c,y:d}}function S4(n,e){const t=Nn(n),i=jr(n),a=t.visualViewport;let l=i.clientWidth,c=i.clientHeight,d=0,m=0;if(a){l=a.width,c=a.height;const p=Ey();(!p||p&&e==="fixed")&&(d=a.offsetLeft,m=a.offsetTop)}return{width:l,height:c,x:d,y:m}}function x4(n,e){const t=pa(n,!0,e==="fixed"),i=t.top+n.clientTop,a=t.left+n.clientLeft,l=Ur(n)?So(n):Pr(1),c=n.clientWidth*l.x,d=n.clientHeight*l.y,m=a*l.x,p=i*l.y;return{width:c,height:d,x:m,y:p}}function tT(n,e,t){let i;if(e==="viewport")i=S4(n,t);else if(e==="document")i=A4(jr(n));else if(rr(e))i=x4(e,t);else{const a=M1(n);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Th(i)}function P1(n,e){const t=Es(n);return t===e||!rr(t)||Po(t)?!1:ir(t).position==="fixed"||P1(t,e)}function R4(n,e){const t=e.get(n);if(t)return t;let i=ju(n,[],!1).filter(d=>rr(d)&&Zo(d)!=="body"),a=null;const l=ir(n).position==="fixed";let c=l?Es(n):n;for(;rr(c)&&!Po(c);){const d=ir(c),m=by(c);!m&&d.position==="fixed"&&(a=null),(l?!m&&!a:!m&&d.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Ju(c)&&!m&&P1(n,c))?i=i.filter(v=>v!==c):a=d,c=Es(c)}return e.set(n,i),i}function C4(n){let{element:e,boundary:t,rootBoundary:i,strategy:a}=n;const c=[...t==="clippingAncestors"?Xh(e)?[]:R4(e,this._c):[].concat(t),i],d=c[0],m=c.reduce((p,v)=>{const _=tT(e,v,a);return p.top=Cn(_.top,p.top),p.right=bs(_.right,p.right),p.bottom=bs(_.bottom,p.bottom),p.left=Cn(_.left,p.left),p},tT(e,d,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function I4(n){const{width:e,height:t}=O1(n);return{width:e,height:t}}function N4(n,e,t){const i=Ur(e),a=jr(e),l=t==="fixed",c=pa(n,!0,l,e);let d={scrollLeft:0,scrollTop:0};const m=Pr(0);function p(){m.x=wy(a)}if(i||!i&&!l)if((Zo(e)!=="body"||Ju(a))&&(d=Wh(e)),i){const w=pa(e,!0,l,e);m.x=w.x+e.clientLeft,m.y=w.y+e.clientTop}else a&&p();l&&!i&&a&&p();const v=a&&!i&&!l?k1(a,d):Pr(0),_=c.left+d.scrollLeft-m.x-v.x,E=c.top+d.scrollTop-m.y-v.y;return{x:_,y:E,width:c.width,height:c.height}}function Cp(n){return ir(n).position==="static"}function nT(n,e){if(!Ur(n)||ir(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return jr(n)===t&&(t=t.ownerDocument.body),t}function V1(n,e){const t=Nn(n);if(Xh(n))return t;if(!Ur(n)){let a=Es(n);for(;a&&!Po(a);){if(rr(a)&&!Cp(a))return a;a=Es(a)}return t}let i=nT(n,e);for(;i&&v4(i)&&Cp(i);)i=nT(i,e);return i&&Po(i)&&Cp(i)&&!by(i)?t:i||_4(n)||t}const D4=async function(n){const e=this.getOffsetParent||V1,t=this.getDimensions,i=await t(n.floating);return{reference:N4(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function O4(n){return ir(n).direction==="rtl"}const M4={convertOffsetParentRelativeRectToViewportRelativeRect:T4,getDocumentElement:jr,getClippingRect:C4,getOffsetParent:V1,getElementRects:D4,getClientRects:w4,getDimensions:I4,getScale:So,isElement:rr,isRTL:O4};function L1(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function k4(n,e){let t=null,i;const a=jr(n);function l(){var d;clearTimeout(i),(d=t)==null||d.disconnect(),t=null}function c(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),l();const p=n.getBoundingClientRect(),{left:v,top:_,width:E,height:w}=p;if(d||e(),!E||!w)return;const C=Vf(_),k=Vf(a.clientWidth-(v+E)),P=Vf(a.clientHeight-(_+w)),j=Vf(v),$={rootMargin:-C+"px "+-k+"px "+-P+"px "+-j+"px",threshold:Cn(0,bs(1,m))||1};let J=!0;function te(ae){const O=ae[0].intersectionRatio;if(O!==m){if(!J)return c();O?c(!1,O):i=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!L1(p,n.getBoundingClientRect())&&c(),J=!1}try{t=new IntersectionObserver(te,{...$,root:a.ownerDocument})}catch{t=new IntersectionObserver(te,$)}t.observe(n)}return c(!0),l}function P4(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=i,p=Ty(n),v=a||l?[...p?ju(p):[],...ju(e)]:[];v.forEach(j=>{a&&j.addEventListener("scroll",t,{passive:!0}),l&&j.addEventListener("resize",t)});const _=p&&d?k4(p,t):null;let E=-1,w=null;c&&(w=new ResizeObserver(j=>{let[U]=j;U&&U.target===p&&w&&(w.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var $;($=w)==null||$.observe(e)})),t()}),p&&!m&&w.observe(p),w.observe(e));let C,k=m?pa(n):null;m&&P();function P(){const j=pa(n);k&&!L1(k,j)&&t(),k=j,C=requestAnimationFrame(P)}return t(),()=>{var j;v.forEach(U=>{a&&U.removeEventListener("scroll",t),l&&U.removeEventListener("resize",t)}),_==null||_(),(j=w)==null||j.disconnect(),w=null,m&&cancelAnimationFrame(C)}}const V4=m4,L4=p4,U4=f4,j4=y4,z4=h4,rT=c4,B4=g4,H4=(n,e,t)=>{const i=new Map,a={platform:M4,...t},l={...a.platform,_c:i};return u4(n,e,{...a,platform:l})};var q4=typeof document<"u",F4=function(){},Wf=q4?R.useLayoutEffect:F4;function wh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!wh(n[i],e[i]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=t;i--!==0;){const l=a[i];if(!(l==="_owner"&&n.$$typeof)&&!wh(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function U1(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function iT(n,e){const t=U1(n);return Math.round(e*t)/t}function Ip(n){const e=R.useRef(n);return Wf(()=>{e.current=n}),e}function G4(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:m,open:p}=n,[v,_]=R.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,w]=R.useState(i);wh(E,i)||w(i);const[C,k]=R.useState(null),[P,j]=R.useState(null),U=R.useCallback(K=>{K!==ae.current&&(ae.current=K,k(K))},[]),$=R.useCallback(K=>{K!==O.current&&(O.current=K,j(K))},[]),J=l||C,te=c||P,ae=R.useRef(null),O=R.useRef(null),x=R.useRef(v),M=m!=null,L=Ip(m),z=Ip(a),H=Ip(p),N=R.useCallback(()=>{if(!ae.current||!O.current)return;const K={placement:e,strategy:t,middleware:E};z.current&&(K.platform=z.current),H4(ae.current,O.current,K).then(ge=>{const D={...ge,isPositioned:H.current!==!1};de.current&&!wh(x.current,D)&&(x.current=D,Ag.flushSync(()=>{_(D)}))})},[E,e,t,z,H]);Wf(()=>{p===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,_(K=>({...K,isPositioned:!1})))},[p]);const de=R.useRef(!1);Wf(()=>(de.current=!0,()=>{de.current=!1}),[]),Wf(()=>{if(J&&(ae.current=J),te&&(O.current=te),J&&te){if(L.current)return L.current(J,te,N);N()}},[J,te,N,L,M]);const me=R.useMemo(()=>({reference:ae,floating:O,setReference:U,setFloating:$}),[U,$]),q=R.useMemo(()=>({reference:J,floating:te}),[J,te]),re=R.useMemo(()=>{const K={position:t,left:0,top:0};if(!q.floating)return K;const ge=iT(q.floating,v.x),D=iT(q.floating,v.y);return d?{...K,transform:"translate("+ge+"px, "+D+"px)",...U1(q.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ge,top:D}},[t,d,q.floating,v.x,v.y]);return R.useMemo(()=>({...v,update:N,refs:me,elements:q,floatingStyles:re}),[v,N,me,q,re])}const $4=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:a}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?rT({element:i.current,padding:a}).fn(t):{}:i?rT({element:i,padding:a}).fn(t):{}}}},Y4=(n,e)=>({...V4(n),options:[n,e]}),Q4=(n,e)=>({...L4(n),options:[n,e]}),K4=(n,e)=>({...B4(n),options:[n,e]}),X4=(n,e)=>({...U4(n),options:[n,e]}),W4=(n,e)=>({...j4(n),options:[n,e]}),Z4=(n,e)=>({...z4(n),options:[n,e]}),J4=(n,e)=>({...$4(n),options:[n,e]});var eV="Arrow",j1=R.forwardRef((n,e)=>{const{children:t,width:i=10,height:a=5,...l}=n;return S.jsx(ln.svg,{...l,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});j1.displayName=eV;var tV=j1;function nV(n){const[e,t]=R.useState(void 0);return wi(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,d;if("borderBoxSize"in l){const m=l.borderBoxSize,p=Array.isArray(m)?m[0]:m;c=p.inlineSize,d=p.blockSize}else c=n.offsetWidth,d=n.offsetHeight;t({width:c,height:d})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var Ay="Popper",[z1,B1]=Xo(Ay),[rV,H1]=z1(Ay),q1=n=>{const{__scopePopper:e,children:t}=n,[i,a]=R.useState(null);return S.jsx(rV,{scope:e,anchor:i,onAnchorChange:a,children:t})};q1.displayName=Ay;var F1="PopperAnchor",G1=R.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...a}=n,l=H1(F1,t),c=R.useRef(null),d=tr(e,c);return R.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||c.current)}),i?null:S.jsx(ln.div,{...a,ref:d})});G1.displayName=F1;var Sy="PopperContent",[iV,sV]=z1(Sy),$1=R.forwardRef((n,e)=>{var Oe,Me,st,_t,ht,It;const{__scopePopper:t,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:E=!1,updatePositionStrategy:w="optimized",onPlaced:C,...k}=n,P=H1(Sy,t),[j,U]=R.useState(null),$=tr(e,vn=>U(vn)),[J,te]=R.useState(null),ae=nV(J),O=(ae==null?void 0:ae.width)??0,x=(ae==null?void 0:ae.height)??0,M=i+(l!=="center"?"-"+l:""),L=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},z=Array.isArray(p)?p:[p],H=z.length>0,N={padding:L,boundary:z.filter(oV),altBoundary:H},{refs:de,floatingStyles:me,placement:q,isPositioned:re,middlewareData:K}=G4({strategy:"fixed",placement:M,whileElementsMounted:(...vn)=>P4(...vn,{animationFrame:w==="always"}),elements:{reference:P.anchor},middleware:[Y4({mainAxis:a+x,alignmentAxis:c}),m&&Q4({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?K4():void 0,...N}),m&&X4({...N}),W4({...N,apply:({elements:vn,rects:ur,availableWidth:ws,availableHeight:ba})=>{const{width:dn,height:Jo}=ur.reference,cr=vn.floating.style;cr.setProperty("--radix-popper-available-width",`${ws}px`),cr.setProperty("--radix-popper-available-height",`${ba}px`),cr.setProperty("--radix-popper-anchor-width",`${dn}px`),cr.setProperty("--radix-popper-anchor-height",`${Jo}px`)}}),J&&J4({element:J,padding:d}),lV({arrowWidth:O,arrowHeight:x}),E&&Z4({strategy:"referenceHidden",...N})]}),[ge,D]=K1(q),W=Qh(C);wi(()=>{re&&(W==null||W())},[re,W]);const ue=(Oe=K.arrow)==null?void 0:Oe.x,X=(Me=K.arrow)==null?void 0:Me.y,fe=((st=K.arrow)==null?void 0:st.centerOffset)!==0,[be,Ee]=R.useState();return wi(()=>{j&&Ee(window.getComputedStyle(j).zIndex)},[j]),S.jsx("div",{ref:de.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:re?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(_t=K.transformOrigin)==null?void 0:_t.x,(ht=K.transformOrigin)==null?void 0:ht.y].join(" "),...((It=K.hide)==null?void 0:It.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:S.jsx(iV,{scope:t,placedSide:ge,onArrowChange:te,arrowX:ue,arrowY:X,shouldHideArrow:fe,children:S.jsx(ln.div,{"data-side":ge,"data-align":D,...k,ref:$,style:{...k.style,animation:re?void 0:"none"}})})})});$1.displayName=Sy;var Y1="PopperArrow",aV={top:"bottom",right:"left",bottom:"top",left:"right"},Q1=R.forwardRef(function(e,t){const{__scopePopper:i,...a}=e,l=sV(Y1,i),c=aV[l.placedSide];return S.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:S.jsx(tV,{...a,ref:t,style:{...a.style,display:"block"}})})});Q1.displayName=Y1;function oV(n){return n!==null}var lV=n=>({name:"transformOrigin",options:n,fn(e){var P,j,U;const{placement:t,rects:i,middlewareData:a}=e,c=((P=a.arrow)==null?void 0:P.centerOffset)!==0,d=c?0:n.arrowWidth,m=c?0:n.arrowHeight,[p,v]=K1(t),_={start:"0%",center:"50%",end:"100%"}[v],E=(((j=a.arrow)==null?void 0:j.x)??0)+d/2,w=(((U=a.arrow)==null?void 0:U.y)??0)+m/2;let C="",k="";return p==="bottom"?(C=c?_:`${E}px`,k=`${-m}px`):p==="top"?(C=c?_:`${E}px`,k=`${i.floating.height+m}px`):p==="right"?(C=`${-m}px`,k=c?_:`${w}px`):p==="left"&&(C=`${i.floating.width+m}px`,k=c?_:`${w}px`),{data:{x:C,y:k}}}});function K1(n){const[e,t="center"]=n.split("-");return[e,t]}var uV=q1,cV=G1,fV=$1,hV=Q1,dV="Portal",X1=R.forwardRef((n,e)=>{var d;const{container:t,...i}=n,[a,l]=R.useState(!1);wi(()=>l(!0),[]);const c=t||a&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?UC.createPortal(S.jsx(ln.div,{...i,ref:e}),c):null});X1.displayName=dV;function mV(n,e){return R.useReducer((t,i)=>e[t][i]??t,n)}var Zh=n=>{const{present:e,children:t}=n,i=pV(e),a=typeof t=="function"?t({present:i.isPresent}):R.Children.only(t),l=tr(i.ref,gV(a));return typeof t=="function"||i.isPresent?R.cloneElement(a,{ref:l}):null};Zh.displayName="Presence";function pV(n){const[e,t]=R.useState(),i=R.useRef(null),a=R.useRef(n),l=R.useRef("none"),c=n?"mounted":"unmounted",[d,m]=mV(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const p=Lf(i.current);l.current=d==="mounted"?p:"none"},[d]),wi(()=>{const p=i.current,v=a.current;if(v!==n){const E=l.current,w=Lf(p);n?m("MOUNT"):w==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(v&&E!==w?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,m]),wi(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,_=w=>{const k=Lf(i.current).includes(w.animationName);if(w.target===e&&k&&(m("ANIMATION_END"),!a.current)){const P=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=P)})}},E=w=>{w.target===e&&(l.current=Lf(i.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:R.useCallback(p=>{i.current=p?getComputedStyle(p):null,t(p)},[])}}function Lf(n){return(n==null?void 0:n.animationName)||"none"}function gV(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var yV=gT[" useInsertionEffect ".trim().toString()]||wi;function Jh({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[a,l,c]=vV({defaultProp:e,onChange:t}),d=n!==void 0,m=d?n:a;{const v=R.useRef(n!==void 0);R.useEffect(()=>{const _=v.current;_!==d&&console.warn(`${i} is changing from ${_?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,i])}const p=R.useCallback(v=>{var _;if(d){const E=_V(v)?v(n):v;E!==n&&((_=c.current)==null||_.call(c,E))}else l(v)},[d,n,l,c]);return[m,p]}function vV({defaultProp:n,onChange:e}){const[t,i]=R.useState(n),a=R.useRef(t),l=R.useRef(e);return yV(()=>{l.current=e},[e]),R.useEffect(()=>{var c;a.current!==t&&((c=l.current)==null||c.call(l,t),a.current=t)},[t,a]),[t,i,l]}function _V(n){return typeof n=="function"}var bV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),EV="VisuallyHidden",W1=R.forwardRef((n,e)=>S.jsx(ln.span,{...n,ref:e,style:{...bV,...n.style}}));W1.displayName=EV;var TV=W1,[ed,x3]=Xo("Tooltip",[B1]),td=B1(),Z1="TooltipProvider",wV=700,hg="tooltip.open",[AV,xy]=ed(Z1),J1=n=>{const{__scopeTooltip:e,delayDuration:t=wV,skipDelayDuration:i=300,disableHoverableContent:a=!1,children:l}=n,c=R.useRef(!0),d=R.useRef(!1),m=R.useRef(0);return R.useEffect(()=>{const p=m.current;return()=>window.clearTimeout(p)},[]),S.jsx(AV,{scope:e,isOpenDelayedRef:c,delayDuration:t,onOpen:R.useCallback(()=>{window.clearTimeout(m.current),c.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>c.current=!0,i)},[i]),isPointerInTransitRef:d,onPointerInTransitChange:R.useCallback(p=>{d.current=p},[]),disableHoverableContent:a,children:l})};J1.displayName=Z1;var zu="Tooltip",[SV,ec]=ed(zu),eS=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:a,onOpenChange:l,disableHoverableContent:c,delayDuration:d}=n,m=xy(zu,n.__scopeTooltip),p=td(e),[v,_]=R.useState(null),E=gy(),w=R.useRef(0),C=c??m.disableHoverableContent,k=d??m.delayDuration,P=R.useRef(!1),[j,U]=Jh({prop:i,defaultProp:a??!1,onChange:O=>{O?(m.onOpen(),document.dispatchEvent(new CustomEvent(hg))):m.onClose(),l==null||l(O)},caller:zu}),$=R.useMemo(()=>j?P.current?"delayed-open":"instant-open":"closed",[j]),J=R.useCallback(()=>{window.clearTimeout(w.current),w.current=0,P.current=!1,U(!0)},[U]),te=R.useCallback(()=>{window.clearTimeout(w.current),w.current=0,U(!1)},[U]),ae=R.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{P.current=!0,U(!0),w.current=0},k)},[k,U]);return R.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),S.jsx(uV,{...p,children:S.jsx(SV,{scope:e,contentId:E,open:j,stateAttribute:$,trigger:v,onTriggerChange:_,onTriggerEnter:R.useCallback(()=>{m.isOpenDelayedRef.current?ae():J()},[m.isOpenDelayedRef,ae,J]),onTriggerLeave:R.useCallback(()=>{C?te():(window.clearTimeout(w.current),w.current=0)},[te,C]),onOpen:J,onClose:te,disableHoverableContent:C,children:t})})};eS.displayName=zu;var dg="TooltipTrigger",tS=R.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,a=ec(dg,t),l=xy(dg,t),c=td(t),d=R.useRef(null),m=tr(e,d,a.onTriggerChange),p=R.useRef(!1),v=R.useRef(!1),_=R.useCallback(()=>p.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",_),[_]),S.jsx(cV,{asChild:!0,...c,children:S.jsx(ln.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...i,ref:m,onPointerMove:Wn(n.onPointerMove,E=>{E.pointerType!=="touch"&&!v.current&&!l.isPointerInTransitRef.current&&(a.onTriggerEnter(),v.current=!0)}),onPointerLeave:Wn(n.onPointerLeave,()=>{a.onTriggerLeave(),v.current=!1}),onPointerDown:Wn(n.onPointerDown,()=>{a.open&&a.onClose(),p.current=!0,document.addEventListener("pointerup",_,{once:!0})}),onFocus:Wn(n.onFocus,()=>{p.current||a.onOpen()}),onBlur:Wn(n.onBlur,a.onClose),onClick:Wn(n.onClick,a.onClose)})})});tS.displayName=dg;var Ry="TooltipPortal",[xV,RV]=ed(Ry,{forceMount:void 0}),nS=n=>{const{__scopeTooltip:e,forceMount:t,children:i,container:a}=n,l=ec(Ry,e);return S.jsx(xV,{scope:e,forceMount:t,children:S.jsx(Zh,{present:t||l.open,children:S.jsx(X1,{asChild:!0,container:a,children:i})})})};nS.displayName=Ry;var Vo="TooltipContent",rS=R.forwardRef((n,e)=>{const t=RV(Vo,n.__scopeTooltip),{forceMount:i=t.forceMount,side:a="top",...l}=n,c=ec(Vo,n.__scopeTooltip);return S.jsx(Zh,{present:i||c.open,children:c.disableHoverableContent?S.jsx(iS,{side:a,...l,ref:e}):S.jsx(CV,{side:a,...l,ref:e})})}),CV=R.forwardRef((n,e)=>{const t=ec(Vo,n.__scopeTooltip),i=xy(Vo,n.__scopeTooltip),a=R.useRef(null),l=tr(e,a),[c,d]=R.useState(null),{trigger:m,onClose:p}=t,v=a.current,{onPointerInTransitChange:_}=i,E=R.useCallback(()=>{d(null),_(!1)},[_]),w=R.useCallback((C,k)=>{const P=C.currentTarget,j={x:C.clientX,y:C.clientY},U=OV(j,P.getBoundingClientRect()),$=MV(j,U),J=kV(k.getBoundingClientRect()),te=VV([...$,...J]);d(te),_(!0)},[_]);return R.useEffect(()=>()=>E(),[E]),R.useEffect(()=>{if(m&&v){const C=P=>w(P,v),k=P=>w(P,m);return m.addEventListener("pointerleave",C),v.addEventListener("pointerleave",k),()=>{m.removeEventListener("pointerleave",C),v.removeEventListener("pointerleave",k)}}},[m,v,w,E]),R.useEffect(()=>{if(c){const C=k=>{const P=k.target,j={x:k.clientX,y:k.clientY},U=(m==null?void 0:m.contains(P))||(v==null?void 0:v.contains(P)),$=!PV(j,c);U?E():$&&(E(),p())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[m,v,c,p,E]),S.jsx(iS,{...n,ref:l})}),[IV,NV]=ed(zu,{isInside:!1}),DV=AI("TooltipContent"),iS=R.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":a,onEscapeKeyDown:l,onPointerDownOutside:c,...d}=n,m=ec(Vo,t),p=td(t),{onClose:v}=m;return R.useEffect(()=>(document.addEventListener(hg,v),()=>document.removeEventListener(hg,v)),[v]),R.useEffect(()=>{if(m.trigger){const _=E=>{const w=E.target;w!=null&&w.contains(m.trigger)&&v()};return window.addEventListener("scroll",_,{capture:!0}),()=>window.removeEventListener("scroll",_,{capture:!0})}},[m.trigger,v]),S.jsx(R1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:_=>_.preventDefault(),onDismiss:v,children:S.jsxs(fV,{"data-state":m.stateAttribute,...p,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[S.jsx(DV,{children:i}),S.jsx(IV,{scope:t,isInside:!0,children:S.jsx(TV,{id:m.contentId,role:"tooltip",children:a||i})})]})})});rS.displayName=Vo;var sS="TooltipArrow",aS=R.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,a=td(t);return NV(sS,t).isInside?null:S.jsx(hV,{...a,...i,ref:e})});aS.displayName=sS;function OV(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),a=Math.abs(e.right-n.x),l=Math.abs(e.left-n.x);switch(Math.min(t,i,a,l)){case l:return"left";case a:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function MV(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function kV(n){const{top:e,right:t,bottom:i,left:a}=n;return[{x:a,y:e},{x:t,y:e},{x:t,y:i},{x:a,y:i}]}function PV(n,e){const{x:t,y:i}=n;let a=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const d=e[l],m=e[c],p=d.x,v=d.y,_=m.x,E=m.y;v>i!=E>i&&t<(_-p)*(i-v)/(E-v)+p&&(a=!a)}return a}function VV(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),LV(e)}function LV(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const a=n[i];for(;e.length>=2;){const l=e[e.length-1],c=e[e.length-2];if((l.x-c.x)*(a.y-c.y)>=(l.y-c.y)*(a.x-c.x))e.pop();else break}e.push(a)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const a=n[i];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(a.y-c.y)>=(l.y-c.y)*(a.x-c.x))t.pop();else break}t.push(a)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var UV=J1,jV=eS,zV=tS,BV=nS,HV=rS,qV=aS;function FV({delayDuration:n=0,...e}){return S.jsx(UV,{"data-slot":"tooltip-provider",delayDuration:n,...e})}function oS({...n}){return S.jsx(FV,{children:S.jsx(jV,{"data-slot":"tooltip",...n})})}function lS({...n}){return S.jsx(zV,{"data-slot":"tooltip-trigger",...n})}function uS({className:n,sideOffset:e=0,children:t,borderColor:i,...a}){return S.jsx(BV,{children:S.jsxs(HV,{"data-slot":"tooltip-content",sideOffset:e,className:Xe("bg-popover text-popover-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n),style:i?{borderColor:i}:void 0,...a,children:[t,S.jsx(qV,{className:"bg-popover fill-popover z-50 size-2.5 translate-y-[calc(-50%_+1.5px)] rotate-45 border-r-2 border-b-2 border-transparent",style:i?{borderColor:i}:void 0})]})})}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$V=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),sT=n=>{const e=$V(n);return e.charAt(0).toUpperCase()+e.slice(1)},cS=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),YV=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=R.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},m)=>R.createElement("svg",{ref:m,...QV,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:cS("lucide",a),...!l&&!YV(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,v])=>R.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=(n,e)=>{const t=R.forwardRef(({className:i,...a},l)=>R.createElement(KV,{ref:l,iconNode:e,className:cS(`lucide-${GV(sT(n))}`,`lucide-${n}`,i),...a}));return t.displayName=sT(n),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],WV=Jt("calendar",XV);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],JV=Jt("chart-pie",ZV);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cy=Jt("check",eL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nL=Jt("chevron-down",tL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],iL=Jt("chevron-left",rL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],aT=Jt("chevron-right",sL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],oL=Jt("circle-dot",aL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],uL=Jt("id-card",lL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],fS=Jt("info",cL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],hL=Jt("list-ordered",fL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"m21 3-6.75 6.75",key:"pv0uzu"}],["circle",{cx:"10",cy:"14",r:"6",key:"1qwbdc"}]],mL=Jt("mars",dL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],gL=Jt("play",pL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],vL=Jt("star",yL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],bL=Jt("timer",_L);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],TL=Jt("users",EL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M9 19h6",key:"456am0"}],["circle",{cx:"12",cy:"9",r:"6",key:"1nw4tq"}]],AL=Jt("venus",wL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hS=Jt("x",SL),xL={yes:S.jsx(Cy,{className:"size-6 shrink-0"}),no:S.jsx(hS,{className:"size-6 shrink-0"}),male:S.jsx(mL,{className:"size-6 shrink-0"}),female:S.jsx(AL,{className:"size-6 shrink-0"}),default:S.jsx(oL,{className:"size-6 shrink-0"}),none:S.jsx(S.Fragment,{})},oT=({onClick:n,icon:e="",children:t,className:i,selected:a,disabled:l})=>S.jsxs("div",{onClick:l?void 0:n,className:Xe("text-primary-foreground flex w-full cursor-pointer items-center gap-3 rounded border p-2 text-xs transition-colors md:text-sm",a?"border-primary-ring bg-primary-ring/50":"border-input bg-input hover:bg-input/50",l&&"cursor-not-allowed opacity-50",i),tabIndex:l?-1:0,role:"button","aria-pressed":a,children:[e&&xL[e],S.jsx("span",{className:"flex-1",children:t})]}),Iy=R.createContext(null),lT=[{value:1,label:"To a very small degree"},{value:2,label:"To a small degree"},{value:3,label:"To a lesser extent"},{value:4,label:"Partially"},{value:5,label:"To some extent"},{value:6,label:"To a large extent"},{value:7,label:"To a very large extent"}];function RL(n,e,t,i){const a={};n.forEach(_=>{if(_.type!=="rating"||!_.skillId||!_.domainId)return;let E=e[_.id];typeof E=="number"&&(E=Math.round(E/7*100),a[_.skillId]||(a[_.skillId]=[]),a[_.skillId].push(E))});const l=t.map(_=>{const E=a[_.id]||[],w=E.length?Math.round(E.reduce((k,P)=>k+P,0)/E.length):0,C=oa(w);return{id:_.id,score:w,level:C}}),c={};l.forEach(_=>{const E=t.find(C=>C.id===_.id);if(!E||!E.domainId)return;const w=E.domainId;c[w]||(c[w]=[]),c[w].push(_)});const d=i.map(_=>{const E=c[_.id]||[],w=E.length?Math.round(E.reduce((k,P)=>k+P.score,0)/E.length):0,C=oa(w);return{id:_.id,score:w,level:C,skills:E}}),m=l.map(_=>_.score),p=m.length?Math.round(m.reduce((_,E)=>_+E,0)/m.length):0,v=oa(p);return{domains:d,overallScore:p,overallLevel:v}}function CL(n,e,t){return n.domains.map(i=>{const a=e[i.id];return{id:i.id,name:(a==null?void 0:a.name)||i.id,description:(a==null?void 0:a.description)||"",color:(a==null?void 0:a.color)||"#ffffff",score:i.score,level:i.level,skills:i.skills.map(l=>{const c=t[l.id];return{id:l.id,name:(c==null?void 0:c.name)||l.id,description:(c==null?void 0:c.description)||"",score:l.score,level:l.level,levels:(c==null?void 0:c.levels)||{Foundational:"",Intermediate:"",Advanced:"",Expert:"",Master:""}}})}})}function Ny({className:n,message:e="Loading..."}){return S.jsx("div",{className:Xe("bg-background flex min-h-screen w-full items-center justify-center",n),children:S.jsxs("div",{className:"flex flex-col items-center gap-4",children:[S.jsxs("svg",{className:"text-primary-ring h-10 w-10 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-50",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-90",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),S.jsx("span",{className:"text-primary-foreground text-lg",children:e})]})})}function IL(){const n=Rh(),e=R.useContext(Iy),{domains:t,skills:i}=Yh(),{assessmentId:a,questions:l,answers:c,currentQuestionId:d,currentQuestionIndex:m,onQuestionChange:p,onAnswer:v,isLoading:_,isCompleted:E}=e,w=l[m],C=l.length,[k,P]=R.useState(""),[j,U]=R.useState(0),[$,J]=R.useState(""),[te,ae]=R.useState([]),[O,x]=R.useState(""),M=(D,W=!0)=>{var ue;if(!w)return!1;switch(w.type){case"static":return!0;case"multi-select":{if(!Array.isArray(D))return!1;if(!W)return D.length>0;const X=typeof w.required=="object"?w.required.min||1:w.required?1:0,fe=typeof w.required=="object"?w.required.max||1/0:w.required?1/0:0;return D.length>=X&&D.length<=fe}case"select":if(typeof D=="object"&&D&&"value"in D){const{value:X,extra:fe}=D,be=(ue=w.options)==null?void 0:ue.find(Ee=>Ee.value===X);if(be!=null&&be.extraInput&&W){if(be.extraInput.type==="email")return!!fe&&Eb(fe);if(be.extraInput.required)return!!fe&&fe!==""}return!!X}return typeof D=="string"&&D!=="";default:return typeof w.required=="boolean"&&!w.required?!0:D!=null&&D!==""&&D!==0}};R.useEffect(()=>{if(!w)return;const D=c[w.id];switch(w.type){case"rating":U(typeof D=="number"?D:0);break;case"select":typeof D=="object"&&D&&"extra"in D?(J(D.value),x(D.extra||"")):J(typeof D=="string"?D:"");break;case"multi-select":ae(Array.isArray(D)?D:[]);break;case"text":P(typeof D=="string"?D:"");break}},[d,w,c]);const L=D=>{U(D),v(w.id,D)},z=D=>{var W;if($!==D){J(D);const ue=(W=w.options)==null?void 0:W.find(X=>X.value===D);ue!=null&&ue.extraInput?v(w.id,{value:D,extra:O||""}):v(w.id,D)}},H=D=>{const W=te.includes(D)?te.filter(ue=>ue!==D):[...te,D];ae(W),v(w.id,W)},N=D=>{P(D),v(w.id,D)},de=D=>{x(D),v(w.id,{value:$,extra:D})},me=()=>{m<C-1&&p(l[m+1].id)},q=()=>{m>0&&p(l[m-1].id)},re=async()=>{const D=l.filter(ue=>ue.type=="rating"),W=RL(D,c,i,t);await LP(a,W),n(`/report/${a}`)},K=D=>{var W,ue;switch(D.type){case"rating":return S.jsx("div",{className:"my-4",children:S.jsx("div",{className:"grid h-20 grid-cols-7 items-center justify-items-center gap-2 lg:gap-8",children:lT.map(X=>S.jsxs(oS,{children:[S.jsx(lS,{children:S.jsx(vL,{onClick:()=>L(X.value),className:Xe("hover:text-secondary-ring hover:fill-secondary-ring size-6 cursor-pointer lg:size-12",X.value===j||X.value<(j??0)?"fill-primary-ring text-primary-ring":"fill-muted text-muted",X.value===j?"scale-125":"")})}),S.jsx(uS,{children:X.label})]},X.value))})});case"select":return S.jsx("div",{className:Xe("my-4 w-full",w.options.length>7?"grid grid-cols-2 gap-2 md:grid-cols-4":"flex flex-col gap-2 lg:w-3/4"),children:(W=D.options)==null?void 0:W.map(X=>S.jsxs(oT,{className:w.options.length>7?"h-24 text-center":"h-auto text-left",selected:$===X.value,icon:X.icon,onClick:()=>{$!==X.value&&z(X.value)},children:[X.label,X.extraInput&&S.jsx(Rp,{className:"placeholder:text-accent bg-accent-foreground border-accent-foreground text-accent mt-2",type:X.extraInput.type,placeholder:X.extraInput.placeholder,value:O,onChange:fe=>de(fe.target.value),required:X.extraInput.required,disabled:$!==X.value})]},X.value))});case"multi-select":return S.jsx("div",{className:Xe("my-4 w-full",w.options.length>7?"grid grid-cols-2 gap-2 md:grid-cols-4":"flex flex-col gap-2 lg:w-3/4"),children:(ue=D.options)==null?void 0:ue.map(X=>S.jsxs(oT,{className:w.options.length>7?"h-24 text-center":"h-auto text-left",selected:te.includes(X.value),icon:X.icon,onClick:()=>H(X.value),children:[X.label,X.extraInput&&S.jsx(Rp,{className:"placeholder:text-accent bg-accent-foreground border-accent-foreground text-accent mt-2",type:X.extraInput.type,placeholder:X.extraInput.placeholder,value:O,onClick:fe=>fe.stopPropagation(),onChange:fe=>de(fe.target.value),required:X.extraInput.required,disabled:!te.includes(X.value)})]},X.value))});case"text":return S.jsxs("div",{className:"my-4 w-full space-y-2 lg:w-3/4",children:[S.jsx(qP,{htmlFor:"text-input",children:w.title}),S.jsx(Rp,{id:"text-input",type:"text",className:"bg-accent-foreground text-accent w-full",value:k,onChange:X=>N(X.target.value)})]});case"static":default:return null}},ge=(D,W)=>{var ue,X,fe,be,Ee,Oe;if(D.type==="static")return"I have read and understood the instructions.";if(!W)return"";switch(D.type){case"rating":return typeof W=="number"&&((ue=lT[W-1])==null?void 0:ue.label)||W.toString();case"select":if(typeof W=="object"&&W!==null&&"value"in W){const{value:Me,extra:st}=W,_t=((fe=(X=D.options)==null?void 0:X.find(It=>It.value===Me))==null?void 0:fe.label)||Me,ht=(be=w.options)==null?void 0:be.find(It=>It.value===Me);return ht!=null&&ht.extraInput&&ht.extraInput.type==="email"?st&&Eb(st)?st:"Invalid email":st||_t}return typeof W=="string"?((Oe=(Ee=D.options)==null?void 0:Ee.find(Me=>Me.value===W))==null?void 0:Oe.label)||W:"";case"multi-select":return Array.isArray(W)?W.map(Me=>{var st,_t;return((_t=(st=D.options)==null?void 0:st.find(ht=>ht.value===Me))==null?void 0:_t.label)||Me}).join(", "):"";case"text":return typeof W=="string"?W:W.toString();default:return""}};return _||!w?S.jsx(Ny,{message:"Preparing Assessment..."}):S.jsx("div",{className:"w-full overflow-x-hidden",children:S.jsxs("div",{className:"mx-auto flex min-h-screen max-w-7xl flex-col px-4 py-6 text-center sm:px-6",children:[S.jsxs("div",{className:"flex grow flex-col",children:[S.jsx("h1",{className:"border-border bg-input rounded-sm border py-2 text-2xl",children:w.title}),S.jsxs("div",{className:"flex w-fit flex-1 flex-col items-center justify-center self-center md:w-2xl",children:[S.jsxs("div",{className:"my-4 space-y-2",children:[S.jsx("p",{className:"text-muted-foreground text-lg",children:w.statement}),S.jsx("p",{className:Xe("text-accent-foreground leading-relaxed whitespace-pre-wrap"),children:w.description})]}),K(w),S.jsx("div",{className:Xe("my-4 flex min-h-10 w-full justify-center rounded-sm px-4 py-2",M(c[w.id],!1)?"bg-input":""),children:M(c[w.id],!1)&&S.jsxs("div",{className:Xe("flex items-center justify-center gap-2 text-sm font-semibold md:text-base",M(c[w.id])?"text-success":"text-destructive"),children:[M(c[w.id])?S.jsx(Cy,{className:"size-6 shrink-0"}):S.jsx(hS,{className:"size-6 shrink-0"}),S.jsx("span",{className:"line-clamp-2",children:ge(w,c[w.id])})]})}),S.jsx("div",{className:"mt-4",children:E?S.jsx("div",{className:"text-muted-foreground text-sm",children:"Assessment completed. You can only review your answers now."}):S.jsxs(_u,{onClick:()=>{w.type==="static"?v(w.id,"acknowledged"):v(w.id,c[w.id]),m===C-1?re():me()},disabled:!M(c[w.id]),className:"hover:bg-blue-700 md:order-3",children:[m===C-1?"Complete":"Confirm and Continue",S.jsx(aT,{className:"size-4"})]})})]})]}),S.jsx("footer",{className:"border-border mt-8 border-t p-4",children:S.jsxs("div",{className:"mx-auto flex flex-wrap items-center justify-between gap-2",children:[S.jsxs("div",{className:"w-full text-center md:order-2 md:w-auto",children:[S.jsxs("div",{className:"text-muted-foreground text-sm",children:["Question ",m+1," of ",C]}),S.jsx("div",{className:"text-muted text-xs",children:w.domain})]}),S.jsxs(_u,{onClick:q,disabled:m===0,className:"bg-ring hover:bg-muted md:order-1",children:[S.jsx(iL,{className:"size-4"}),"Previous"]}),S.jsxs(_u,{onClick:me,disabled:!M||m===C-1,className:"hover:bg-blue-700 md:order-3",children:["Next",S.jsx(aT,{className:"size-4"})]})]})})]})})}function NL(n){const e=n+"CollectionProvider",[t,i]=Xo(e),[a,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=k=>{const{scope:P,children:j}=k,U=mt.useRef(null),$=mt.useRef(new Map).current;return S.jsx(a,{scope:P,itemMap:$,collectionRef:U,children:j})};c.displayName=e;const d=n+"CollectionSlot",m=Jf(d),p=mt.forwardRef((k,P)=>{const{scope:j,children:U}=k,$=l(d,j),J=tr(P,$.collectionRef);return S.jsx(m,{ref:J,children:U})});p.displayName=d;const v=n+"CollectionItemSlot",_="data-radix-collection-item",E=Jf(v),w=mt.forwardRef((k,P)=>{const{scope:j,children:U,...$}=k,J=mt.useRef(null),te=tr(P,J),ae=l(v,j);return mt.useEffect(()=>(ae.itemMap.set(J,{ref:J,...$}),()=>void ae.itemMap.delete(J))),S.jsx(E,{[_]:"",ref:te,children:U})});w.displayName=v;function C(k){const P=l(n+"CollectionConsumer",k);return mt.useCallback(()=>{const U=P.collectionRef.current;if(!U)return[];const $=Array.from(U.querySelectorAll(`[${_}]`));return Array.from(P.itemMap.values()).sort((ae,O)=>$.indexOf(ae.ref.current)-$.indexOf(O.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:c,Slot:p,ItemSlot:w},C,i]}var nd="Collapsible",[DL,dS]=Xo(nd),[OL,Dy]=DL(nd),mS=R.forwardRef((n,e)=>{const{__scopeCollapsible:t,open:i,defaultOpen:a,disabled:l,onOpenChange:c,...d}=n,[m,p]=Jh({prop:i,defaultProp:a??!1,onChange:c,caller:nd});return S.jsx(OL,{scope:t,disabled:l,contentId:gy(),open:m,onOpenToggle:R.useCallback(()=>p(v=>!v),[p]),children:S.jsx(ln.div,{"data-state":My(m),"data-disabled":l?"":void 0,...d,ref:e})})});mS.displayName=nd;var pS="CollapsibleTrigger",gS=R.forwardRef((n,e)=>{const{__scopeCollapsible:t,...i}=n,a=Dy(pS,t);return S.jsx(ln.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":My(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...i,ref:e,onClick:Wn(n.onClick,a.onOpenToggle)})});gS.displayName=pS;var Oy="CollapsibleContent",yS=R.forwardRef((n,e)=>{const{forceMount:t,...i}=n,a=Dy(Oy,n.__scopeCollapsible);return S.jsx(Zh,{present:t||a.open,children:({present:l})=>S.jsx(ML,{...i,ref:e,present:l})})});yS.displayName=Oy;var ML=R.forwardRef((n,e)=>{const{__scopeCollapsible:t,present:i,children:a,...l}=n,c=Dy(Oy,t),[d,m]=R.useState(i),p=R.useRef(null),v=tr(e,p),_=R.useRef(0),E=_.current,w=R.useRef(0),C=w.current,k=c.open||d,P=R.useRef(k),j=R.useRef(void 0);return R.useEffect(()=>{const U=requestAnimationFrame(()=>P.current=!1);return()=>cancelAnimationFrame(U)},[]),wi(()=>{const U=p.current;if(U){j.current=j.current||{transitionDuration:U.style.transitionDuration,animationName:U.style.animationName},U.style.transitionDuration="0s",U.style.animationName="none";const $=U.getBoundingClientRect();_.current=$.height,w.current=$.width,P.current||(U.style.transitionDuration=j.current.transitionDuration,U.style.animationName=j.current.animationName),m(i)}},[c.open,i]),S.jsx(ln.div,{"data-state":My(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!k,...l,ref:v,style:{"--radix-collapsible-content-height":E?`${E}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...n.style},children:k&&a})});function My(n){return n?"open":"closed"}var kL=mS,PL=gS,VL=yS,LL=R.createContext(void 0);function UL(n){const e=R.useContext(LL);return n||e||"ltr"}var lr="Accordion",jL=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ky,zL,BL]=NL(lr),[rd,R3]=Xo(lr,[BL,dS]),Py=dS(),vS=mt.forwardRef((n,e)=>{const{type:t,...i}=n,a=i,l=i;return S.jsx(ky.Provider,{scope:n.__scopeAccordion,children:t==="multiple"?S.jsx(GL,{...l,ref:e}):S.jsx(FL,{...a,ref:e})})});vS.displayName=lr;var[_S,HL]=rd(lr),[bS,qL]=rd(lr,{collapsible:!1}),FL=mt.forwardRef((n,e)=>{const{value:t,defaultValue:i,onValueChange:a=()=>{},collapsible:l=!1,...c}=n,[d,m]=Jh({prop:t,defaultProp:i??"",onChange:a,caller:lr});return S.jsx(_S,{scope:n.__scopeAccordion,value:mt.useMemo(()=>d?[d]:[],[d]),onItemOpen:m,onItemClose:mt.useCallback(()=>l&&m(""),[l,m]),children:S.jsx(bS,{scope:n.__scopeAccordion,collapsible:l,children:S.jsx(ES,{...c,ref:e})})})}),GL=mt.forwardRef((n,e)=>{const{value:t,defaultValue:i,onValueChange:a=()=>{},...l}=n,[c,d]=Jh({prop:t,defaultProp:i??[],onChange:a,caller:lr}),m=mt.useCallback(v=>d((_=[])=>[..._,v]),[d]),p=mt.useCallback(v=>d((_=[])=>_.filter(E=>E!==v)),[d]);return S.jsx(_S,{scope:n.__scopeAccordion,value:c,onItemOpen:m,onItemClose:p,children:S.jsx(bS,{scope:n.__scopeAccordion,collapsible:!0,children:S.jsx(ES,{...l,ref:e})})})}),[$L,id]=rd(lr),ES=mt.forwardRef((n,e)=>{const{__scopeAccordion:t,disabled:i,dir:a,orientation:l="vertical",...c}=n,d=mt.useRef(null),m=tr(d,e),p=zL(t),_=UL(a)==="ltr",E=Wn(n.onKeyDown,w=>{var x;if(!jL.includes(w.key))return;const C=w.target,k=p().filter(M=>{var L;return!((L=M.ref.current)!=null&&L.disabled)}),P=k.findIndex(M=>M.ref.current===C),j=k.length;if(P===-1)return;w.preventDefault();let U=P;const $=0,J=j-1,te=()=>{U=P+1,U>J&&(U=$)},ae=()=>{U=P-1,U<$&&(U=J)};switch(w.key){case"Home":U=$;break;case"End":U=J;break;case"ArrowRight":l==="horizontal"&&(_?te():ae());break;case"ArrowDown":l==="vertical"&&te();break;case"ArrowLeft":l==="horizontal"&&(_?ae():te());break;case"ArrowUp":l==="vertical"&&ae();break}const O=U%j;(x=k[O].ref.current)==null||x.focus()});return S.jsx($L,{scope:t,disabled:i,direction:a,orientation:l,children:S.jsx(ky.Slot,{scope:t,children:S.jsx(ln.div,{...c,"data-orientation":l,ref:m,onKeyDown:i?void 0:E})})})}),Ah="AccordionItem",[YL,Vy]=rd(Ah),TS=mt.forwardRef((n,e)=>{const{__scopeAccordion:t,value:i,...a}=n,l=id(Ah,t),c=HL(Ah,t),d=Py(t),m=gy(),p=i&&c.value.includes(i)||!1,v=l.disabled||n.disabled;return S.jsx(YL,{scope:t,open:p,disabled:v,triggerId:m,children:S.jsx(kL,{"data-orientation":l.orientation,"data-state":CS(p),...d,...a,ref:e,disabled:v,open:p,onOpenChange:_=>{_?c.onItemOpen(i):c.onItemClose(i)}})})});TS.displayName=Ah;var wS="AccordionHeader",AS=mt.forwardRef((n,e)=>{const{__scopeAccordion:t,...i}=n,a=id(lr,t),l=Vy(wS,t);return S.jsx(ln.h3,{"data-orientation":a.orientation,"data-state":CS(l.open),"data-disabled":l.disabled?"":void 0,...i,ref:e})});AS.displayName=wS;var mg="AccordionTrigger",SS=mt.forwardRef((n,e)=>{const{__scopeAccordion:t,...i}=n,a=id(lr,t),l=Vy(mg,t),c=qL(mg,t),d=Py(t);return S.jsx(ky.ItemSlot,{scope:t,children:S.jsx(PL,{"aria-disabled":l.open&&!c.collapsible||void 0,"data-orientation":a.orientation,id:l.triggerId,...d,...i,ref:e})})});SS.displayName=mg;var xS="AccordionContent",RS=mt.forwardRef((n,e)=>{const{__scopeAccordion:t,...i}=n,a=id(lr,t),l=Vy(xS,t),c=Py(t);return S.jsx(VL,{role:"region","aria-labelledby":l.triggerId,"data-orientation":a.orientation,...c,...i,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});RS.displayName=xS;function CS(n){return n?"open":"closed"}var QL=vS,KL=TS,XL=AS,WL=SS,ZL=RS;function JL({...n}){return S.jsx(QL,{"data-slot":"accordion",...n})}function e6({className:n,...e}){return S.jsx(KL,{"data-slot":"accordion-item",className:Xe("border-b",n),...e})}function t6({className:n,children:e,...t}){return S.jsx(XL,{className:"flex",children:S.jsxs(WL,{"data-slot":"accordion-trigger",className:Xe("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",n),...t,children:[e,S.jsx(nL,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function n6({className:n,children:e,...t}){return S.jsx(ZL,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...t,children:S.jsx("div",{className:Xe("pt-0 pb-4",n),children:e})})}const r6=({domain:n})=>S.jsxs(e6,{value:n.id,className:"bg-input rounded-md border",children:[S.jsxs(t6,{className:"relative flex items-center gap-4 p-2 hover:no-underline",children:[S.jsx("div",{className:"bg-accent absolute top-0 left-0 h-full rounded-md",style:{width:`${n.score}%`}}),S.jsx("div",{className:Xe("z-10 flex size-8 items-center justify-center","text-secondary-foreground bg-card rounded-full border-2 text-[0.625rem] font-medium"),style:{borderColor:n.color},children:n.score}),S.jsx("div",{className:"z-10 flex flex-1 items-center gap-2",children:S.jsx("h4",{className:"text-primary-foreground flex-1 text-xs font-medium lg:text-sm",children:n.name})})]}),S.jsx(n6,{children:S.jsx("div",{className:"mt-2 space-y-2 px-3",children:n.skills.map(e=>S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"flex-1 text-xs font-semibold",children:e.name}),S.jsxs("div",{className:"text-xs font-medium",children:[e.score,"%"]})]},e.id))})})]}),i6=864e5,s6=6e4,a6=36e5,uT=Symbol.for("constructDateFrom");function Lo(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&uT in n?n[uT](e):n instanceof Date?new n.constructor(e):new Date(e)}function Fn(n,e){return Lo(n,n)}function o6(n,e,t){const i=Fn(n);return isNaN(e)?Lo(n,NaN):(e&&i.setDate(i.getDate()+e),i)}function l6(n,e,t){const i=Fn(n);if(isNaN(e))return Lo(n,NaN);if(!e)return i;const a=i.getDate(),l=Lo(n,i.getTime());l.setMonth(i.getMonth()+e+1,0);const c=l.getDate();return a>=c?l:(i.setFullYear(l.getFullYear(),l.getMonth(),a),i)}function fu(n,e,t){const{years:i=0,months:a=0,weeks:l=0,days:c=0,hours:d=0,minutes:m=0,seconds:p=0}=e,v=Fn(n),_=a||i?l6(v,a+i*12):v,E=c||l?o6(_,c+l*7):_,w=m+d*60,k=(p+w*60)*1e3;return Lo(n,+E+k)}let u6={};function c6(){return u6}function cT(n){const e=Fn(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Ts(n,...e){const t=Lo.bind(null,e.find(i=>typeof i=="object"));return e.map(t)}function fT(n,e){const t=Fn(n);return t.setHours(0,0,0,0),t}function f6(n,e,t){const[i,a]=Ts(t==null?void 0:t.in,n,e),l=fT(i),c=fT(a),d=+l-cT(l),m=+c-cT(c);return Math.round((d-m)/i6)}function Ru(n,e){const t=+Fn(n)-+Fn(e);return t<0?-1:t>0?1:t}function h6(n,e,t){const[i,a]=Ts(t==null?void 0:t.in,n,e),l=i.getFullYear()-a.getFullYear(),c=i.getMonth()-a.getMonth();return l*12+c}function d6(n,e,t){const[i,a]=Ts(t==null?void 0:t.in,n,e);return i.getFullYear()-a.getFullYear()}function m6(n,e,t){const[i,a]=Ts(t==null?void 0:t.in,n,e),l=hT(i,a),c=Math.abs(f6(i,a));i.setDate(i.getDate()-l*c);const d=+(hT(i,a)===-l),m=l*(c-d);return m===0?0:m}function hT(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function Ly(n){return e=>{const i=(n?Math[n]:Math.trunc)(e);return i===0?0:i}}function p6(n,e,t){const[i,a]=Ts(t==null?void 0:t.in,n,e),l=(+i-+a)/a6;return Ly(t==null?void 0:t.roundingMethod)(l)}function IS(n,e){return+Fn(n)-+Fn(e)}function g6(n,e,t){const i=IS(n,e)/s6;return Ly(t==null?void 0:t.roundingMethod)(i)}function y6(n,e){const t=Fn(n);return t.setHours(23,59,59,999),t}function v6(n,e){const t=Fn(n),i=t.getMonth();return t.setFullYear(t.getFullYear(),i+1,0),t.setHours(23,59,59,999),t}function _6(n,e){const t=Fn(n);return+y6(t)==+v6(t)}function b6(n,e,t){const[i,a,l]=Ts(t==null?void 0:t.in,n,n,e),c=Ru(a,l),d=Math.abs(h6(a,l));if(d<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-c*d);let m=Ru(a,l)===-c;_6(i)&&d===1&&Ru(i,l)===1&&(m=!1);const p=c*(d-+m);return p===0?0:p}function E6(n,e,t){const i=IS(n,e)/1e3;return Ly(t==null?void 0:t.roundingMethod)(i)}function T6(n,e,t){const[i,a]=Ts(t==null?void 0:t.in,n,e),l=Ru(i,a),c=Math.abs(d6(i,a));i.setFullYear(1584),a.setFullYear(1584);const d=Ru(i,a)===-l,m=l*(c-+d);return m===0?0:m}function w6(n,e){const[t,i]=Ts(n,e.start,e.end);return{start:t,end:i}}const A6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},S6=(n,e,t)=>{let i;const a=A6[n];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function Np(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const x6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},R6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},C6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},I6={date:Np({formats:x6,defaultWidth:"full"}),time:Np({formats:R6,defaultWidth:"full"}),dateTime:Np({formats:C6,defaultWidth:"full"})},N6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},D6=(n,e,t,i)=>N6[n];function hu(n){return(e,t)=>{const i=t!=null&&t.context?String(t.context):"standalone";let a;if(i==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,d=t!=null&&t.width?String(t.width):c;a=n.formattingValues[d]||n.formattingValues[c]}else{const c=n.defaultWidth,d=t!=null&&t.width?String(t.width):n.defaultWidth;a=n.values[d]||n.values[c]}const l=n.argumentCallback?n.argumentCallback(e):e;return a[l]}}const O6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},M6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},k6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},P6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},V6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},L6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},U6=(n,e)=>{const t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},j6={ordinalNumber:U6,era:hu({values:O6,defaultWidth:"wide"}),quarter:hu({values:M6,defaultWidth:"wide",argumentCallback:n=>n-1}),month:hu({values:k6,defaultWidth:"wide"}),day:hu({values:P6,defaultWidth:"wide"}),dayPeriod:hu({values:V6,defaultWidth:"wide",formattingValues:L6,defaultFormattingWidth:"wide"})};function du(n){return(e,t={})=>{const i=t.width,a=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],d=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],m=Array.isArray(d)?B6(d,_=>_.test(c)):z6(d,_=>_.test(c));let p;p=n.valueCallback?n.valueCallback(m):m,p=t.valueCallback?t.valueCallback(p):p;const v=e.slice(c.length);return{value:p,rest:v}}}function z6(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function B6(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function H6(n){return(e,t={})=>{const i=e.match(n.matchPattern);if(!i)return null;const a=i[0],l=e.match(n.parsePattern);if(!l)return null;let c=n.valueCallback?n.valueCallback(l[0]):l[0];c=t.valueCallback?t.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}const q6=/^(\d+)(th|st|nd|rd)?/i,F6=/\d+/i,G6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$6={any:[/^b/i,/^(a|c)/i]},Y6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Q6={any:[/1/i,/2/i,/3/i,/4/i]},K6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},X6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},W6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Z6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},J6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},e3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},t3={ordinalNumber:H6({matchPattern:q6,parsePattern:F6,valueCallback:n=>parseInt(n,10)}),era:du({matchPatterns:G6,defaultMatchWidth:"wide",parsePatterns:$6,defaultParseWidth:"any"}),quarter:du({matchPatterns:Y6,defaultMatchWidth:"wide",parsePatterns:Q6,defaultParseWidth:"any",valueCallback:n=>n+1}),month:du({matchPatterns:K6,defaultMatchWidth:"wide",parsePatterns:X6,defaultParseWidth:"any"}),day:du({matchPatterns:W6,defaultMatchWidth:"wide",parsePatterns:Z6,defaultParseWidth:"any"}),dayPeriod:du({matchPatterns:J6,defaultMatchWidth:"any",parsePatterns:e3,defaultParseWidth:"any"})},n3={code:"en-US",formatDistance:S6,formatLong:I6,formatRelative:D6,localize:j6,match:t3,options:{weekStartsOn:0,firstWeekContainsDate:1}},r3=["years","months","weeks","days","hours","minutes","seconds"];function i3(n,e){const t=c6(),i=(e==null?void 0:e.locale)??t.locale??n3,a=(e==null?void 0:e.format)??r3,l=e==null?void 0:e.delimiter;return i.formatDistance?a.reduce((d,m)=>{const p=`x${m.replace(/(^.)/,_=>_.toUpperCase())}`,v=n[m];return v!==void 0&&n[m]?d.concat(i.formatDistance(p,v)):d},[]).join(l):""}function s3(n,e){const{start:t,end:i}=w6(e==null?void 0:e.in,n),a={},l=T6(i,t);l&&(a.years=l);const c=fu(t,{years:a.years}),d=b6(i,c);d&&(a.months=d);const m=fu(c,{months:a.months}),p=m6(i,m);p&&(a.days=p);const v=fu(m,{days:a.days}),_=p6(i,v);_&&(a.hours=_);const E=fu(v,{hours:a.hours}),w=g6(i,E);w&&(a.minutes=w);const C=fu(E,{minutes:a.minutes}),k=E6(i,C);return k&&(a.seconds=k),a}const po={name:{icon:S.jsx(uL,{className:"size-5 shrink-0"}),label:"Name",value:"anonymous"},score:{icon:S.jsx(hL,{className:"size-5 shrink-0"}),label:"Score",value:"0%"},date:{icon:S.jsx(WV,{className:"size-5 shrink-0"}),label:"Date",value:new Date().toLocaleDateString()},duration:{icon:S.jsx(bL,{className:"size-5 shrink-0"}),label:"Duration",value:"0 min"},group:{icon:S.jsx(TL,{className:"size-5 shrink-0"}),label:"Group",value:"digital-competence.vn"}};function a3({results:n,domainsMap:e,skillsMap:t}){const[i,a]=R.useState([]),[l,c]=R.useState(po);return R.useEffect(()=>{n&&(a(CL(n,e,t)),c({name:{...po.name,value:n.name||"anonymous"},score:{...po.score,value:`${n.overallScore}% - ${n.overallLevel}`},date:{...po.date,value:new Date(n.completedAt).toLocaleDateString()},duration:{...po.duration,value:i3(s3({start:new Date(n.startedAt),end:new Date(n.completedAt)}),{format:["hours","minutes"],delimiter:" "})},group:{...po.group}}))},[n,e,t]),S.jsx("div",{className:"w-full overflow-x-hidden",children:S.jsxs("div",{className:"mx-auto min-h-screen max-w-7xl px-4 py-6 sm:px-6",children:[S.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:gap-8",children:[S.jsxs("div",{className:"flex-1 space-y-4",children:[S.jsx("h1",{className:"text-xl leading-normal font-semibold md:text-3xl",children:"Report"}),S.jsxs("p",{className:"text-foreground leading-relaxed",children:["Report for ",S.jsx("span",{className:"text-secondary-ring italic",children:l.name.value})," on The Digital Competence Wheel.",S.jsx("br",{}),"The assessment was completed on ",l.date.value,"."]}),S.jsxs("p",{className:"text-accent-foreground text-sm leading-relaxed",children:["Each bar represents a competence with a possible score between 0 and 100%. The higher the score, the stronger the competence.",S.jsx("br",{}),S.jsx("br",{}),"Tip: Hover/Click on a bar for more details on that competence."]})]}),S.jsx("div",{className:"space-y-2 lg:w-1/4",children:Object.entries(l).map(([d,m])=>S.jsxs("div",{className:"bg-input flex items-center gap-3 rounded-md border p-2",children:[S.jsx("div",{className:"border-secondary-ring bg-secondary/50 text-secondary-foreground flex items-center justify-center rounded-full border p-2",children:m.icon}),S.jsxs("div",{className:"flex-1 space-y-1",children:[S.jsx("div",{className:"text-primary-ring text-sm font-semibold",children:m.label}),S.jsx("div",{className:"text-xs font-semibold",children:m.value})]})]},d))})]}),S.jsxs("div",{className:"mt-12 flex flex-col gap-4 md:flex-row",children:[S.jsxs("div",{className:"flex flex-col gap-2 sm:max-w-xs lg:max-w-md",children:[S.jsx("h2",{className:"text-base font-medium",children:"Digital Competence Domains and Skills"}),S.jsx("p",{className:"text-accent-foreground text-sm",children:"The key components of digital competence are summarised as below."}),S.jsx(JL,{type:"single",collapsible:!0,className:"my-4 w-full space-y-2",children:i.map(d=>S.jsx(r6,{domain:d},d.id))})]}),S.jsxs("div",{className:"flex flex-1 flex-col items-center gap-4 md:gap-8",children:[S.jsx("h2",{className:"text-base font-medium",children:"Digital Competences"}),S.jsx(QT,{domains:i})]})]})]})})}function o3({results:n,domainsMap:e}){const[t,i]=R.useState([]),[a,l]=R.useState({}),[c,d]=R.useState([]),m=(p,v,_)=>{const E=[];return p.forEach(w=>{if(v[w.id]){const C=v[w.id];E.push({question:w,answer:C,score:Math.round(C/7*100),domain:_[w.domainId||""]})}}),E.sort((w,C)=>C.score-w.score)};return R.useEffect(()=>{async function p(){const v=await w1().then(_=>_.filter(E=>E.type==="rating"));i(v),l(n.answers)}n&&p()},[n]),R.useEffect(()=>{t.length>0&&Object.keys(a).length>0&&d(m(t,a,e))},[t,a,e]),S.jsx("div",{className:"w-full overflow-x-hidden",children:S.jsxs("div",{className:"mx-auto min-h-screen max-w-7xl px-4 py-6 sm:px-6",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsx("h1",{className:"text-xl leading-normal font-semibold md:text-3xl",children:"Question Scores"}),S.jsx("p",{className:"text-foreground leading-relaxed",children:"The chart below shows the score on all rating questions in the assessment."})]}),S.jsx("div",{className:"mt-4 grid grid-cols-1 gap-2 md:grid-cols-2 lg:grid-cols-4",children:Object.entries(e).map(([p,v])=>S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"size-3 shrink-0 rounded-full",style:{background:v.color}}),S.jsx("h4",{className:"text-sm",children:v.name})]},p))}),S.jsx("div",{className:"mt-12 grid grid-cols-1 gap-4 md:grid-cols-2",children:c.map((p,v)=>S.jsxs(oS,{children:[S.jsx(lS,{children:S.jsxs("div",{className:"bg-input relative flex items-center gap-4 rounded-md border p-2",children:[S.jsx("div",{className:"bg-accent absolute top-0 left-0 h-full rounded-md",style:{width:`${p.score}%`}}),S.jsx("div",{className:"z-10 size-3 shrink-0 rounded-full",style:{background:p.domain.color}}),S.jsx("div",{className:"text-primary-foreground z-10 flex-1 text-left text-sm font-medium",children:p.question.title}),S.jsxs("div",{className:"z-10 text-xs font-semibold",children:[p.score,"%"]})]})}),S.jsx(uS,{className:"bg-popover border-2 p-4 text-sm shadow-lg backdrop-blur-sm",borderColor:p.domain.color,children:S.jsxs("div",{className:"flex flex-col items-start justify-between gap-2",children:[S.jsx("h3",{className:"mb-2 font-semibold",children:p.question.title}),S.jsx("div",{children:p.question.statement}),S.jsx("div",{className:"text-accent-foreground text-xs",children:p.question.description})]})})]},v))})]})})}function l3(){const{assessmentId:n}=ST(),{domainsMap:e,skillsMap:t,isLoading:i}=Yh(),[a,l]=R.useState(null),[c,d]=R.useState(!0);return R.useEffect(()=>{async function m(){if(!n)return;const p=await UP(n);p&&!i&&(l(p),d(!1))}m()},[n,e,t,i]),c||!a?S.jsx(Ny,{message:"Loading report..."}):S.jsxs(Eg,{children:[S.jsx(Cr,{path:"/",element:S.jsx(rC,{to:"result",replace:!0})}),S.jsx(Cr,{path:"result",element:S.jsx(a3,{results:a,domainsMap:e,skillsMap:t})}),S.jsx(Cr,{path:"questions",element:S.jsx(o3,{results:a,domainsMap:e})})]})}var Uy="Progress",jy=100,[u3,C3]=Xo(Uy),[c3,f3]=u3(Uy),NS=R.forwardRef((n,e)=>{const{__scopeProgress:t,value:i=null,max:a,getValueLabel:l=h3,...c}=n;(a||a===0)&&!dT(a)&&console.error(d3(`${a}`,"Progress"));const d=dT(a)?a:jy;i!==null&&!mT(i,d)&&console.error(m3(`${i}`,"Progress"));const m=mT(i,d)?i:null,p=Sh(m)?l(m,d):void 0;return S.jsx(c3,{scope:t,value:m,max:d,children:S.jsx(ln.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Sh(m)?m:void 0,"aria-valuetext":p,role:"progressbar","data-state":MS(m,d),"data-value":m??void 0,"data-max":d,...c,ref:e})})});NS.displayName=Uy;var DS="ProgressIndicator",OS=R.forwardRef((n,e)=>{const{__scopeProgress:t,...i}=n,a=f3(DS,t);return S.jsx(ln.div,{"data-state":MS(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...i,ref:e})});OS.displayName=DS;function h3(n,e){return`${Math.round(n/e*100)}%`}function MS(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function Sh(n){return typeof n=="number"}function dT(n){return Sh(n)&&!isNaN(n)&&n>0}function mT(n,e){return Sh(n)&&!isNaN(n)&&n<=e&&n>=0}function d3(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${jy}\`.`}function m3(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${jy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var p3=NS,g3=OS;function y3({className:n,value:e,...t}){return S.jsx(p3,{"data-slot":"progress",className:Xe("bg-primary/25 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:S.jsx(g3,{"data-slot":"progress-indicator",className:Xe("h-full w-full flex-1 transition-all",e&&e>=80?"bg-success":e&&e>=60?"bg-primary":e&&e>=40?"bg-yellow-500":e&&e>=20?"bg-orange-500":"bg-destructive"),style:{transform:`translateX(-${100-(e||0)}%)`}})})}function v3({ctx:n,isOpen:e,isMobile:t}){const{questions:i,currentQuestionIndex:a,furthestQuestionIndex:l,onQuestionChange:c}=n,d=i.filter(_=>_.completed).length,m=i.length,p=m?d/m*100:0,v=i.slice(0,l+1);return S.jsxs(S.Fragment,{children:[S.jsx("div",{className:Xe("border-border border-b py-4",e||!t?"px-2":"px-1"),children:e||!t?S.jsxs("div",{className:"my-2 space-y-3 px-1",children:[S.jsx("h3",{className:"text-accent-foreground text-sm font-bold",children:"Progress"}),S.jsxs("div",{className:"flex justify-between text-xs",children:[S.jsx("span",{children:"Completed"}),S.jsxs("span",{children:[d,"/",m]})]}),S.jsx(y3,{value:p,className:"h-2"})]}):S.jsx("div",{className:Xe("text-center text-xs font-semibold",p>=80?"text-green-500":p>=60?"text-blue-500":p>=40?"text-yellow-500":p>=20?"text-orange-500":p==0?"text-gray-200":"text-red-500"),children:p.toFixed(1)})}),S.jsx("div",{className:"px-1 py-2",children:S.jsx("div",{className:"max-h-100 space-y-1 overflow-y-auto",children:v.map((_,E)=>{const w=E===a,C=_.type==="static"?l>E:_.completed;return S.jsxs("button",{onClick:k=>{k.stopPropagation(),c(_.id)},className:`flex w-full items-center gap-3 rounded p-1 text-left transition-colors ${w?"bg-sidebar-primary text-white":C?"text-sidebar-accent-foreground hover:bg-sidebar-accent":"text-sidebar-ring hover:bg-sidebar-accent"}`,children:[S.jsx("div",{className:"flex size-6 flex-shrink-0 items-center justify-center",children:C?S.jsx(Cy,{className:"text-success size-4"}):S.jsx("div",{className:`size-3 rounded-full border-2 ${w?"border-primary-ring":"border-ring"}`})}),S.jsx("span",{className:"flex-1 truncate text-xs",children:_.title})]},_.id)})})})]})}function _3({isOpen:n,isMobile:e}){const{assessmentId:t}=ST(),i=or(),a=[{label:"Results",icon:JV,href:`/report/${t}/result`},{label:"Questions",icon:fS,href:`/report/${t}/questions`}];return S.jsx("nav",{className:Xe("my-4 flex flex-col gap-2",n?"px-2":"px-1"),children:a.map(l=>{const c=l.icon,d=i.pathname===l.href;return S.jsxs(Iu,{to:l.href,className:Xe("nav-link flex items-center rounded py-2 text-sm",d?"bg-sidebar-primary text-white":"bg-sidebar text-sidebar-accent-foreground hover:bg-sidebar-accent",n||!e?"justify-start gap-2 px-2":"justify-center"),children:[S.jsx(c,{className:"size-4 shrink-0"}),S.jsx("span",{className:Xe("truncate",n||!e?"inline":"hidden"),children:l.label})]},l.href)})})}function b3(){const n=or(),[e,t]=R.useState(!1),[i,a]=R.useState(!1),l=R.useContext(Iy),c=/^\/assessment\//.test(n.pathname),d=/^\/report\//.test(n.pathname),m=[{label:"Home",icon:gL,href:"/"},{label:"What is Digital Competence?",icon:fS,href:"/info"}];R.useEffect(()=>{const _=()=>{a(window.innerWidth<1024)};return _(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]);const p=()=>{i&&t(_=>!_)},v=()=>c&&l?S.jsx(v3,{ctx:l,isOpen:e,isMobile:i}):d?S.jsx(_3,{isOpen:e,isMobile:i}):S.jsx("nav",{className:Xe("my-4 flex flex-col gap-2",e?"px-2":"px-1"),children:m.map(_=>{const E=_.icon,w=n.pathname===_.href;return S.jsxs(Iu,{to:_.href,className:Xe("nav-link flex items-center rounded py-2 text-sm",w?"bg-sidebar-primary text-white":"bg-sidebar text-sidebar-accent-foreground hover:bg-sidebar-accent",e||!i?"justify-start gap-2 px-2":"justify-center"),children:[S.jsx(E,{className:"size-4 shrink-0"}),S.jsx("span",{className:Xe("truncate",e||!i?"inline":"hidden"),children:_.label})]},_.href)})});return S.jsxs(S.Fragment,{children:[i&&e&&S.jsx("div",{className:"bg-opacity-30 fixed inset-0 z-30",onClick:()=>t(!1)}),S.jsxs("aside",{onClick:p,className:Xe("bg-sidebar border-sidebar z-40 shrink-0 border-r transition-all duration-300","flex flex-col justify-start",i?Xe("fixed top-0 left-0 h-full",e?"w-[240px]":"w-[40px]"):"relative min-h-screen w-[240px]"),children:[S.jsxs(Iu,{to:"/",className:"my-4 flex cursor-pointer flex-col items-center gap-2 py-4",children:[S.jsx("div",{className:"border-primary-ring flex size-6 items-center justify-center rounded-full border-2 lg:size-12",children:S.jsx("div",{className:"size-4 rounded-full bg-gradient-to-br from-green-400 to-blue-500 lg:size-6"})}),S.jsx("div",{className:Xe("text-foreground text-sm font-bold",e||!i?"block":"hidden"),children:"Digital Competence"})]}),S.jsx("hr",{className:"border-border"}),v()]})]})}const E3=({children:n,assessmentId:e})=>{const[t,i]=R.useState([]),[a,l]=R.useState({}),[c,d]=R.useState(""),[m,p]=R.useState(!0),[v,_]=R.useState(!1),{domainsMap:E,isLoading:w}=Yh();R.useEffect(()=>{async function J(){if(w)return;const te=await w1().then(ae=>ae.map(O=>{var x;return{...O,domain:O.domainId&&((x=E[O.domainId])==null?void 0:x.name)||O.domain}}));if(i(te.sort((ae,O)=>(ae.order??1e3)-(O.order??1e3))),e){const ae=await A1(e);ae?(i(O=>O.map(x=>({...x,completed:ae.answers[x.id]!==void 0}))),l(ae.answers||{}),d(ae.currentQuestionId||te[0].id),_(ae.completedAt!==void 0)):(Xf(e),l({}),d(te[0].id),_(!1))}p(!1)}J()},[e,E,w]);const C=R.useCallback((J,te)=>{l(ae=>{const O={...ae,[J]:te};return xp(e,O,J),O}),i(ae=>ae.map(O=>O.id===J?{...O,completed:!0}:O))},[e]),k=R.useCallback(J=>{d(J),xp(e,a,J)},[e,a]),P=R.useCallback(()=>{var J,te;i(ae=>ae.map(O=>({...O,completed:!1}))),l({}),d(((J=t[0])==null?void 0:J.id)||""),xp(e,{},((te=t[0])==null?void 0:te.id)||"")},[e,t]),j=R.useMemo(()=>t.findIndex(J=>J.id===c),[t,c]),U=R.useMemo(()=>Object.keys(a).map(J=>t.findIndex(te=>te.id===J)).filter(J=>J>=0),[a,t]),$=R.useMemo(()=>Math.max(j,Math.max(-1,...U)+1,0),[j,U]);return S.jsx(Iy.Provider,{value:{assessmentId:e,questions:t,answers:a,currentQuestionId:c,currentQuestionIndex:j,furthestQuestionIndex:$,onQuestionChange:k,onAnswer:C,resetAssessment:P,isLoading:m,isCompleted:v},children:n})},mu=({children:n})=>S.jsxs("div",{className:"bg-background text-foreground flex min-h-screen max-w-screen",children:[S.jsx(b3,{}),S.jsx("main",{className:"ml-[40px] flex-1 lg:ml-0",children:n})]}),T3=()=>{const n=or(),e=/^\/assessment\//.test(n.pathname);let t;if(e){const a=n.pathname.match(/^\/assessment\/([^/]+)/);t=a?a[1]:void 0}const i=S.jsxs(Eg,{children:[S.jsx(Cr,{path:"/",element:S.jsx(mu,{children:S.jsx(QE,{})})}),S.jsx(Cr,{path:"info",element:S.jsx(mu,{children:S.jsx(QE,{})})}),S.jsx(Cr,{path:"assessment/:assessmentId",element:S.jsx(mu,{children:S.jsx(IL,{})})}),S.jsx(Cr,{path:"report/:assessmentId/*",element:S.jsx(mu,{children:S.jsx(l3,{})})}),S.jsx(Cr,{path:"*",element:S.jsx(mu,{children:S.jsx(Ny,{message:"404 Not Found"})})})]});return e&&t?S.jsx(E3,{assessmentId:t,children:i}):i};function w3(){return S.jsx(CC,{basename:"/digital-competence/",children:S.jsx(Eg,{children:S.jsx(Cr,{path:"/*",element:S.jsx(T3,{})})})})}dR.createRoot(document.getElementById("root")).render(S.jsx(R.StrictMode,{children:S.jsx(w3,{})}));
